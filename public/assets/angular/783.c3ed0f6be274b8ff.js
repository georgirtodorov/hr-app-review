(self.webpackChunkmaterial_dashboard_angular=self.webpackChunkmaterial_dashboard_angular||[]).push([[783],{3783:(Je,be,I)=>{"use strict";I.r(be),I.d(be,{AdminLayoutModule:()=>fu});var ue=I(9299),A=I(6895),r=I(4006),u=I(9727),e=I(4650),D=I(4859),p=I(266);let g=(()=>{class i{constructor(){}startAnimationForLineChart(t){let n,o,a;n=0,o=80,a=500,t.on("draw",function(_){"line"===_.type||"area"===_.type?_.element.animate({d:{begin:600,dur:700,from:_.path.clone().scale(1,0).translate(0,_.chartRect.height()).stringify(),to:_.path.clone().stringify(),easing:u.Svg.Easing.easeOutQuint}}):"point"===_.type&&(n++,_.element.animate({opacity:{begin:80*n,dur:500,from:0,to:1,easing:"ease"}}))}),n=0}startAnimationForBarChart(t){let n,o,a;n=0,o=80,a=500,t.on("draw",function(_){"bar"===_.type&&(n++,_.element.animate({opacity:{begin:80*n,dur:500,from:0,to:1,easing:"ease"}}))}),n=0}ngOnInit(){const n={lineSmooth:u.Interpolation.cardinal({tension:0}),low:0,high:50,chartPadding:{top:0,right:0,bottom:0,left:0}};var o=new u.Line("#dailySalesChart",{labels:["M","T","W","T","F","S","S"],series:[[12,17,7,17,23,18,38]]},n);this.startAnimationForLineChart(o);const _={lineSmooth:u.Interpolation.cardinal({tension:0}),low:0,high:1e3,chartPadding:{top:0,right:0,bottom:0,left:0}};var N=new u.Line("#completedTasksChart",{labels:["12p","3p","6p","9p","12p","3a","6a","9a"],series:[[230,750,450,300,280,240,200,190]]},_);this.startAnimationForLineChart(N);var oe=new u.Bar("#websiteViewsChart",{labels:["J","F","M","A","M","J","J","A","S","O","N","D"],series:[[542,443,320,780,553,453,326,434,568,610,756,895]]},{axisX:{showGrid:!1},low:0,high:1e3,chartPadding:{top:0,right:5,bottom:0,left:0}},[["screen and (max-width: 640px)",{seriesBarDistance:5,axisX:{labelInterpolationFnc:function(Ne){return Ne[0]}}}]]);this.startAnimationForBarChart(oe)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-dashboard"]],decls:348,vars:18,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-lg-3","col-md-6","col-sm-6"],[1,"card","card-stats"],[1,"card-header","card-header-warning","card-header-icon"],[1,"card-icon"],[1,"material-icons"],[1,"card-category"],[1,"card-title"],[1,"card-footer"],[1,"stats"],[1,"material-icons","text-danger"],["href","javascript:void(0)"],[1,"card-header","card-header-success","card-header-icon"],[1,"card-header","card-header-danger","card-header-icon"],[1,"card-header","card-header-info","card-header-icon"],[1,"fa","fa-twitter"],[1,"col-md-4"],[1,"card","card-chart"],[1,"card-header","card-header-success"],["id","dailySalesChart",1,"ct-chart"],[1,"card-body"],[1,"text-success"],[1,"fa","fa-long-arrow-up"],[1,"card-header","card-header-warning"],["id","websiteViewsChart",1,"ct-chart"],[1,"card-header","card-header-danger"],["id","completedTasksChart",1,"ct-chart"],[1,"col-lg-6","col-md-12"],[1,"card"],[1,"card-header","card-header-tabs","card-header-primary"],[1,"nav-tabs-navigation"],[1,"nav-tabs-wrapper"],[1,"nav-tabs-title"],["data-tabs","tabs",1,"nav","nav-tabs"],[1,"nav-item"],["mat-button","","href","#profile","data-toggle","tab",1,"nav-link","active"],[1,"ripple-container"],["mat-button","","href","#messages","data-toggle","tab",1,"nav-link"],["mat-button","","href","#settings","data-toggle","tab",1,"nav-link"],[1,"tab-content"],["id","profile",1,"tab-pane","active"],[1,"table"],[1,"form-check"],[1,"form-check-label"],["type","checkbox","value","","checked","",1,"form-check-input"],[1,"form-check-sign"],[1,"check"],[1,"td-actions","text-right"],["mat-raised-button","","type","button","matTooltip","Edit Task",1,"btn","btn-primary","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition"],["mat-raised-button","","type","button","matTooltip","Remove",1,"btn","btn-danger","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition"],["type","checkbox","value","",1,"form-check-input"],["id","messages",1,"tab-pane"],["id","settings",1,"tab-pane"],[1,"card-body","table-responsive"],[1,"table","table-hover"],[1,"text-warning"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",6)(7,"i",7),e._uU(8,"content_copy"),e.qZA()(),e.TgZ(9,"p",8),e._uU(10,"Used Space"),e.qZA(),e.TgZ(11,"h3",9),e._uU(12,"49/50 "),e.TgZ(13,"small"),e._uU(14,"GB"),e.qZA()()(),e.TgZ(15,"div",10)(16,"div",11)(17,"i",12),e._uU(18,"warning"),e.qZA(),e.TgZ(19,"a",13),e._uU(20,"Get More Space..."),e.qZA()()()()(),e.TgZ(21,"div",3)(22,"div",4)(23,"div",14)(24,"div",6)(25,"i",7),e._uU(26,"store"),e.qZA()(),e.TgZ(27,"p",8),e._uU(28,"Revenue"),e.qZA(),e.TgZ(29,"h3",9),e._uU(30,"$34,245"),e.qZA()(),e.TgZ(31,"div",10)(32,"div",11)(33,"i",7),e._uU(34,"date_range"),e.qZA(),e._uU(35," Last 24 Hours "),e.qZA()()()(),e.TgZ(36,"div",3)(37,"div",4)(38,"div",15)(39,"div",6)(40,"i",7),e._uU(41,"info_outline"),e.qZA()(),e.TgZ(42,"p",8),e._uU(43,"Fixed Issues"),e.qZA(),e.TgZ(44,"h3",9),e._uU(45,"75"),e.qZA()(),e.TgZ(46,"div",10)(47,"div",11)(48,"i",7),e._uU(49,"local_offer"),e.qZA(),e._uU(50," Tracked from Github "),e.qZA()()()(),e.TgZ(51,"div",3)(52,"div",4)(53,"div",16)(54,"div",6),e._UZ(55,"i",17),e.qZA(),e.TgZ(56,"p",8),e._uU(57,"Followers"),e.qZA(),e.TgZ(58,"h3",9),e._uU(59,"+245"),e.qZA()(),e.TgZ(60,"div",10)(61,"div",11)(62,"i",7),e._uU(63,"update"),e.qZA(),e._uU(64," Just Updated "),e.qZA()()()()(),e.TgZ(65,"div",2)(66,"div",18)(67,"div",19)(68,"div",20),e._UZ(69,"div",21),e.qZA(),e.TgZ(70,"div",22)(71,"h4",9),e._uU(72,"Daily Sales"),e.qZA(),e.TgZ(73,"p",8)(74,"span",23),e._UZ(75,"i",24),e._uU(76," 55% "),e.qZA(),e._uU(77," increase in today sales."),e.qZA()(),e.TgZ(78,"div",10)(79,"div",11)(80,"i",7),e._uU(81,"access_time"),e.qZA(),e._uU(82," updated 4 minutes ago "),e.qZA()()()(),e.TgZ(83,"div",18)(84,"div",19)(85,"div",25),e._UZ(86,"div",26),e.qZA(),e.TgZ(87,"div",22)(88,"h4",9),e._uU(89,"Email Subscriptions"),e.qZA(),e.TgZ(90,"p",8),e._uU(91,"Last Campaign Performance"),e.qZA()(),e.TgZ(92,"div",10)(93,"div",11)(94,"i",7),e._uU(95,"access_time"),e.qZA(),e._uU(96," campaign sent 2 days ago "),e.qZA()()()(),e.TgZ(97,"div",18)(98,"div",19)(99,"div",27),e._UZ(100,"div",28),e.qZA(),e.TgZ(101,"div",22)(102,"h4",9),e._uU(103,"Completed Tasks"),e.qZA(),e.TgZ(104,"p",8),e._uU(105,"Last Campaign Performance"),e.qZA()(),e.TgZ(106,"div",10)(107,"div",11)(108,"i",7),e._uU(109,"access_time"),e.qZA(),e._uU(110," campaign sent 2 days ago "),e.qZA()()()()(),e.TgZ(111,"div",2)(112,"div",29)(113,"div",30)(114,"div",31)(115,"div",32)(116,"div",33)(117,"span",34),e._uU(118,"Tasks:"),e.qZA(),e.TgZ(119,"ul",35)(120,"li",36)(121,"a",37)(122,"i",7),e._uU(123,"bug_report"),e.qZA(),e._uU(124," Bugs "),e._UZ(125,"div",38),e.qZA()(),e.TgZ(126,"li",36)(127,"a",39)(128,"i",7),e._uU(129,"code"),e.qZA(),e._uU(130," Website "),e._UZ(131,"div",38),e.qZA()(),e.TgZ(132,"li",36)(133,"a",40)(134,"i",7),e._uU(135,"cloud"),e.qZA(),e._uU(136," Server "),e._UZ(137,"div",38),e.qZA()()()()()(),e.TgZ(138,"div",22)(139,"div",41)(140,"div",42)(141,"table",43)(142,"tbody")(143,"tr")(144,"td")(145,"div",44)(146,"label",45),e._UZ(147,"input",46),e.TgZ(148,"span",47),e._UZ(149,"span",48),e.qZA()()()(),e.TgZ(150,"td"),e._uU(151,'Sign contract for "What are conference organizers afraid of?"'),e.qZA(),e.TgZ(152,"td",49)(153,"button",50)(154,"i",7),e._uU(155,"edit"),e.qZA()(),e.TgZ(156,"button",51)(157,"i",7),e._uU(158,"close"),e.qZA()()()(),e.TgZ(159,"tr")(160,"td")(161,"div",44)(162,"label",45),e._UZ(163,"input",52),e.TgZ(164,"span",47),e._UZ(165,"span",48),e.qZA()()()(),e.TgZ(166,"td"),e._uU(167,"Lines From Great Russian Literature? Or E-mails From My Boss?"),e.qZA(),e.TgZ(168,"td",49)(169,"button",50)(170,"i",7),e._uU(171,"edit"),e.qZA()(),e.TgZ(172,"button",51)(173,"i",7),e._uU(174,"close"),e.qZA()()()(),e.TgZ(175,"tr")(176,"td")(177,"div",44)(178,"label",45),e._UZ(179,"input",52),e.TgZ(180,"span",47),e._UZ(181,"span",48),e.qZA()()()(),e.TgZ(182,"td"),e._uU(183,"Flooded: One year later, assessing what was lost and what was found when a ravaging rain swept through metro Detroit "),e.qZA(),e.TgZ(184,"td",49)(185,"button",50)(186,"i",7),e._uU(187,"edit"),e.qZA()(),e.TgZ(188,"button",51)(189,"i",7),e._uU(190,"close"),e.qZA()()()(),e.TgZ(191,"tr")(192,"td")(193,"div",44)(194,"label",45),e._UZ(195,"input",46),e.TgZ(196,"span",47),e._UZ(197,"span",48),e.qZA()()()(),e.TgZ(198,"td"),e._uU(199,"Create 4 Invisible User Experiences you Never Knew About"),e.qZA(),e.TgZ(200,"td",49)(201,"button",50)(202,"i",7),e._uU(203,"edit"),e.qZA()(),e.TgZ(204,"button",51)(205,"i",7),e._uU(206,"close"),e.qZA()()()()()()(),e.TgZ(207,"div",53)(208,"table",43)(209,"tbody")(210,"tr")(211,"td")(212,"div",44)(213,"label",45),e._UZ(214,"input",46),e.TgZ(215,"span",47),e._UZ(216,"span",48),e.qZA()()()(),e.TgZ(217,"td"),e._uU(218,"Flooded: One year later, assessing what was lost and what was found when a ravaging rain swept through metro Detroit "),e.qZA(),e.TgZ(219,"td",49)(220,"button",50)(221,"i",7),e._uU(222,"edit"),e.qZA()(),e.TgZ(223,"button",51)(224,"i",7),e._uU(225,"close"),e.qZA()()()(),e.TgZ(226,"tr")(227,"td")(228,"div",44)(229,"label",45),e._UZ(230,"input",52),e.TgZ(231,"span",47),e._UZ(232,"span",48),e.qZA()()()(),e.TgZ(233,"td"),e._uU(234,'Sign contract for "What are conference organizers afraid of?"'),e.qZA(),e.TgZ(235,"td",49)(236,"button",50)(237,"i",7),e._uU(238,"edit"),e.qZA()(),e.TgZ(239,"button",51)(240,"i",7),e._uU(241,"close"),e.qZA()()()()()()(),e.TgZ(242,"div",54)(243,"table",43)(244,"tbody")(245,"tr")(246,"td")(247,"div",44)(248,"label",45),e._UZ(249,"input",52),e.TgZ(250,"span",47),e._UZ(251,"span",48),e.qZA()()()(),e.TgZ(252,"td"),e._uU(253,"Lines From Great Russian Literature? Or E-mails From My Boss?"),e.qZA(),e.TgZ(254,"td",49)(255,"button",50)(256,"i",7),e._uU(257,"edit"),e.qZA()(),e.TgZ(258,"button",51)(259,"i",7),e._uU(260,"close"),e.qZA()()()(),e.TgZ(261,"tr")(262,"td")(263,"div",44)(264,"label",45),e._UZ(265,"input",46),e.TgZ(266,"span",47),e._UZ(267,"span",48),e.qZA()()()(),e.TgZ(268,"td"),e._uU(269,"Flooded: One year later, assessing what was lost and what was found when a ravaging rain swept through metro Detroit "),e.qZA(),e.TgZ(270,"td",49)(271,"button",50)(272,"i",7),e._uU(273,"edit"),e.qZA()(),e.TgZ(274,"button",51)(275,"i",7),e._uU(276,"close"),e.qZA()()()(),e.TgZ(277,"tr")(278,"td")(279,"div",44)(280,"label",45),e._UZ(281,"input",46),e.TgZ(282,"span",47),e._UZ(283,"span",48),e.qZA()()()(),e.TgZ(284,"td"),e._uU(285,'Sign contract for "What are conference organizers afraid of?"'),e.qZA(),e.TgZ(286,"td",49)(287,"button",50)(288,"i",7),e._uU(289,"edit"),e.qZA()(),e.TgZ(290,"button",51)(291,"i",7),e._uU(292,"close"),e.qZA()()()()()()()()()()(),e.TgZ(293,"div",29)(294,"div",30)(295,"div",25)(296,"h4",9),e._uU(297,"Employees Stats"),e.qZA(),e.TgZ(298,"p",8),e._uU(299,"New employees on 15th September, 2016"),e.qZA()(),e.TgZ(300,"div",55)(301,"table",56)(302,"thead",57)(303,"th"),e._uU(304,"ID"),e.qZA(),e.TgZ(305,"th"),e._uU(306,"Name"),e.qZA(),e.TgZ(307,"th"),e._uU(308,"Salary"),e.qZA(),e.TgZ(309,"th"),e._uU(310,"Country"),e.qZA()(),e.TgZ(311,"tbody")(312,"tr")(313,"td"),e._uU(314,"1"),e.qZA(),e.TgZ(315,"td"),e._uU(316,"Dakota Rice"),e.qZA(),e.TgZ(317,"td"),e._uU(318,"$36,738"),e.qZA(),e.TgZ(319,"td"),e._uU(320,"Niger"),e.qZA()(),e.TgZ(321,"tr")(322,"td"),e._uU(323,"2"),e.qZA(),e.TgZ(324,"td"),e._uU(325,"Minerva Hooper"),e.qZA(),e.TgZ(326,"td"),e._uU(327,"$23,789"),e.qZA(),e.TgZ(328,"td"),e._uU(329,"Cura\xe7ao"),e.qZA()(),e.TgZ(330,"tr")(331,"td"),e._uU(332,"3"),e.qZA(),e.TgZ(333,"td"),e._uU(334,"Sage Rodriguez"),e.qZA(),e.TgZ(335,"td"),e._uU(336,"$56,142"),e.qZA(),e.TgZ(337,"td"),e._uU(338,"Netherlands"),e.qZA()(),e.TgZ(339,"tr")(340,"td"),e._uU(341,"4"),e.qZA(),e.TgZ(342,"td"),e._uU(343,"Philip Chaney"),e.qZA(),e.TgZ(344,"td"),e._uU(345,"$38,735"),e.qZA(),e.TgZ(346,"td"),e._uU(347,"Korea, South"),e.qZA()()()()()()()()()()),2&t&&(e.xp6(153),e.Q6J("matTooltipPosition","above"),e.xp6(3),e.Q6J("matTooltipPosition","above"),e.xp6(13),e.Q6J("matTooltipPosition","above"),e.xp6(3),e.Q6J("matTooltipPosition","above"),e.xp6(13),e.Q6J("matTooltipPosition","above"),e.xp6(3),e.Q6J("matTooltipPosition","above"),e.xp6(13),e.Q6J("matTooltipPosition","above"),e.xp6(3),e.Q6J("matTooltipPosition","above"),e.xp6(16),e.Q6J("matTooltipPosition","above"),e.xp6(3),e.Q6J("matTooltipPosition","above"),e.xp6(13),e.Q6J("matTooltipPosition","above"),e.xp6(3),e.Q6J("matTooltipPosition","above"),e.xp6(16),e.Q6J("matTooltipPosition","above"),e.xp6(3),e.Q6J("matTooltipPosition","above"),e.xp6(13),e.Q6J("matTooltipPosition","above"),e.xp6(3),e.Q6J("matTooltipPosition","above"),e.xp6(13),e.Q6J("matTooltipPosition","above"),e.xp6(3),e.Q6J("matTooltipPosition","above"))},dependencies:[D.lW,D.zs,p.gM]}),i})();var d=I(5412);let c=(()=>{class i{constructor(t){this.data=t}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-table-list"]],decls:179,vars:0,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[1,"table-responsive"],[1,"table"],[1,"text-primary"],[1,"card","card-plain"],[1,"card-title","mt-0"],[1,"table","table-hover"],[1,""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),e._uU(7,"\u0421\u043f\u0438\u0441\u044a\u043a \u0441 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d\u0438 \u043f\u043e\u0442\u0440\u0442\u0435\u0431\u0438\u0442\u0435\u043b\u0438"),e.qZA(),e.TgZ(8,"p",7),e._uU(9," \u0410\u043c\u0430 \u0431\u0435\u0437 \u0437\u0430\u043f\u0438\u0441 \u0432 \u0435\u043c\u043f\u043b\u043e\u0438\u0438\u0441. \u0413\u043e\u0440\u0435 \u0441\u0435 \u0434\u043e\u0431\u0430\u0432\u044f \u043f\u0440\u043e\u0444\u0438\u043b \u0438 \u0432\u0435\u0434\u043d\u0430\u0433\u0430 \u0442\u0435 \u0440\u0435\u0434\u0438\u0440\u0435\u043a\u0442\u0432\u0430 \u0432 \u043f\u043b\u0430\u0442\u0444\u043e\u0440\u043c\u0430 \u0441\u044a\u0441 \u0441\u0435\u0439\u0444"),e.qZA()(),e.TgZ(10,"div",8)(11,"div",9)(12,"table",10)(13,"thead",11)(14,"th"),e._uU(15," ID "),e.qZA(),e.TgZ(16,"th"),e._uU(17," Name "),e.qZA(),e.TgZ(18,"th"),e._uU(19," Country "),e.qZA(),e.TgZ(20,"th"),e._uU(21," City "),e.qZA(),e.TgZ(22,"th"),e._uU(23," Salary "),e.qZA()(),e.TgZ(24,"tbody")(25,"tr")(26,"td"),e._uU(27," 1 "),e.qZA(),e.TgZ(28,"td"),e._uU(29," Dakota Rice "),e.qZA(),e.TgZ(30,"td"),e._uU(31," Niger "),e.qZA(),e.TgZ(32,"td"),e._uU(33," Oud-Turnhout "),e.qZA(),e.TgZ(34,"td",11),e._uU(35," $36,738 "),e.qZA()(),e.TgZ(36,"tr")(37,"td"),e._uU(38," 2 "),e.qZA(),e.TgZ(39,"td"),e._uU(40," Minerva Hooper "),e.qZA(),e.TgZ(41,"td"),e._uU(42," Cura\xe7ao "),e.qZA(),e.TgZ(43,"td"),e._uU(44," Sinaai-Waas "),e.qZA(),e.TgZ(45,"td",11),e._uU(46," $23,789 "),e.qZA()(),e.TgZ(47,"tr")(48,"td"),e._uU(49," 3 "),e.qZA(),e.TgZ(50,"td"),e._uU(51," Sage Rodriguez "),e.qZA(),e.TgZ(52,"td"),e._uU(53," Netherlands "),e.qZA(),e.TgZ(54,"td"),e._uU(55," Baileux "),e.qZA(),e.TgZ(56,"td",11),e._uU(57," $56,142 "),e.qZA()(),e.TgZ(58,"tr")(59,"td"),e._uU(60," 4 "),e.qZA(),e.TgZ(61,"td"),e._uU(62," Philip Chaney "),e.qZA(),e.TgZ(63,"td"),e._uU(64," Korea, South "),e.qZA(),e.TgZ(65,"td"),e._uU(66," Overland Park "),e.qZA(),e.TgZ(67,"td",11),e._uU(68," $38,735 "),e.qZA()(),e.TgZ(69,"tr")(70,"td"),e._uU(71," 5 "),e.qZA(),e.TgZ(72,"td"),e._uU(73," Doris Greene "),e.qZA(),e.TgZ(74,"td"),e._uU(75," Malawi "),e.qZA(),e.TgZ(76,"td"),e._uU(77," Feldkirchen in K\xe4rnten "),e.qZA(),e.TgZ(78,"td",11),e._uU(79," $63,542 "),e.qZA()(),e.TgZ(80,"tr")(81,"td"),e._uU(82," 6 "),e.qZA(),e.TgZ(83,"td"),e._uU(84," Mason Porter "),e.qZA(),e.TgZ(85,"td"),e._uU(86," Chile "),e.qZA(),e.TgZ(87,"td"),e._uU(88," Gloucester "),e.qZA(),e.TgZ(89,"td",11),e._uU(90," $78,615 "),e.qZA()()()()()()()(),e.TgZ(91,"div",3)(92,"div",12)(93,"div",5)(94,"h4",13),e._uU(95," Table on Plain Background"),e.qZA(),e.TgZ(96,"p",7),e._uU(97," Here is a subtitle for this table"),e.qZA()(),e.TgZ(98,"div",8)(99,"div",9)(100,"table",14)(101,"thead",15)(102,"th"),e._uU(103," ID "),e.qZA(),e.TgZ(104,"th"),e._uU(105," Name "),e.qZA(),e.TgZ(106,"th"),e._uU(107," Country "),e.qZA(),e.TgZ(108,"th"),e._uU(109," City "),e.qZA(),e.TgZ(110,"th"),e._uU(111," Salary "),e.qZA()(),e.TgZ(112,"tbody")(113,"tr")(114,"td"),e._uU(115," 1 "),e.qZA(),e.TgZ(116,"td"),e._uU(117," Dakota Rice "),e.qZA(),e.TgZ(118,"td"),e._uU(119," Niger "),e.qZA(),e.TgZ(120,"td"),e._uU(121," Oud-Turnhout "),e.qZA(),e.TgZ(122,"td"),e._uU(123," $36,738 "),e.qZA()(),e.TgZ(124,"tr")(125,"td"),e._uU(126," 2 "),e.qZA(),e.TgZ(127,"td"),e._uU(128," Minerva Hooper "),e.qZA(),e.TgZ(129,"td"),e._uU(130," Cura\xe7ao "),e.qZA(),e.TgZ(131,"td"),e._uU(132," Sinaai-Waas "),e.qZA(),e.TgZ(133,"td"),e._uU(134," $23,789 "),e.qZA()(),e.TgZ(135,"tr")(136,"td"),e._uU(137," 3 "),e.qZA(),e.TgZ(138,"td"),e._uU(139," Sage Rodriguez "),e.qZA(),e.TgZ(140,"td"),e._uU(141," Netherlands "),e.qZA(),e.TgZ(142,"td"),e._uU(143," Baileux "),e.qZA(),e.TgZ(144,"td"),e._uU(145," $56,142 "),e.qZA()(),e.TgZ(146,"tr")(147,"td"),e._uU(148," 4 "),e.qZA(),e.TgZ(149,"td"),e._uU(150," Philip Chaney "),e.qZA(),e.TgZ(151,"td"),e._uU(152," Korea, South "),e.qZA(),e.TgZ(153,"td"),e._uU(154," Overland Park "),e.qZA(),e.TgZ(155,"td"),e._uU(156," $38,735 "),e.qZA()(),e.TgZ(157,"tr")(158,"td"),e._uU(159," 5 "),e.qZA(),e.TgZ(160,"td"),e._uU(161," Doris Greene "),e.qZA(),e.TgZ(162,"td"),e._uU(163," Malawi "),e.qZA(),e.TgZ(164,"td"),e._uU(165," Feldkirchen in K\xe4rnten "),e.qZA(),e.TgZ(166,"td"),e._uU(167," $63,542 "),e.qZA()(),e.TgZ(168,"tr")(169,"td"),e._uU(170," 6 "),e.qZA(),e.TgZ(171,"td"),e._uU(172," Mason Porter "),e.qZA(),e.TgZ(173,"td"),e._uU(174," Chile "),e.qZA(),e.TgZ(175,"td"),e._uU(176," Gloucester "),e.qZA(),e.TgZ(177,"td"),e._uU(178," $78,615 "),e.qZA()()()()()()()()()()())}}),i})();var l=I(9549),m=I(4144);let b=(()=>{class i{constructor(t){this.dialog=t}ngOnInit(){}openDialog(){this.dialog.open(c,{data:{},autoFocus:!1,disableClose:!0,width:"50vw"})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-user-profile"]],decls:69,vars:0,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],["mat-raised-button","",3,"click"],[1,"col-md-8"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[1,"col-md-5"],[1,"example-full-width"],["matInput","","placeholder","Company (disabled)","disabled",""],[1,"col-md-3"],["matInput","","placeholder","Username"],[1,"col-md-4"],["matInput","","placeholder","Email address","type","email"],[1,"col-md-6"],["matInput","","placeholder","Fist Name","type","text"],["matInput","","placeholder","Last Name","type","text"],[1,"col-md-12"],["matInput","","placeholder","Adress","type","text"],["matInput","","placeholder","City","type","text"],["matInput","","placeholder","Country","type","text"],["matInput","","placeholder","Postal Code","type","text"],["matInput","","placeholder","Lamborghini Mercy, Your chick she so thirsty, I'm in that two seat Lambo."],["mat-raised-button","","type","submit",1,"btn","btn-danger","pull-right"],[1,"clearfix"],[1,"card","card-profile"],[1,"card-avatar"],["href","javascript:void(0)"],["src","./assets/img/faces/marc.jpg",1,"img"],[1,"card-category","text-gray"],[1,"card-description"],["href","javascript:void(0)",1,"btn","btn-danger","btn-round"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"button",3),e.NdJ("click",function(){return n.openDialog()}),e._uU(4," Pick one "),e.qZA(),e._UZ(5,"br"),e.TgZ(6,"div",4)(7,"div",5)(8,"div",6)(9,"h4",7),e._uU(10,"Edit Profile"),e.qZA(),e.TgZ(11,"p",8),e._uU(12,"Complete your profile"),e.qZA()(),e.TgZ(13,"div",9)(14,"form")(15,"div",2)(16,"div",10)(17,"mat-form-field",11),e._UZ(18,"input",12),e.qZA()(),e.TgZ(19,"div",13)(20,"mat-form-field",11),e._UZ(21,"input",14),e.qZA()(),e.TgZ(22,"div",15)(23,"mat-form-field",11),e._UZ(24,"input",16),e.qZA()()(),e.TgZ(25,"div",2)(26,"div",17)(27,"mat-form-field",11),e._UZ(28,"input",18),e.qZA()(),e.TgZ(29,"div",17)(30,"mat-form-field",11),e._UZ(31,"input",19),e.qZA()()(),e.TgZ(32,"div",2)(33,"div",20)(34,"mat-form-field",11),e._UZ(35,"input",21),e.qZA()()(),e.TgZ(36,"div",2)(37,"div",15)(38,"mat-form-field",11),e._UZ(39,"input",22),e.qZA()(),e.TgZ(40,"div",15)(41,"mat-form-field",11),e._UZ(42,"input",23),e.qZA()(),e.TgZ(43,"div",15)(44,"mat-form-field",11),e._UZ(45,"input",24),e.qZA()()(),e.TgZ(46,"div",2)(47,"div",20)(48,"label"),e._uU(49,"About Me"),e.qZA(),e.TgZ(50,"mat-form-field",11),e._UZ(51,"textarea",25),e.qZA()()(),e.TgZ(52,"button",26),e._uU(53,"Update Profile"),e.qZA(),e._UZ(54,"div",27),e.qZA()()()(),e.TgZ(55,"div",15)(56,"div",28)(57,"div",29)(58,"a",30),e._UZ(59,"img",31),e.qZA()(),e.TgZ(60,"div",9)(61,"h6",32),e._uU(62,"CEO / Co-Founder"),e.qZA(),e.TgZ(63,"h4",7),e._uU(64,"Alec Thompson"),e.qZA(),e.TgZ(65,"p",33),e._uU(66," Don't be scared of the truth because we need to restart the human foundation in truth And I love you like Kanye loves Kanye I love Rick Owens\u2019 bed design but the back is... "),e.qZA(),e.TgZ(67,"a",34),e._uU(68,"Follow"),e.qZA()()()()()()())},dependencies:[r._Y,r.JL,r.F,D.lW,l.KE,m.Nt]}),i})(),h=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-typography"]],decls:95,vars:0,consts:[[1,"main-content"],[1,"container-fluid"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"card-category"],[1,"card-body"],["id","typography"],[1,"row"],[1,"tim-typo"],[1,"tim-note"],[1,"blockquote"],[1,"text-muted"],[1,"text-primary"],[1,"text-info"],[1,"text-success"],[1,"text-warning"],[1,"text-danger"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5,"Material Dashboard Heading"),e.qZA(),e.TgZ(6,"p",5),e._uU(7,"Created using Roboto Font Family"),e.qZA()(),e.TgZ(8,"div",6)(9,"div",7)(10,"div",4)(11,"h2"),e._uU(12,"Typography"),e.qZA()(),e.TgZ(13,"div",8)(14,"div",9)(15,"h1")(16,"span",10),e._uU(17,"Header 1"),e.qZA(),e._uU(18,"The Life of Material Dashboard "),e.qZA()(),e.TgZ(19,"div",9)(20,"h2")(21,"span",10),e._uU(22,"Header 2"),e.qZA(),e._uU(23,"The Life of Material Dashboard"),e.qZA()(),e.TgZ(24,"div",9)(25,"h3")(26,"span",10),e._uU(27,"Header 3"),e.qZA(),e._uU(28,"The Life of Material Dashboard"),e.qZA()(),e.TgZ(29,"div",9)(30,"h4")(31,"span",10),e._uU(32,"Header 4"),e.qZA(),e._uU(33,"The Life of Material Dashboard"),e.qZA()(),e.TgZ(34,"div",9)(35,"h5")(36,"span",10),e._uU(37,"Header 5"),e.qZA(),e._uU(38,"The Life of Material Dashboard"),e.qZA()(),e.TgZ(39,"div",9)(40,"h6")(41,"span",10),e._uU(42,"Header 6"),e.qZA(),e._uU(43,"The Life of Material Dashboard"),e.qZA()(),e.TgZ(44,"div",9)(45,"p")(46,"span",10),e._uU(47,"Paragraph"),e.qZA(),e._uU(48," I will be the leader of a company that ends up being worth billions of dollars, because I got the answers. I understand culture. I am the nucleus. I think that\u2019s a responsibility that I have, to push possibilities, to show people, this is the level that things could be at."),e.qZA()(),e.TgZ(49,"div",9)(50,"span",10),e._uU(51,"Quote"),e.qZA(),e.TgZ(52,"blockquote",11)(53,"p"),e._uU(54," I will be the leader of a company that ends up being worth billions of dollars, because I got the answers. I understand culture. I am the nucleus. I think that\u2019s a responsibility that I have, to push possibilities, to show people, this is the level that things could be at. "),e.qZA(),e.TgZ(55,"small"),e._uU(56," Kanye West, Musician "),e.qZA()()(),e.TgZ(57,"div",9)(58,"span",10),e._uU(59,"Muted Text"),e.qZA(),e.TgZ(60,"p",12),e._uU(61," I will be the leader of a company that ends up being worth billions of dollars, because I got the answers... "),e.qZA()(),e.TgZ(62,"div",9)(63,"span",10),e._uU(64,"Primary Text"),e.qZA(),e.TgZ(65,"p",13),e._uU(66," I will be the leader of a company that ends up being worth billions of dollars, because I got the answers... "),e.qZA()(),e.TgZ(67,"div",9)(68,"span",10),e._uU(69,"Info Text"),e.qZA(),e.TgZ(70,"p",14),e._uU(71," I will be the leader of a company that ends up being worth billions of dollars, because I got the answers... "),e.qZA()(),e.TgZ(72,"div",9)(73,"span",10),e._uU(74,"Success Text"),e.qZA(),e.TgZ(75,"p",15),e._uU(76," I will be the leader of a company that ends up being worth billions of dollars, because I got the answers... "),e.qZA()(),e.TgZ(77,"div",9)(78,"span",10),e._uU(79,"Warning Text"),e.qZA(),e.TgZ(80,"p",16),e._uU(81," I will be the leader of a company that ends up being worth billions of dollars, because I got the answers... "),e.qZA()(),e.TgZ(82,"div",9)(83,"span",10),e._uU(84,"Danger Text"),e.qZA(),e.TgZ(85,"p",17),e._uU(86," I will be the leader of a company that ends up being worth billions of dollars, because I got the answers... "),e.qZA()(),e.TgZ(87,"div",9)(88,"h2")(89,"span",10),e._uU(90,"Small Tag"),e.qZA(),e._uU(91," Header with small subtitle "),e._UZ(92,"br"),e.TgZ(93,"small"),e._uU(94,'Use "small" tag for the headers'),e.qZA()()()()()()()()())}}),i})(),f=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-icons"]],decls:22,vars:0,consts:[[1,"main-content"],[1,"container-fluid"],[1,"card","card-plain"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"card-category"],["target","_blank","href","https://fonts.google.com/icons"],[1,"row"],[1,"col-md-12"],[1,"card-body"],[1,"iframe-container","d-none","d-lg-block"],["src","https://material.io/design/iconography/system-icons.html#grid-and-keyline-shapes"],[1,"col-md-12","d-none","d-sm-block","d-md-block","d-lg-none","d-block","d-sm-none","text-center","ml-auto","mr-auto"],["href","https://fonts.google.com/icons","target","_blank"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h4",4),e._uU(5,"Material Design Icons"),e.qZA(),e.TgZ(6,"p",5),e._uU(7,"Handcrafted by our friends from "),e.TgZ(8,"a",6),e._uU(9,"Google"),e.qZA()()(),e.TgZ(10,"div",7)(11,"div",8)(12,"div",9)(13,"div",10)(14,"iframe",11)(15,"p"),e._uU(16,"Your browser does not support iframes."),e.qZA()()(),e.TgZ(17,"div",12)(18,"h5"),e._uU(19,"The icons are visible on Desktop mode inside an iframe. Since the iframe is not working on Mobile and Tablets please visit the icons on their original page on Google. Check the "),e.TgZ(20,"a",13),e._uU(21,"Material Icons"),e.qZA()()()()()()()()())}}),i})(),x=(()=>{class i{constructor(){}ngOnInit(){var t=new google.maps.LatLng(40.748817,-73.985428),n={zoom:13,center:t,scrollwheel:!1,styles:[{featureType:"water",stylers:[{saturation:43},{lightness:-11},{hue:"#0088ff"}]},{featureType:"road",elementType:"geometry.fill",stylers:[{hue:"#ff0000"},{saturation:-100},{lightness:99}]},{featureType:"road",elementType:"geometry.stroke",stylers:[{color:"#808080"},{lightness:54}]},{featureType:"landscape.man_made",elementType:"geometry.fill",stylers:[{color:"#ece2d9"}]},{featureType:"poi.park",elementType:"geometry.fill",stylers:[{color:"#ccdca1"}]},{featureType:"road",elementType:"labels.text.fill",stylers:[{color:"#767676"}]},{featureType:"road",elementType:"labels.text.stroke",stylers:[{color:"#ffffff"}]},{featureType:"poi",stylers:[{visibility:"off"}]},{featureType:"landscape.natural",elementType:"geometry.fill",stylers:[{visibility:"on"},{color:"#b8cb93"}]},{featureType:"poi.park",stylers:[{visibility:"on"}]},{featureType:"poi.sports_complex",stylers:[{visibility:"on"}]},{featureType:"poi.medical",stylers:[{visibility:"on"}]},{featureType:"poi.business",stylers:[{visibility:"simplified"}]}]},o=new google.maps.Map(document.getElementById("map"),n);new google.maps.Marker({position:t,title:"Hello World!"}).setMap(o)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-maps"]],decls:1,vars:0,consts:[["id","map"]],template:function(t,n){1&t&&e._UZ(0,"div",0)}}),i})(),q=(()=>{class i{constructor(){}showNotification(t,n){const a=Math.floor(4*Math.random()+1);$.notify({icon:"notifications",message:"Welcome to <b>Material Dashboard</b> - a beautiful freebie for every web developer."},{type:["","info","success","warning","danger"][a],timer:4e3,placement:{from:t,align:n},template:'<div data-notify="container" class="col-xl-4 col-lg-4 col-11 col-sm-4 col-md-4 alert alert-{0} alert-with-icon" role="alert"><button mat-button  type="button" aria-hidden="true" class="close mat-button" data-notify="dismiss">  <i class="material-icons">close</i></button><i class="material-icons" data-notify="icon">notifications</i> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'})}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-notifications"]],decls:118,vars:0,consts:[[1,"main-content"],[1,"container-fluid"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"card-category"],["target","_blank","href","https://github.com/mouse0270"],["href","http://bootstrap-notify.remabledesigns.com/","target","_blank"],[1,"card-body"],[1,"row"],[1,"col-md-6"],[1,"alert","alert-info"],["mat-button","","type","button","data-dismiss","alert","aria-label","Close",1,"close"],[1,"material-icons"],["data-notify","container",1,"alert","alert-info","alert-with-icon"],["data-notify","icon",1,"material-icons"],["data-notify","message"],[1,"alert","alert-success"],[1,"alert","alert-warning"],[1,"alert","alert-danger"],[1,"alert","alert-primary"],[1,"col-md-12"],[1,"places-buttons"],[1,"col-md-6","ml-auto","mr-auto","text-center"],[1,"category"],[1,"col-lg-8","col-md-10","ml-auto","mr-auto"],[1,"col-md-4"],["mat-raised-button","",1,"btn","btn-danger","btn-block",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"h3",4),e._uU(5,"Notifications"),e.qZA(),e.TgZ(6,"p",5),e._uU(7,"Handcrafted by our friend "),e.TgZ(8,"a",6),e._uU(9,"Robert McIntosh"),e.qZA(),e._uU(10,". Please checkout the "),e.TgZ(11,"a",7),e._uU(12,"full documentation."),e.qZA()()(),e.TgZ(13,"div",8)(14,"div",9)(15,"div",10)(16,"h4",4),e._uU(17,"Notifications Style"),e.qZA(),e.TgZ(18,"div",11)(19,"span"),e._uU(20,"This is a plain notification"),e.qZA()(),e.TgZ(21,"div",11)(22,"button",12)(23,"i",13),e._uU(24,"close"),e.qZA()(),e.TgZ(25,"span"),e._uU(26,"This is a notification with close button."),e.qZA()(),e.TgZ(27,"div",14)(28,"i",15),e._uU(29,"add_alert"),e.qZA(),e.TgZ(30,"button",12)(31,"i",13),e._uU(32,"close"),e.qZA()(),e.TgZ(33,"span",16),e._uU(34,"This is a notification with close button and icon."),e.qZA()(),e.TgZ(35,"div",14)(36,"i",15),e._uU(37,"add_alert"),e.qZA(),e.TgZ(38,"button",12)(39,"i",13),e._uU(40,"close"),e.qZA()(),e.TgZ(41,"span",16),e._uU(42,"This is a notification with close button and icon and have many lines. You can see that the icon and the close button are always vertically aligned. This is a beautiful notification. So you don't have to worry about the style."),e.qZA()()(),e.TgZ(43,"div",10)(44,"h4",4),e._uU(45,"Notification states"),e.qZA(),e.TgZ(46,"div",11)(47,"button",12)(48,"i",13),e._uU(49,"close"),e.qZA()(),e.TgZ(50,"span")(51,"b"),e._uU(52," Info - "),e.qZA(),e._uU(53,' This is a regular notification made with ".alert-info"'),e.qZA()(),e.TgZ(54,"div",17)(55,"button",12)(56,"i",13),e._uU(57,"close"),e.qZA()(),e.TgZ(58,"span")(59,"b"),e._uU(60," Success - "),e.qZA(),e._uU(61,' This is a regular notification made with ".alert-success"'),e.qZA()(),e.TgZ(62,"div",18)(63,"button",12)(64,"i",13),e._uU(65,"close"),e.qZA()(),e.TgZ(66,"span")(67,"b"),e._uU(68," Warning - "),e.qZA(),e._uU(69,' This is a regular notification made with ".alert-warning"'),e.qZA()(),e.TgZ(70,"div",19)(71,"button",12)(72,"i",13),e._uU(73,"close"),e.qZA()(),e.TgZ(74,"span")(75,"b"),e._uU(76," Danger - "),e.qZA(),e._uU(77,' This is a regular notification made with ".alert-danger"'),e.qZA()(),e.TgZ(78,"div",20)(79,"button",12)(80,"i",13),e._uU(81,"close"),e.qZA()(),e.TgZ(82,"span")(83,"b"),e._uU(84," Primary - "),e.qZA(),e._uU(85,' This is a regular notification made with ".alert-primary"'),e.qZA()()()()(),e.TgZ(86,"div",21)(87,"div",22)(88,"div",9)(89,"div",23)(90,"h4",4),e._uU(91," Notifications Places "),e.TgZ(92,"p",24),e._uU(93,"Click to view notifications"),e.qZA()()()(),e.TgZ(94,"div",9)(95,"div",25)(96,"div",9)(97,"div",26)(98,"button",27),e.NdJ("click",function(){return n.showNotification("top","left")}),e._uU(99,"Top Left"),e.qZA()(),e.TgZ(100,"div",26)(101,"button",27),e.NdJ("click",function(){return n.showNotification("top","center")}),e._uU(102,"Top Center"),e.qZA()(),e.TgZ(103,"div",26)(104,"button",27),e.NdJ("click",function(){return n.showNotification("top","right")}),e._uU(105,"Top Right"),e.qZA()()()()(),e.TgZ(106,"div",9)(107,"div",25)(108,"div",9)(109,"div",26)(110,"button",27),e.NdJ("click",function(){return n.showNotification("bottom","left")}),e._uU(111,"Bottom Left"),e.qZA()(),e.TgZ(112,"div",26)(113,"button",27),e.NdJ("click",function(){return n.showNotification("bottom","center")}),e._uU(114,"Bottom Center"),e.qZA()(),e.TgZ(115,"div",26)(116,"button",27),e.NdJ("click",function(){return n.showNotification("bottom","right")}),e._uU(117,"Bottom Right"),e.qZA()()()()()()()()()())},dependencies:[D.lW]}),i})();var w=I(7579),C=I(8505),T=I(262),P=I(9476),L=I(8751),J=I(529),M=I(1920);let U=(()=>{class i{constructor(t,n,o){this.http=t,this.url=n,this.swal_service=o,this.api_url=this.url.api_url+"/absences/",this.dataChange=new w.x,this.dataDelete=new w.x}getCurrentUserData(){return this.http.get(this.api_url+"create")}get(){return this.http.get(this.api_url)}addOld(t){return this.http.post(this.api_url,t)}editOld(t){return this.http.put(this.api_url+t.id,t)}delete(t){return this.http.delete(this.api_url+t)}export(){return this.http.get(this.api_url+"export")}getRemainingDays(){return this.http.get(this.api_url+"remaining-days")}getRemainingDaysCurrentUser(t){return this.http.get(this.api_url+"remaining-days/"+t)}setData(t){this.data=t,this.dataChange.next(this.data)}deleteData(t){this.deleted_request=t,this.dataDelete.next(this.deleted_request)}getData(){return this.data}add(t){return this.http.post(this.api_url+"request",{request:t}).pipe((0,C.b)(n=>{n?.id&&this.setData(n)}),(0,T.K)(n=>{throw new L.y(n)}))}edit(t){return this.http.put(this.api_url+"request/"+t.id,{request:t}).pipe((0,C.b)(o=>{o?.id&&this.setData(o)}),(0,T.K)(o=>{throw new L.y(o)}))}decline(t){return this.http.post(this.api_url+"request/decline",{request:t}).pipe((0,C.b)(o=>{o?.id&&this.setData(o)}),(0,T.K)(o=>{throw new L.y(o)}))}approve(t){return this.http.post(this.api_url+"request/approve",{request:t}).pipe((0,C.b)(o=>{o?.id&&this.setData(o)}),(0,T.K)(o=>{throw new L.y(o)}))}getAbsenceRequests(){return this.http.get(this.api_url+"request")}getForEmployee(t){return this.http.get(this.api_url+"request/"+t)}getPending(){return this.http.get(this.url.api_url+"/permission/test")}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(J.eN),e.LFG(M.e),e.LFG(P.J))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class F{constructor(s){this.fb=s,this.formGroup=this.fb.group({id:["",null],user_id:["",null],department_id:["",[r.kI.required]],position_id:["",[r.kI.required]],location_id:["",[r.kI.required]],supervisors:[[],null],first_name:["",[r.kI.required,r.kI.pattern("^[\u0410-\u042f\u0401\u0430-\u044f\u0451A-Z][\u0410-\u042f\u0401\u0430-\u044f\u0451A-Za-z]{0,14}$")]],last_name:["",[r.kI.required,r.kI.pattern("^[\u0410-\u042f\u0401\u0430-\u044f\u0451A-Z][\u0410-\u042f\u0401\u0430-\u044f\u0451A-Za-z]{0,14}$")]],surname:["",[r.kI.required,r.kI.pattern("^[\u0410-\u042f\u0401\u0430-\u044f\u0451A-Z][\u0410-\u042f\u0401\u0430-\u044f\u0451A-Za-z]{0,14}$")]],email:["",[r.kI.required,r.kI.email]],city:["",[r.kI.required,r.kI.pattern("^[\u0410-\u042f\u0401\u0430-\u044f\u0451A-Z][\u0410-\u042f\u0401\u0430-\u044f\u0451A-Za-z]{0,14}$")]],post_code:["",[r.kI.required,r.kI.pattern("^[0-9]{4}$")]],address:["",[r.kI.required,r.kI.maxLength(50)]],country:["",[r.kI.required]],pin:["",[r.kI.required,r.kI.pattern("^[0-9]{10}$")]],personal_phone:["",[r.kI.required,r.kI.pattern("^[0-9]{10}$")]],start:["",r.kI.required],work_phone:["",[r.kI.pattern("^[0-9]{10}$")]]})}}var Y=I(8025);class S{constructor(s){this.fb=s,this.formGroup=this.fb.group({current_password:["",[r.kI.required,r.kI.pattern(/^\S*$/)]],new_password:["",[r.kI.required,r.kI.minLength(8),r.kI.pattern(/^\S*$/)]],new_password_confirmation:["",[r.kI.required,r.kI.minLength(8),r.kI.pattern(/^\S*$/)]]},{validator:[this.checkPasswords]})}checkPasswords(s){return s.get("new_password").value===s.get("new_password_confirmation").value?null:{passwordNotMatch:!0}}}var y=I(3546),Z=I(7392);function O(i,s){1&i&&(e.TgZ(0,"mat-hint"),e._uU(1,"Enter your current password"),e.qZA())}function Q(i,s){1&i&&(e.TgZ(0,"mat-hint"),e._uU(1,"Enter your new password"),e.qZA())}function z(i,s){1&i&&(e.TgZ(0,"div")(1,"span",9),e._uU(2,"\u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043e\u0442 \u043c\u0438\u043d\u0438\u043c\u0443\u043c 6 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u0430."),e.qZA()())}function W(i,s){1&i&&(e.TgZ(0,"mat-hint"),e._uU(1,"Confirm your new password"),e.qZA())}function B(i,s){1&i&&(e.TgZ(0,"div")(1,"span",9),e._uU(2,"\u041f\u0430\u0440\u043e\u043b\u0438\u0442\u0435 \u043d\u0435 \u0441\u044a\u0432\u043f\u0430\u0434\u0430\u0442!"),e.qZA()())}const H=".mat-card[_ngcontent-%COMP%] {\n  max-width: 400px;\n  margin: 0 auto;\n  padding: 20px;\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n.form[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n}\n\n.input-field[_ngcontent-%COMP%] {\n  width: 100%;\n  margin-bottom: 15px;\n}\n\n.button-group[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 20px;\n}";let V=(()=>{class i{constructor(t){this.dialogRef=t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["change-password-dialog"]],decls:2,vars:0,template:function(t,n){1&t&&(e.TgZ(0,"mat-dialog-content"),e._UZ(1,"change-password"),e.qZA())},dependencies:function(){return[d.xY,se]},styles:[H]}),i})(),se=(()=>{class i{constructor(t,n,o,a,_,N,R,K,j){this.fb=t,this.http=n,this.platform_location=o,this.router=a,this.url=_,this.password_service=N,this.swal_service=R,this.dialog=K,this.dialogRef=j,this.hide=!0,this.hideConfirmation=!0,this.passwordForm=new S(t)}get passwordInput(){return this.passwordForm.formGroup.get("new_password")}get passwordConfirmationInput(){return this.passwordForm.formGroup.get("new_password_confirmation")}ngOnInit(){}changePassword(){this.passwordForm.formGroup.markAllAsTouched(),this.passwordForm.formGroup.valid&&(this.swal_service.loader().fire(),this.password_service.changePassword(this.passwordForm.formGroup.getRawValue()).subscribe(t=>{t?.success?(this.swal_service.success({text:"\u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0431\u0435 \u043f\u0440\u043e\u043c\u0435\u043d\u0435\u0442\u0430 \u0443\u0441\u043f\u0435\u0448\u043d\u043e"}).then(()=>{this.router.navigate(["/login"])}),this.closeDialog()):this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u043f\u0440\u0438 \u043f\u0440\u043e\u043c\u044f\u043d\u0430\u0442\u0430 \u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430\u0442\u0430"})},t=>{this.swal_service.error({title:`${t.title()}`,text:`${t.message()}`})}))}closeDialog(){this.dialogRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.QS),e.Y36(J.eN),e.Y36(A.lw),e.Y36(ue.F0),e.Y36(M.e),e.Y36(Y.C),e.Y36(P.J),e.Y36(d.uw),e.Y36(d.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["change-password"]],decls:28,vars:13,consts:[[1,"form",3,"formGroup","ngSubmit"],["matInput","","placeholder","Current password","formControlName","current_password","required","",3,"type"],["matSuffix","",3,"click"],[4,"ngIf"],["matInput","","placeholder","New password","formControlName","new_password","required","",3,"type"],["matInput","","placeholder","New password confirmation","formControlName","new_password_confirmation","required","",3,"type"],[1,"button-group"],["type","button","mat-stroked-button","",1,"close-button",3,"click"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[1,"text-danger"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e._uU(3,"Change password"),e.qZA()(),e.TgZ(4,"mat-card-content")(5,"form",0),e.NdJ("ngSubmit",function(){return n.changePassword()}),e.TgZ(6,"mat-form-field"),e._UZ(7,"input",1),e.TgZ(8,"mat-icon",2),e.NdJ("click",function(){return n.hide=!n.hide}),e._uU(9),e.qZA(),e.YNc(10,O,2,0,"mat-hint",3),e.qZA(),e.TgZ(11,"mat-form-field"),e._UZ(12,"input",4),e.TgZ(13,"mat-icon",2),e.NdJ("click",function(){return n.hideConfirmation=!n.hideConfirmation}),e._uU(14),e.qZA(),e.YNc(15,Q,2,0,"mat-hint",3),e.qZA(),e.YNc(16,z,3,0,"div",3),e.TgZ(17,"mat-form-field"),e._UZ(18,"input",5),e.TgZ(19,"mat-icon",2),e.NdJ("click",function(){return n.hideConfirmation=!n.hideConfirmation}),e._uU(20),e.qZA(),e.YNc(21,W,2,0,"mat-hint",3),e.qZA(),e.YNc(22,B,3,0,"div",3),e.TgZ(23,"div",6)(24,"button",7),e.NdJ("click",function(){return n.closeDialog()}),e._uU(25,"Close"),e.qZA(),e.TgZ(26,"button",8),e._uU(27,"Submit"),e.qZA()()()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",n.passwordForm.formGroup),e.xp6(2),e.Q6J("type",n.hide?"password":"text"),e.xp6(2),e.Oqu(n.hide?"visibility_off":"visibility"),e.xp6(1),e.Q6J("ngIf",!n.passwordInput.value),e.xp6(2),e.Q6J("type",n.hideConfirmation?"password":"text"),e.xp6(2),e.Oqu(n.hideConfirmation?"visibility_off":"visibility"),e.xp6(1),e.Q6J("ngIf",!n.passwordConfirmationInput.value),e.xp6(1),e.Q6J("ngIf",n.passwordForm.formGroup.get("new_password").invalid&&n.passwordForm.formGroup.get("new_password").touched),e.xp6(2),e.Q6J("type",n.hideConfirmation?"password":"text"),e.xp6(2),e.Oqu(n.hideConfirmation?"visibility_off":"visibility"),e.xp6(1),e.Q6J("ngIf",!n.passwordConfirmationInput.value),e.xp6(1),e.Q6J("ngIf",n.passwordForm.formGroup.hasError("passwordNotMatch")&&n.passwordForm.formGroup.get("new_password_confirmation").touched),e.xp6(4),e.Q6J("disabled",!n.passwordForm.formGroup.valid))},dependencies:[A.O5,y.a8,y.dk,y.dn,y.n5,l.KE,l.bx,l.R9,m.Nt,D.lW,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u,Z.Hw],styles:[H]}),i})();class ye{constructor(s){this.fb=s,this.formGroup=this.fb.group({user_id:["",[r.kI.required]],password:["",[r.kI.required,r.kI.minLength(8),r.kI.pattern(/^\S*$/)]],password_confirmation:["",[r.kI.required,r.kI.minLength(8),r.kI.pattern(/^\S*$/)]]},{validator:[this.checkPasswords]})}checkPasswords(s){return s.get("password").value===s.get("password_confirmation").value?null:{passwordNotMatch:!0}}}function pe(i,s){1&i&&(e.TgZ(0,"mat-hint"),e._uU(1,"Enter your password"),e.qZA())}function xe(i,s){1&i&&(e.TgZ(0,"div")(1,"span",8),e._uU(2,"\u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043e\u0442 \u043c\u0438\u043d\u0438\u043c\u0443\u043c 6 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u0430."),e.qZA()())}function pt(i,s){1&i&&(e.TgZ(0,"mat-hint"),e._uU(1,"Confirm your password"),e.qZA())}function _t(i,s){1&i&&(e.TgZ(0,"div")(1,"span",8),e._uU(2,"\u041f\u0430\u0440\u043e\u043b\u0438\u0442\u0435 \u043d\u0435 \u0441\u044a\u0432\u043f\u0430\u0434\u0430\u0442!"),e.qZA()())}const Ye=".mat-card[_ngcontent-%COMP%] {\n  max-width: 400px;\n  margin: 0 auto;\n  padding: 20px;\n  box-shadow: 0px 4px 8px rgba(0, 0, 0, 0.1);\n}\n\n.form[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n}\n\n.input-field[_ngcontent-%COMP%] {\n  width: 100%;\n  margin-bottom: 15px;\n}\n\n.button-group[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  margin-top: 20px;\n}";let mt=(()=>{class i{constructor(t,n){this.dialogRef=t,this.data=n,this.user_id=n.user_id??null}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.so),e.Y36(d.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["force-change-password-dialog"]],decls:2,vars:1,consts:[[3,"user_id"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-dialog-content"),e._UZ(1,"force-change-password",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("user_id",n.user_id))},dependencies:function(){return[d.xY,gt]},styles:[Ye]}),i})(),gt=(()=>{class i{constructor(t,n,o,a,_,N,R,K,j){this.fb=t,this.http=n,this.platform_location=o,this.router=a,this.url=_,this.password_service=N,this.swal_service=R,this.dialog=K,this.dialogRef=j,this.hide=!0,this.hideConfirmation=!0,this.forceChangePasswordForm=new ye(t)}get passwordInput(){return this.forceChangePasswordForm.formGroup.get("password")}get passwordConfirmationInput(){return this.forceChangePasswordForm.formGroup.get("password_confirmation")}ngOnInit(){this.forceChangePasswordForm.formGroup.patchValue({user_id:this.user_id})}forceResetPassword(){this.forceChangePasswordForm.formGroup.markAllAsTouched(),this.forceChangePasswordForm.formGroup.valid&&(this.swal_service.loader().fire(),this.password_service.forceChangePassword(this.forceChangePasswordForm.formGroup.getRawValue()).subscribe(t=>{t?.success?(this.swal_service.success({text:"\u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0431\u0435 \u043f\u0440\u043e\u043c\u0435\u043d\u0435\u0442\u0430"}),t?.logout&&(this.closeDialog(),location.reload())):this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c \u043f\u0440\u0438 \u043f\u0440\u043e\u043c\u044f\u043d\u0430\u0442\u0430 \u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430\u0442\u0430"})},t=>{this.swal_service.error({title:`${t.title()}`,text:`${t.message()}`})}))}closeDialog(){this.dialogRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.QS),e.Y36(J.eN),e.Y36(A.lw),e.Y36(ue.F0),e.Y36(M.e),e.Y36(Y.C),e.Y36(P.J),e.Y36(d.uw),e.Y36(d.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["force-change-password"]],inputs:{user_id:"user_id"},decls:23,vars:10,consts:[[1,"form",3,"formGroup","ngSubmit"],["matInput","","placeholder","Password","formControlName","password","required","",3,"type"],["matSuffix","",3,"click"],[4,"ngIf"],["matInput","","placeholder","Password confirmation","formControlName","password_confirmation","required","",3,"type"],[1,"button-group"],["type","button","mat-stroked-button","",1,"close-button",3,"click"],["type","submit","mat-raised-button","","color","primary",3,"disabled"],[1,"text-danger"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e._uU(3,"Change password"),e.qZA()(),e.TgZ(4,"mat-card-content")(5,"form",0),e.NdJ("ngSubmit",function(){return n.forceResetPassword()}),e.TgZ(6,"mat-form-field"),e._UZ(7,"input",1),e.TgZ(8,"mat-icon",2),e.NdJ("click",function(){return n.hide=!n.hide}),e._uU(9),e.qZA(),e.YNc(10,pe,2,0,"mat-hint",3),e.qZA(),e.YNc(11,xe,3,0,"div",3),e.TgZ(12,"mat-form-field"),e._UZ(13,"input",4),e.TgZ(14,"mat-icon",2),e.NdJ("click",function(){return n.hideConfirmation=!n.hideConfirmation}),e._uU(15),e.qZA(),e.YNc(16,pt,2,0,"mat-hint",3),e.qZA(),e.YNc(17,_t,3,0,"div",3),e.TgZ(18,"div",5)(19,"button",6),e.NdJ("click",function(){return n.closeDialog()}),e._uU(20,"Close"),e.qZA(),e.TgZ(21,"button",7),e._uU(22,"Submit"),e.qZA()()()()()),2&t&&(e.xp6(5),e.Q6J("formGroup",n.forceChangePasswordForm.formGroup),e.xp6(2),e.Q6J("type",n.hide?"password":"text"),e.xp6(2),e.Oqu(n.hide?"visibility_off":"visibility"),e.xp6(1),e.Q6J("ngIf",!n.passwordInput.value),e.xp6(1),e.Q6J("ngIf",n.forceChangePasswordForm.formGroup.get("password").invalid&&n.forceChangePasswordForm.formGroup.get("password").touched),e.xp6(2),e.Q6J("type",n.hideConfirmation?"password":"text"),e.xp6(2),e.Oqu(n.hideConfirmation?"visibility_off":"visibility"),e.xp6(1),e.Q6J("ngIf",!n.passwordConfirmationInput.value),e.xp6(1),e.Q6J("ngIf",n.forceChangePasswordForm.formGroup.hasError("passwordNotMatch")&&n.forceChangePasswordForm.formGroup.get("password_confirmation").touched),e.xp6(4),e.Q6J("disabled",!n.forceChangePasswordForm.formGroup.valid))},dependencies:[A.O5,y.a8,y.dk,y.dn,y.n5,l.KE,l.bx,l.R9,m.Nt,D.lW,r._Y,r.Fj,r.JJ,r.JL,r.Q7,r.sg,r.u,Z.Hw],styles:[Ye]}),i})();var ft=I(3151);let _e=(()=>{class i{constructor(t,n){this.http=t,this.url=n,this.api_url=this.url.api_url+"/users/"}getCurrentUser(){return this.http.get(this.api_url+"me").pipe((0,T.K)(t=>{throw t})).pipe((0,ft.d)(1))}me(){return this.http.get(this.api_url+"me")}get(){return this.http.get(this.api_url)}add(t){return this.http.post(this.api_url+"register",t).pipe((0,T.K)(n=>{throw n.error.error}))}delete(t){return this.http.delete(this.api_url+"delete/"+t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(J.eN),e.LFG(M.e))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ie=(()=>{class i{constructor(t,n){this.http=t,this.url=n}getEmployee(t){return this.http.get(this.url.api_url+"/employee/"+t)}getCurrentEmployee(){}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(J.eN),e.LFG(M.e))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var me=I(5206);let ee=(()=>{class i{constructor(t,n){this.http=t,this.url=n,this.api_url=this.url.api_url+"/employee"}getEmployees(){return this.http.get(this.api_url)}getEmployee(){return this.http.get(this.api_url+"/create").pipe((0,C.b)(t=>{}),(0,T.K)(t=>{throw new L.y(t)}))}getEmployeeById(t){return this.http.get(this.api_url+"/"+t)}addEmployee(t){return console.log(t),this.http.post(this.api_url,t,{headers:this.headers})}editEmployee(t,n){return this.http.put(this.api_url+"/"+t,n,{headers:this.headers})}deleteEmployee(t){return this.http.delete(this.api_url+"/"+t,{headers:this.headers})}edit(t,n){return this.http.put(this.api_url+"/"+t,n,{headers:this.headers})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(J.eN),e.LFG(M.e))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var E=I(7084),le=I(8739),te=I(6308),k=I(7155);let ce=(()=>{class i{constructor(t,n){this.http=t,this.url=n,this.api_url=this.url.api_url+"/absence-types"}get(){return this.http.get(this.api_url)}add(t){return this.http.post(this.api_url,t)}edit(t){return this.http.put(this.api_url+"/"+t.id,t)}delete(t){return this.http.delete(this.api_url+"/"+t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(J.eN),e.LFG(M.e))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function ht(i,s){1&i&&(e.TgZ(0,"mat-header-cell",15),e._uU(1," \u041d\u0430\u0447\u0430\u043b\u043d\u0430 \u0434\u0430\u0442\u0430 "),e.qZA())}function vt(i,s){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.start_date," ")}}function bt(i,s){1&i&&(e.TgZ(0,"mat-header-cell",15),e._uU(1," \u041a\u0440\u0430\u0439\u043d\u0430 \u0434\u0430\u0442\u0430 "),e.qZA())}function yt(i,s){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.end_date," ")}}function xt(i,s){1&i&&(e.TgZ(0,"mat-header-cell",15),e._uU(1," \u0414\u043d\u0438 "),e.qZA())}function Zt(i,s){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.days," ")}}function Ct(i,s){1&i&&(e.TgZ(0,"mat-header-cell",15),e._uU(1," \u0412\u0438\u0434 "),e.qZA())}function Tt(i,s){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.type_name," ")}}function At(i,s){1&i&&(e.TgZ(0,"mat-header-cell",15),e._uU(1," \u0421\u0442\u0430\u0442\u0443\u0441 "),e.qZA())}function wt(i,s){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=s.$implicit,n=e.oxw(2);e.xp6(1),e.hij(" ",n.humanizedStatus(t.approval)," ")}}function qt(i,s){1&i&&e._UZ(0,"mat-header-row")}function Mt(i,s){1&i&&e._UZ(0,"mat-row")}const Pt=function(){return[5,10,25,100]};function Ut(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-form-field")(2,"mat-label"),e._uU(3,"\u0424\u0438\u043b\u0442\u044a\u0440..."),e.qZA(),e.TgZ(4,"input",2,3),e.NdJ("keyup",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.applyFilter(o))}),e.qZA()(),e.TgZ(6,"mat-table",4),e.ynx(7,5),e.YNc(8,ht,2,0,"mat-header-cell",6),e.YNc(9,vt,2,1,"mat-cell",7),e.BQk(),e.ynx(10,8),e.YNc(11,bt,2,0,"mat-header-cell",6),e.YNc(12,yt,2,1,"mat-cell",7),e.BQk(),e.ynx(13,9),e.YNc(14,xt,2,0,"mat-header-cell",6),e.YNc(15,Zt,2,1,"mat-cell",7),e.BQk(),e.ynx(16,10),e.YNc(17,Ct,2,0,"mat-header-cell",6),e.YNc(18,Tt,2,1,"mat-cell",7),e.BQk(),e.ynx(19,11),e.YNc(20,At,2,0,"mat-header-cell",6),e.YNc(21,wt,2,1,"mat-cell",7),e.BQk(),e.YNc(22,qt,1,0,"mat-header-row",12),e.YNc(23,Mt,1,0,"mat-row",13),e.qZA(),e._UZ(24,"mat-paginator",14),e.BQk()}if(2&i){const t=e.oxw();e.xp6(6),e.Q6J("dataSource",t.absence_requests),e.xp6(16),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,Pt))}}function kt(i,s){1&i&&(e.TgZ(0,"p"),e._uU(1,"\u041d\u044f\u043c\u0430 \u043d\u0430\u043b\u0438\u0447\u043d\u0438 \u0437\u0430\u043f\u0438\u0441\u0438"),e.qZA())}let Dt=(()=>{class i{constructor(t,n){this.absence_types_service=t,this.absences_service=n,this.displayedColumns=["start_date","end_date","days","type_name","approval"],this.absence_requests=new k.by(this.requests)}ngAfterViewInit(){this.absence_requests.paginator=this.paginator,this.absence_requests.sort=this.sort}ngOnInit(){console.log(this.requests),console.log(this.archieve),console.log(this.absence_requests),this.requests||this.get()}get(){this.absences_service.getForEmployee(2).subscribe(t=>{this.absence_requests=t,console.log(t),this.absence_requests=new k.by(t),this.absence_requests.paginator=this.paginator,this.absence_requests.sort=this.sort})}applyFilter(t){this.absence_requests.filter=t.target.value.trim().toLowerCase(),this.absence_requests.paginator&&this.absence_requests.paginator.firstPage()}ngOnChanges(t){t.requests&&(this.absence_requests=new k.by(this.requests),this.absence_requests.paginator=this.paginator,this.absence_requests.sort=this.sort)}humanizedStatus(t){return"WAITING"===t?"\u041e\u0447\u0430\u043a\u0432\u0430 \u043f\u043e\u0442\u0432\u044a\u0440\u0436\u0434\u0435\u043d\u0438\u0435.":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0430"}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ce),e.Y36(U))},i.\u0275cmp=e.Xpm({type:i,selectors:[["profile-absence-list"]],viewQuery:function(t,n){if(1&t&&(e.Gf(le.NW,5),e.Gf(te.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.paginator=o.first),e.iGM(o=e.CRH())&&(n.sort=o.first)}},inputs:{requests:"requests",archieve:"archieve"},features:[e.TTD],decls:3,vars:2,consts:[[4,"ngIf","ngIfElse"],["noRequests",""],["matInput","","placeholder","\u041f\u043b\u0430\u0442\u0435\u043d \u0433\u043e\u0434\u0438\u0448\u0435\u043d \u043e\u0442\u043f\u0443\u0441\u043a...",3,"keyup"],["input",""],["matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","start_date"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","end_date"],["matColumnDef","days"],["matColumnDef","type_name"],["matColumnDef","approval"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-sort-header",""]],template:function(t,n){if(1&t&&(e.YNc(0,Ut,25,5,"ng-container",0),e.YNc(1,kt,2,0,"ng-template",null,1,e.W1O)),2&t){const o=e.MAs(2);e.Q6J("ngIf",n.requests)("ngIfElse",o)}},dependencies:[A.O5,l.KE,l.hX,m.Nt,k.BZ,k.fO,k.as,k.w1,k.Dz,k.nj,k.ge,k.ev,k.XQ,k.Gk,le.NW,te.YE,te.nU],styles:["table[_ngcontent-%COMP%] {\n  width: 100%;\n}"]}),i})();class Ze{constructor(s){this.fb=s,this.formGroup=this.fb.group({id:[null],employee_id:["",r.kI.required],type_id:["",r.kI.required],start_date:["",r.kI.required],end_date:["",r.kI.required],days:[{value:"",disabled:!0}],approval:[""]},{validator:[t=>this.validateId(t)]}),this.daysValidators=[],this.approvalValidators=[]}validateId(s){if(!s.get("id").value)return null;const n=s.get("days");this.daysValidators.includes(r.kI.required)||(this.daysValidators.push(r.kI.required),n.setValidators(this.daysValidators),n.updateValueAndValidity(),n.enable())}}let de=(()=>{class i{constructor(t,n){this.http=t,this.url=n,this.api_url=this.url.api_url+"/absences-archive/"}get(){return this.http.get(this.api_url)}getCurrentUser(){return this.http.get(this.api_url+"create")}add(t){return this.http.post(this.api_url,t)}edit(t){return this.http.put(this.api_url+t.id,t)}delete(t){return this.http.delete(this.api_url+t)}export(){return this.http.get(this.api_url+"export")}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(J.eN),e.LFG(M.e))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var ne=I(4385),X=I(3238),G=I(9602);function Ot(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"mat-option",14)(2,"strong"),e._uU(3),e.qZA(),e._uU(4),e.qZA(),e.BQk()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(2),e.hij("",t.name," "),e.xp6(1),e.hij(" ",t.details," ")}}function Ft(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.add())}),e._uU(1," \u0414\u043e\u0431\u0430\u0432\u0438 "),e.qZA()}}function Et(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.edit())}),e._uU(1," \u041e\u0431\u043d\u043e\u0432\u0438 "),e.qZA()}}function Nt(i,s){if(1&i&&(e.TgZ(0,"div",2)(1,"div",3)(2,"span"),e._uU(3),e.TgZ(4,"strong"),e._uU(5),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(3),e.hij("\u041e\u0441\u0442\u0430\u0432\u0430\u0449\u0438 \u0434\u043d\u0438 ",t.selected_type," \u0434\u043e \u043a\u0440\u0430\u044f \u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430\u0442\u0430: "),e.xp6(2),e.Oqu(t.remaining_days)}}let Qe=(()=>{class i{constructor(t,n,o,a,_,N,R){this.swal_service=t,this.absence_types_service=n,this.absence_archive_service=o,this.absences_service=a,this.employees_service=_,this.fb=N,this.datepipe=R,this.is_edit=!1,this.requestCreated=new e.vpe,this.weekendFilter=K=>{const j=(K||new Date).getDay();return 0!==j&&6!==j},this.requestForm=new Ze(N),this.requestForm.formGroup.patchValue({type_id:1})}ngOnInit(){this.request?.id&&(this.requestForm.formGroup.patchValue({id:this.request.id,type_id:this.request.type_id,employee_id:this.request.employee_id,days:this.request.days,end_date:this.request.end_date,start_date:this.request.start_date}),this.is_edit=!0),this.getTypes(),this.getEmployee()}getEmployee(){this.employees_service.getEmployee().subscribe(t=>{this.employee=t,this.getRemainingDays(t.id)})}getRemainingDays(t){this.absences_service.getRemainingDaysCurrentUser(t).subscribe(n=>{if(!n)return void this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u0447\u0438\u0441\u043b\u044f\u0432\u0430\u043d\u0435\u0442\u043e \u043d\u0430 \u043e\u0441\u0442\u0430\u0432\u0430\u0449\u0438\u0442\u0435 \u0434\u043d\u0438 \u043e\u0442\u043f\u0443\u0441\u043a:"+n});console.log(n),this.remaining_days_list=n;let o=n.find(a=>a.typeId===this.requestForm.formGroup.get("type_id").value);this.remaining_days=o?.remaining})}getTypes(){this.absence_types_service.get().subscribe(t=>{this.types=t})}calcAvailableDays(t){let n=this.remaining_days_list.find(a=>a.typeId===t),o=this.types.find(a=>a.id===t);n?(this.remaining_days=n.remaining,this.selected_type=o.details?o.name+"("+o.details+")":o.name):this.remaining_days=void 0}add(){this.requestForm.formGroup.patchValue({employee_id:this.employee.id,start_date:this.datepipe.transform(this.requestForm.formGroup.get("start_date").value,"YYYY-MM-dd"),end_date:this.datepipe.transform(this.requestForm.formGroup.get("end_date").value,"YYYY-MM-dd")}),this.requestForm.formGroup.markAllAsTouched(),this.requestForm.formGroup.valid&&this.absences_service.add(this.requestForm.formGroup.getRawValue()).subscribe(t=>{t?(this.getRemainingDays(this.requestForm.formGroup.get("employee_id").value),this.swal_service.success({title:"\u041c\u043e\u043b\u0431\u0430\u0442\u0430 \u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d\u0430. 3"}),this.requestForm.formGroup.patchValue({start_date:null,end_date:null}),this.requestForm.formGroup.markAsUntouched(),this.requestCreated.emit(t)):this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u044f\u043d\u0435\u0442\u043e \u043d\u0430 \u0437\u0430\u043f\u0438\u0441a:"+t})},t=>{this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u044f\u043d\u0435\u0442\u043e \u043d\u0430 \u0437\u0430\u043f\u0438\u0441a: "+t.message})})}edit(){}updateData(){this.absences_service.setData({value:"Child 1 updated data"})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(P.J),e.Y36(ce),e.Y36(de),e.Y36(U),e.Y36(ee),e.Y36(r.QS),e.Y36(A.uU))},i.\u0275cmp=e.Xpm({type:i,selectors:[["profile-absence-request"]],inputs:{is_edit:"is_edit",archive:"archive",request:"request"},outputs:{requestCreated:"requestCreated"},decls:29,vars:12,consts:[[1,"request-data"],[3,"formGroup"],[1,"data-row"],[1,"item"],["appearance","fill"],["formControlName","type_id",3,"selectionChange"],[4,"ngFor","ngForOf"],["matInput","","formControlName","start_date",3,"matDatepicker","matDatepickerFilter","focus"],["matSuffix","",3,"for"],["startPicker",""],["matInput","","formControlName","end_date",3,"matDatepicker","min","matDatepickerFilter","focus"],["endPicker",""],["mat-button","","class","btn btn-round btn-fill btn-info",3,"click",4,"ngIf"],["class","data-row",4,"ngIf"],[3,"value"],["mat-button","",1,"btn","btn-round","btn-fill","btn-info",3,"click"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"mat-form-field",4)(5,"mat-label"),e._uU(6,"\u0412\u0438\u0434 \u043e\u0442\u043f\u0443\u0441\u043a"),e.qZA(),e.TgZ(7,"mat-select",5),e.NdJ("selectionChange",function(_){return n.calcAvailableDays(_.value)}),e.YNc(8,Ot,5,3,"ng-container",6),e.qZA()()(),e.TgZ(9,"div",3)(10,"mat-form-field")(11,"mat-label"),e._uU(12,"\u041d\u0430\u0447\u0430\u043b\u043d\u0430 \u0434\u0430\u0442\u0430"),e.qZA(),e.TgZ(13,"input",7),e.NdJ("focus",function(){e.CHM(o);const _=e.MAs(16);return e.KtG(_.open())}),e.qZA(),e._UZ(14,"mat-datepicker-toggle",8)(15,"mat-datepicker",null,9),e.qZA()(),e.TgZ(17,"div",3)(18,"mat-form-field")(19,"mat-label"),e._uU(20,"\u041a\u0440\u0430\u0439\u043d\u0430 \u0434\u0430\u0442\u0430"),e.qZA(),e.TgZ(21,"input",10),e.NdJ("focus",function(){e.CHM(o);const _=e.MAs(24);return e.KtG(_.open())}),e.qZA(),e._UZ(22,"mat-datepicker-toggle",8)(23,"mat-datepicker",null,11),e.qZA()(),e.TgZ(25,"div",3),e.YNc(26,Ft,2,0,"button",12),e.YNc(27,Et,2,0,"button",12),e.qZA()(),e.YNc(28,Nt,6,2,"div",13),e.qZA()()}if(2&t){const o=e.MAs(16),a=e.MAs(24);e.xp6(1),e.Q6J("formGroup",n.requestForm.formGroup),e.xp6(7),e.Q6J("ngForOf",n.types),e.xp6(5),e.Q6J("matDatepicker",o)("matDatepickerFilter",n.weekendFilter),e.xp6(1),e.Q6J("for",o),e.xp6(7),e.Q6J("matDatepicker",a)("min",n.requestForm.formGroup.get("start_date").value)("matDatepickerFilter",n.weekendFilter),e.xp6(1),e.Q6J("for",a),e.xp6(4),e.Q6J("ngIf",!n.is_edit),e.xp6(1),e.Q6J("ngIf",n.is_edit),e.xp6(1),e.Q6J("ngIf",n.remaining_days)}},dependencies:[A.sg,A.O5,l.KE,l.hX,l.R9,m.Nt,D.lW,ne.gD,X.ey,G.Mq,G.hl,G.nW,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:[".request-data[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%] {\n  display: flex;\n  column-gap: 4em;\n}\n.request-data[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%] {\n  flex-grow: 4;\n}"]}),i})(),Jt=(()=>{class i{constructor(t){this.data=t}ngOnInit(){this.request=this.data.request}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["dialog-profile-absence-request"]],decls:2,vars:1,consts:[[3,"request"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-dialog-content"),e._UZ(1,"profile-absence-request",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("request",n.request))},dependencies:[d.xY,Qe],styles:[".request-data[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%] {\n  display: flex;\n  column-gap: 4em;\n}\n.request-data[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%] {\n  flex-grow: 4;\n}"]}),i})();var De=I(8255);function Yt(i,s){1&i&&(e.TgZ(0,"mat-header-cell",15),e._uU(1," \u0421\u044a\u0437\u0434\u0430\u0434\u0435\u043d\u0430"),e.qZA())}function It(i,s){if(1&i&&(e.TgZ(0,"mat-cell")(1,"p"),e._uU(2),e.qZA()()),2&i){const t=s.$implicit;e.xp6(2),e.Oqu(t.created_at)}}function Qt(i,s){1&i&&(e.TgZ(0,"mat-header-cell",15),e._uU(1," \u041d\u0430\u0447\u0430\u043b\u043d\u0430 \u0434\u0430\u0442\u0430"),e.qZA())}function St(i,s){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.start_date," ")}}function Bt(i,s){1&i&&(e.TgZ(0,"mat-header-cell",15),e._uU(1," \u041a\u0440\u0430\u0439\u043d\u0430 \u0434\u0430\u0442\u0430"),e.qZA())}function Rt(i,s){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.end_date," ")}}function Lt(i,s){1&i&&(e.TgZ(0,"mat-header-cell",15),e._uU(1," \u0414\u043d\u0438"),e.qZA())}function Gt(i,s){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.days," ")}}function $t(i,s){1&i&&(e.TgZ(0,"mat-header-cell",15),e._uU(1," \u0412\u0438\u0434"),e.qZA())}function Ht(i,s){if(1&i&&(e.ynx(0),e._uU(1),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" (",t.details,")")}}function zt(i,s){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.YNc(2,Ht,2,1,"ng-container",16),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.type_name," "),e.xp6(1),e.Q6J("ngIf",t.details)}}function jt(i,s){1&i&&(e.TgZ(0,"mat-header-cell",15),e._uU(1," \u0421\u0442\u0430\u0442\u0443\u0441"),e.qZA())}function Kt(i,s){if(1&i&&(e.TgZ(0,"mat-cell"),e._uU(1),e.qZA()),2&i){const t=s.$implicit,n=e.oxw(2);e.xp6(1),e.hij(" ",n.humanizedStatus(t.approval)," ")}}function Xt(i,s){1&i&&(e.TgZ(0,"mat-header-cell",15),e._uU(1," \u041e\u043f\u0446\u0438\u0438"),e.qZA())}function Wt(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-cell")(1,"button",17)(2,"mat-icon"),e._uU(3,"more_vert"),e.qZA()(),e.TgZ(4,"mat-menu",null,18)(6,"button",19),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.edit(a))}),e._uU(7,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439"),e.qZA(),e.TgZ(8,"button",19),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.delete(a))}),e._uU(9,"\u041e\u0442\u043a\u0430\u0436\u0438"),e.qZA()()()}if(2&i){const t=e.MAs(5);e.xp6(1),e.Q6J("matMenuTriggerFor",t)}}function Vt(i,s){1&i&&e._UZ(0,"mat-header-row")}function en(i,s){1&i&&e._UZ(0,"mat-row")}function tn(i,s){if(1&i&&(e.TgZ(0,"div",1)(1,"mat-table",2),e.ynx(2,3),e.YNc(3,Yt,2,0,"mat-header-cell",4),e.YNc(4,It,3,1,"mat-cell",5),e.BQk(),e.ynx(5,6),e.YNc(6,Qt,2,0,"mat-header-cell",4),e.YNc(7,St,2,1,"mat-cell",5),e.BQk(),e.ynx(8,7),e.YNc(9,Bt,2,0,"mat-header-cell",4),e.YNc(10,Rt,2,1,"mat-cell",5),e.BQk(),e.ynx(11,8),e.YNc(12,Lt,2,0,"mat-header-cell",4),e.YNc(13,Gt,2,1,"mat-cell",5),e.BQk(),e.ynx(14,9),e.YNc(15,$t,2,0,"mat-header-cell",4),e.YNc(16,zt,3,2,"mat-cell",5),e.BQk(),e.ynx(17,10),e.YNc(18,jt,2,0,"mat-header-cell",4),e.YNc(19,Kt,2,1,"mat-cell",5),e.BQk(),e.ynx(20,11),e.YNc(21,Xt,2,0,"mat-header-cell",4),e.YNc(22,Wt,10,1,"mat-cell",5),e.BQk(),e.YNc(23,Vt,1,0,"mat-header-row",12),e.YNc(24,en,1,0,"mat-row",13),e.qZA(),e.TgZ(25,"div",14),e._uU(26," *\u041f\u043e\u0441\u043b\u0435\u0434\u043d\u043e \u0437\u0430\u044f\u0432\u0435\u043d\u0438 "),e.qZA()()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("dataSource",t.recent_requests),e.xp6(22),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns)}}let nn=(()=>{class i{constructor(t,n,o){this.absence_types_service=t,this.absences_service=n,this.dialog=o,this.displayedColumns=["created","start_date","end_date","days","type_name","approval","actions"],this.absence_requests=new k.by(this.requests)}ngAfterViewInit(){this.absence_requests.paginator=this.paginator,this.absence_requests.sort=this.sort}ngOnInit(){console.log(this.requests),console.log(this.archieve),console.log(this.absence_requests),this.requests||this.get(),this.subscription=this.absences_service.dataChange.subscribe(t=>{const n=this.recent_requests.data.findIndex(o=>o.id===t.id);-1===n?this.recent_requests.data.push(t):this.recent_requests.data[n]=t,this.recent_requests.paginator=this.paginator,this.recent_requests.sort=this.sort})}ngOnDestroy(){this.subscription.unsubscribe()}get(){this.absences_service.getForEmployee(2).subscribe(t=>{this.recent_requests=this.sortRequest(t),console.log(t),this.recent_requests=new k.by(t),this.recent_requests.paginator=this.paginator,this.recent_requests.sort=this.sort})}applyFilter(t){this.absence_requests.filter=t.target.value.trim().toLowerCase(),this.absence_requests.paginator&&this.absence_requests.paginator.firstPage()}sortRequest(t){return t.sort((n,o)=>"WAITING"===n.approval&&"WAITING"!==o.approval?-1:"WAITING"!==n.approval&&"WAITING"===o.approval?1:new Date(o.created_at).getTime()-new Date(n.created_at).getTime()).slice(0,3)}humanizedStatus(t){return"WAITING"===t?"\u041e\u0447\u0430\u043a\u0432\u0430 \u043f\u043e\u0442\u0432\u044a\u0440\u0436\u0434\u0435\u043d\u0438\u0435.":"\u041f\u043e\u043b\u0443\u0447\u0435\u043d\u0430"}edit(t){this.dialog.open(Jt,{data:{request:t}})}changeStatus(t,n){t.approval=n,this.absences_service.edit(t).subscribe(o=>{})}delete(t){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ce),e.Y36(U),e.Y36(d.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["short-profile-list"]],viewQuery:function(t,n){if(1&t&&(e.Gf(le.NW,5),e.Gf(te.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.paginator=o.first),e.iGM(o=e.CRH())&&(n.sort=o.first)}},inputs:{recent_requests:"recent_requests",requests:"requests",archieve:"archieve"},decls:1,vars:1,consts:[["class","shor-list",4,"ngIf"],[1,"shor-list"],["matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","created"],["mat-sort-header","",4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","start_date"],["matColumnDef","end_date"],["matColumnDef","days"],["matColumnDef","type_name"],["matColumnDef","approval"],["matColumnDef","actions"],[4,"matHeaderRowDef"],[4,"matRowDef","matRowDefColumns"],[1,"list-info","pull-right"],["mat-sort-header",""],[4,"ngIf"],["mat-icon-button","",3,"matMenuTriggerFor"],["menu","matMenu"],["mat-menu-item","",3,"click"]],template:function(t,n){1&t&&e.YNc(0,tn,27,3,"div",0),2&t&&e.Q6J("ngIf",n.absence_requests)},dependencies:[A.O5,D.lW,Z.Hw,De.VK,De.OP,De.p6,k.BZ,k.fO,k.as,k.w1,k.Dz,k.nj,k.ge,k.ev,k.XQ,k.Gk,te.YE,te.nU],styles:[".list-info[_ngcontent-%COMP%] {\n  font-size: small;\n  margin: 5px;\n}"]}),i})(),on=(()=>{class i{constructor(t){this.absences_service=t}ngOnInit(){this.list||this.get()}ngOnChanges(t){t.employee&&this.get()}onRequestCreated(t){console.log("new request:"),console.log(t),this.list.push(t)}get(){this.absences_service.getForEmployee(this.employee?.id).subscribe(t=>{this.list=t})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(U))},i.\u0275cmp=e.Xpm({type:i,selectors:[["profile-absence"]],viewQuery:function(t,n){if(1&t&&e.Gf(E.pp,5),2&t){let o;e.iGM(o=e.CRH())&&(n.accordion=o.first)}},inputs:{list:"list",archive:"archive",isDisabled:"isDisabled",employee:"employee"},features:[e.TTD],decls:21,vars:8,consts:[[1,"example-action-buttons"],["multi","",1,"example-headers-align"],[3,"expanded","hidden"],[3,"requestCreated"],[3,"recent_requests"],[3,"hidden","expanded"],[1,"absence-list"],[3,"requests"]],template:function(t,n){1&t&&(e._UZ(0,"div",0),e.TgZ(1,"mat-accordion",1)(2,"mat-expansion-panel",2)(3,"mat-expansion-panel-header")(4,"mat-panel-title"),e._uU(5," \u0417\u0430\u044f\u0432\u043a\u0430 \u0437\u0430 \u043e\u0442\u043f\u0443\u0441\u043a "),e.qZA(),e.TgZ(6,"mat-panel-description")(7,"mat-icon"),e._uU(8,"account_circle"),e.qZA()()(),e.TgZ(9,"profile-absence-request",3),e.NdJ("requestCreated",function(a){return n.onRequestCreated(a)}),e.qZA()(),e.TgZ(10,"mat-expansion-panel",2)(11,"mat-expansion-panel-header")(12,"mat-panel-title"),e._uU(13," \u041f\u043e\u0441\u043b\u0435\u0434\u043d\u043e \u0437\u0430\u044f\u0432\u0435\u043d\u0438 "),e.qZA(),e.TgZ(14,"mat-panel-description")(15,"mat-icon"),e._uU(16,"date_range"),e.qZA()()(),e._UZ(17,"short-profile-list",4),e.qZA(),e.TgZ(18,"mat-expansion-panel",5)(19,"div",6),e._UZ(20,"profile-absence-list",7),e.qZA()()()),2&t&&(e.xp6(2),e.Q6J("expanded",!0)("hidden",!n.isDisabled),e.xp6(8),e.Q6J("expanded",!0)("hidden",!n.isDisabled),e.xp6(7),e.Q6J("recent_requests",n.list),e.xp6(1),e.Q6J("hidden",n.isDisabled)("expanded",!0),e.xp6(2),e.Q6J("requests",n.list))},dependencies:[E.pp,E.ib,E.yz,E.yK,E.u4,Z.Hw,Dt,Qe,nn],styles:[".example-action-buttons[_ngcontent-%COMP%] {\n  padding-bottom: 20px;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%] {\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]    + .mat-mdc-form-field[_ngcontent-%COMP%] {\n  margin-left: 8px;\n}"]}),i})();var Ce=I(3848),Se=I(4128);let Oe=(()=>{class i{constructor(t,n){this.http=t,this.url=n,this.api_url=this.url.api_url+"/departments"}get(){return this.http.get(this.api_url)}add(t){return this.http.post(this.api_url,t)}edit(t){return this.http.put(this.api_url+"/"+t.id,t)}delete(t){return this.http.delete(this.api_url+"/"+t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(J.eN),e.LFG(M.e))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Te=(()=>{class i{constructor(t,n){this.http=t,this.url=n,this.api_url=this.url.api_url+"/positions",this.dataChange=new w.x,this.dataDeleted=new w.x,this.dataAdded=new w.x}changeData(t){this.dataChange.next(t)}deleteData(t){this.dataDeleted.next(t)}addData(t){this.dataAdded.next(t)}get(){return this.http.get(this.api_url)}add(t){return this.http.post(this.api_url,t).pipe((0,C.b)(n=>{n?.id&&this.addData(n)}),(0,T.K)(n=>{throw new L.y(n)}))}edit(t){return this.http.put(this.api_url+"/"+t.id,t).pipe((0,C.b)(o=>{o?.id&&this.changeData(o)}),(0,T.K)(o=>{throw new L.y(o)}))}delete(t){return this.http.delete(this.api_url+"/"+t).pipe((0,C.b)(n=>{n?.id&&this.deleteData(n)}),(0,T.K)(n=>{throw new L.y(n)}))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(J.eN),e.LFG(M.e))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ae=(()=>{class i{constructor(t,n){this.http=t,this.url=n,this.api_url=this.url.api_url+"/locations",this.dataChange=new w.x,this.dataDeleted=new w.x,this.dataAdded=new w.x}changeData(t){this.dataChange.next(t)}deleteData(t){this.dataDeleted.next(t)}addData(t){this.dataAdded.next(t)}get(){return this.http.get(this.api_url)}add(t){return this.http.post(this.api_url,t).pipe((0,C.b)(n=>{n?.id&&this.addData(n)}),(0,T.K)(n=>{throw new L.y(n)}))}edit(t){return this.http.put(this.api_url+"/"+t.id,t).pipe((0,C.b)(o=>{o?.id&&this.changeData(o)}),(0,T.K)(o=>{throw new L.y(o)}))}delete(t){return this.http.delete(this.api_url+"/"+t).pipe((0,C.b)(n=>{n?.id&&this.deleteData(n)}),(0,T.K)(n=>{throw new L.y(n)}))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(J.eN),e.LFG(M.e))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Be=(()=>{class i{constructor(t,n,o,a){this.employees_service=t,this.departments_service=n,this.positions_service=o,this.locations_service=a}getCompanyData(){return this.companyData$||(this.companyData$=(0,Se.D)({employees:this.employees_service.getEmployees(),departments:this.departments_service.get(),positions:this.positions_service.get(),locations:this.locations_service.get()}).pipe((0,T.K)(t=>{throw t}))),this.companyData$}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(ee),e.LFG(Oe),e.LFG(Te),e.LFG(Ae))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),sn=(()=>{class i{constructor(t,n){this.http=t,this.url=n,this.api_url=this.url.api_url+"/profile/picture"}add(t,n){const o=new FormData;return o.append("employee_id",t.toString()),o.append("file",n),this.http.post(this.api_url,o)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(J.eN),e.LFG(M.e))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const an=["addPic"];function rn(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",3),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.addPicture())}),e._uU(2,"Change picture"),e.qZA(),e.TgZ(3,"div",4),e._uU(4,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u0435\u043d \u0440\u0430\u0437\u043c\u0435\u0440: 10MB"),e.qZA(),e.TgZ(5,"input",5,6),e.NdJ("change",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.onFileSelected(o))}),e.qZA(),e.BQk()}}let un=(()=>{class i{constructor(t,n,o,a){this.picture_service=t,this.swal_service=n,this.employee_service=o,this.user_permissions=a,this.ASSETS_PATH="/test/hr-app/public/assets/angular/assets/",this.selectedFile=null,this.canChangeProfilePicture=!1,this.canChangeProfilePicturesGlobal=!1}ngOnInit(){(0,e.X6Q)()&&(this.ASSETS_PATH="/assets/"),this.getCurrentEmployee(),this.checkPermissions()}addPicture(){this.addPic.nativeElement.click()}onFileSelected(t){this.selectedFile=t.target.files[0],this.swal_service.loader(),setTimeout(()=>{this.onUpload()},100)}onUpload(){this.selectedFile&&this.employee.id?this.picture_service.add(this.employee.id,this.selectedFile).subscribe(t=>{t.success&&window.location.reload()},t=>{this.swal_service.error({titleText:"Picture was not changed"})}):this.swal_service.error({titleText:"No employee or file"})}getCurrentEmployee(){this.employee_service.getEmployee().subscribe(t=>this.loggedEmployee=t)}canChangePicture(t){return!!this.canChangeProfilePicturesGlobal||t===this.loggedEmployee?.id&&this.canChangeProfilePicture}checkPermissions(){this.user_permissions.hasPermission("can_change_profile_pictures_global").subscribe(t=>this.canChangeProfilePicturesGlobal=t),this.user_permissions.hasPermission("can_change_profile_picture").subscribe(t=>this.canChangeProfilePicture=t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(sn),e.Y36(P.J),e.Y36(ee),e.Y36(me.Q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["picture"]],viewQuery:function(t,n){if(1&t&&e.Gf(an,5),2&t){let o;e.iGM(o=e.CRH())&&(n.addPic=o.first)}},inputs:{employee:"employee"},decls:3,vars:3,consts:[[1,"picture-component"],[1,"avatar",3,"alt","src","error"],[4,"ngIf"],[1,"change-picture",3,"click"],[1,"max-file-size-info"],["accept","image/*","hidden","","type","file",3,"change"],["addPic",""]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"img",1),e.NdJ("error",function(a){return a.target.src=n.ASSETS_PATH+"img/default/profile_avatar.png"}),e.qZA(),e.YNc(2,rn,7,0,"ng-container",2),e.qZA()),2&t&&(e.xp6(1),e.Q6J("alt",n.employee.first_name+" "+n.employee.last_name)("src",n.ASSETS_PATH+"img/faces/profile_picture_"+n.employee.id+".jpg",e.LSH),e.xp6(1),e.Q6J("ngIf",n.employee&&n.canChangePicture(n.employee.id)))},dependencies:[A.O5],styles:[".picture-component[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  padding-right: 1vw;\n  padding-top: 1vw;\n}\n.picture-component[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%] {\n  height: 15vw;\n  width: 15vw;\n  max-height: 300px;\n  max-width: 300px;\n  border-radius: 5%;\n  border: solid #26c6da;\n}\n.picture-component[_ngcontent-%COMP%]   .change-picture[_ngcontent-%COMP%] {\n  text-align: center;\n  cursor: pointer;\n}\n.picture-component[_ngcontent-%COMP%]   .max-file-size-info[_ngcontent-%COMP%] {\n  text-align: center;\n  font-size: 14px; \n  color: #999; \n  margin-top: 5px; \n}"]}),i})(),we=(()=>{class i{transform(t,n,o){return 0===t.length||""===n?t:t.filter(a=>a[o].toLowerCase().includes(n.toLowerCase()))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"searchText",type:i,pure:!0}),i})();function ln(i,s){1&i&&(e.TgZ(0,"div")(1,"span",27),e._uU(2,"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u0430 \u043f\u043e\u043b\u0435\u0442\u043e"),e.qZA()())}function cn(i,s){1&i&&(e.TgZ(0,"div")(1,"span",27),e._uU(2,"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u0430 \u043f\u043e\u043b\u0435\u0442\u043e"),e.qZA()())}function dn(i,s){1&i&&(e.TgZ(0,"div")(1,"span",27),e._uU(2,"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u0430 \u043f\u043e\u043b\u0435\u0442\u043e"),e.qZA()())}function pn(i,s){if(1&i&&(e.TgZ(0,"mat-option",28)(1,"strong"),e._uU(2),e.qZA()()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(2),e.Oqu(t.name)}}function _n(i,s){1&i&&(e.TgZ(0,"div")(1,"span",27),e._uU(2,"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u0430 \u043f\u043e\u043b\u0435\u0442\u043e"),e.qZA()())}function mn(i,s){if(1&i&&(e.TgZ(0,"mat-option",28)(1,"strong"),e._uU(2),e.qZA()()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(2),e.Oqu(t.name)}}function gn(i,s){1&i&&(e.TgZ(0,"div")(1,"span",27),e._uU(2,"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u0430 \u043f\u043e\u043b\u0435\u0442\u043e"),e.qZA()())}function fn(i,s){if(1&i&&(e.TgZ(0,"mat-option",28)(1,"strong"),e._uU(2),e.qZA()()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(2),e.Oqu(t.city)}}function hn(i,s){1&i&&(e.TgZ(0,"div")(1,"span",27),e._uU(2,"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u0430 \u043f\u043e\u043b\u0435\u0442\u043e"),e.qZA()())}function vn(i,s){1&i&&(e.TgZ(0,"div")(1,"span",27),e._uU(2,"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u0430 \u043f\u043e\u043b\u0435\u0442\u043e"),e.qZA()())}function bn(i,s){1&i&&(e.TgZ(0,"div")(1,"span",27),e._uU(2,"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u0430 \u043f\u043e\u043b\u0435\u0442\u043e"),e.qZA()())}function yn(i,s){1&i&&(e.TgZ(0,"div")(1,"span",27),e._uU(2,"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u0430 \u043f\u043e\u043b\u0435\u0442\u043e"),e.qZA()())}function xn(i,s){1&i&&(e.TgZ(0,"div")(1,"span",27),e._uU(2,"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u0430 \u043f\u043e\u043b\u0435\u0442\u043e"),e.qZA()())}function Zn(i,s){1&i&&(e.TgZ(0,"div")(1,"span",27),e._uU(2,"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u0430 \u043f\u043e\u043b\u0435\u0442\u043e"),e.qZA()())}function Cn(i,s){1&i&&(e.TgZ(0,"div")(1,"span",27),e._uU(2,"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u0430 \u043f\u043e\u043b\u0435\u0442\u043e"),e.qZA()())}function Tn(i,s){1&i&&(e.TgZ(0,"div")(1,"span",27),e._uU(2,"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u0430 \u043f\u043e\u043b\u0435\u0442\u043e"),e.qZA()())}function An(i,s){1&i&&(e.TgZ(0,"div")(1,"span",27),e._uU(2,"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u0430 \u043f\u043e\u043b\u0435\u0442\u043e"),e.qZA()())}function wn(i,s){1&i&&(e.TgZ(0,"div")(1,"span",27),e._uU(2,"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u0430 \u043f\u043e\u043b\u0435\u0442\u043e"),e.qZA()())}function qn(i,s){if(1&i&&(e.TgZ(0,"mat-option",28),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.lnq(" ",t.first_name," ",t.last_name," (",t.position_name,") ")}}function Mn(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",1),e._UZ(1,"picture",2),e.TgZ(2,"form",3)(3,"div",4)(4,"div",5)(5,"mat-form-field",6)(6,"mat-label"),e._uU(7,"\u0418\u043c\u0435"),e.qZA(),e._UZ(8,"input",7),e.qZA(),e.YNc(9,ln,3,0,"div",8),e.qZA(),e.TgZ(10,"div",5)(11,"mat-form-field",6)(12,"mat-label"),e._uU(13,"\u041f\u0440\u0435\u0437\u0438\u043c\u0435"),e.qZA(),e._UZ(14,"input",9),e.qZA(),e.YNc(15,cn,3,0,"div",8),e.qZA(),e.TgZ(16,"div",5)(17,"mat-form-field",6)(18,"mat-label"),e._uU(19,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),e.qZA(),e._UZ(20,"input",10),e.qZA(),e.YNc(21,dn,3,0,"div",8),e.qZA()(),e.TgZ(22,"div",4)(23,"div",5)(24,"mat-form-field")(25,"mat-label"),e._uU(26,"\u0414\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442"),e.qZA(),e.TgZ(27,"mat-select",11),e.YNc(28,pn,3,2,"mat-option",12),e.ALo(29,"searchText"),e.qZA()(),e.YNc(30,_n,3,0,"div",8),e.qZA(),e.TgZ(31,"div",5)(32,"mat-form-field")(33,"mat-label"),e._uU(34,"\u041f\u043e\u0437\u0438\u0446\u0438\u044f"),e.qZA(),e.TgZ(35,"mat-select",13)(36,"mat-form-field")(37,"input",14),e.NdJ("keyup",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.filterPositions(o))}),e.qZA()(),e.YNc(38,mn,3,2,"mat-option",12),e.ALo(39,"searchText"),e.qZA()(),e.YNc(40,gn,3,0,"div",8),e.qZA(),e.TgZ(41,"div",5)(42,"mat-form-field")(43,"mat-label"),e._uU(44,"\u041b\u043e\u043a\u0430\u0446\u0438\u044f"),e.qZA(),e.TgZ(45,"mat-select",15),e.YNc(46,fn,3,2,"mat-option",12),e.ALo(47,"searchText"),e.qZA()(),e.YNc(48,hn,3,0,"div",8),e.qZA(),e.TgZ(49,"div",5)(50,"mat-form-field",6)(51,"mat-label"),e._uU(52,"\u0421\u043b\u0443\u0436\u0435\u0431\u0435\u043d \u0442\u0435\u043b\u0435\u0444\u043e\u043d"),e.qZA(),e._UZ(53,"input",16),e.qZA(),e.YNc(54,vn,3,0,"div",8),e.qZA()(),e.TgZ(55,"div",4)(56,"div",5)(57,"mat-form-field",6)(58,"mat-label"),e._uU(59,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e._UZ(60,"input",17),e.qZA(),e.YNc(61,bn,3,0,"div",8),e.qZA(),e.TgZ(62,"div",5)(63,"mat-form-field",6)(64,"mat-label"),e._uU(65,"\u0413\u0440\u0430\u0434"),e.qZA(),e._UZ(66,"input",18),e.qZA(),e.YNc(67,yn,3,0,"div",8),e.qZA(),e.TgZ(68,"div",5)(69,"mat-form-field",6)(70,"mat-label"),e._uU(71,"\u0414\u044a\u0440\u0436\u0430\u0432\u0430"),e.qZA(),e._UZ(72,"input",19),e.qZA(),e.YNc(73,xn,3,0,"div",8),e.qZA(),e.TgZ(74,"div",5)(75,"mat-form-field",6)(76,"mat-label"),e._uU(77,"\u041f\u043e\u0449\u0435\u043d\u0441\u043a\u0438 \u043a\u043e\u0434"),e.qZA(),e._UZ(78,"input",20),e.qZA(),e.YNc(79,Zn,3,0,"div",8),e.qZA()(),e.TgZ(80,"div",4)(81,"div",5)(82,"mat-form-field",6)(83,"mat-label"),e._uU(84,"\u0415\u0413\u041d"),e.qZA(),e._UZ(85,"input",21),e.qZA(),e.YNc(86,Cn,3,0,"div",8),e.qZA(),e.TgZ(87,"div",5)(88,"mat-form-field",6)(89,"mat-label"),e._uU(90,"\u041b\u0438\u0447\u0435\u043d \u0442\u0435\u043b\u0435\u0444\u043e\u043d"),e.qZA(),e._UZ(91,"input",22),e.qZA(),e.YNc(92,Tn,3,0,"div",8),e.qZA(),e.TgZ(93,"div",5)(94,"mat-form-field",6)(95,"mat-label"),e._uU(96,"\u0418\u043c\u0435\u0439\u043b"),e.qZA(),e._UZ(97,"input",23),e.qZA(),e.YNc(98,An,3,0,"div",8),e.qZA(),e.TgZ(99,"div",5)(100,"mat-form-field",6)(101,"mat-label"),e._uU(102,"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u043d\u0430"),e.qZA(),e._UZ(103,"input",24),e.qZA(),e.YNc(104,wn,3,0,"div",8),e.qZA()(),e.TgZ(105,"div",4)(106,"div",5)(107,"mat-form-field")(108,"mat-label"),e._uU(109,"\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u043d\u0438\u0434\u0436\u044a\u0440 \u043d\u0430 \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b\u044f"),e.qZA(),e.TgZ(110,"mat-select",25)(111,"input",26),e.NdJ("keyup",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.filtering(o.target.value,"first_name"))}),e.qZA(),e.YNc(112,qn,2,4,"mat-option",12),e.ALo(113,"searchText"),e.ALo(114,"searchText"),e.qZA()()()()()()}if(2&i){const t=e.oxw();e.xp6(1),e.Q6J("employee",t.employee),e.xp6(1),e.Q6J("formGroup",t.profileDataForm),e.xp6(7),e.Q6J("ngIf",t.profileDataForm.get("first_name").invalid&&t.profileDataForm.get("first_name").touched),e.xp6(6),e.Q6J("ngIf",t.profileDataForm.get("surname").invalid&&t.profileDataForm.get("surname").touched),e.xp6(6),e.Q6J("ngIf",t.profileDataForm.get("last_name").invalid&&t.profileDataForm.get("last_name").touched),e.xp6(7),e.Q6J("ngForOf",e.Dn7(29,21,t.departments,t.filter.department_name,"name")),e.xp6(2),e.Q6J("ngIf",t.profileDataForm.get("department_id").invalid&&t.profileDataForm.get("department_id").touched),e.xp6(8),e.Q6J("ngForOf",e.Dn7(39,25,t.positions,t.filter.position_name,"name")),e.xp6(2),e.Q6J("ngIf",t.profileDataForm.get("position_id").invalid&&t.profileDataForm.get("position_id").touched),e.xp6(6),e.Q6J("ngForOf",e.Dn7(47,29,t.locations,t.filter.location_city,"city")),e.xp6(2),e.Q6J("ngIf",t.profileDataForm.get("location_id").invalid&&t.profileDataForm.get("location_id").touched),e.xp6(6),e.Q6J("ngIf",t.profileDataForm.get("work_phone").invalid&&t.profileDataForm.get("work_phone").touched),e.xp6(7),e.Q6J("ngIf",t.profileDataForm.get("address").invalid&&t.profileDataForm.get("address").touched),e.xp6(6),e.Q6J("ngIf",t.profileDataForm.get("city").invalid&&t.profileDataForm.get("city").touched),e.xp6(6),e.Q6J("ngIf",t.profileDataForm.get("country").invalid&&t.profileDataForm.get("country").touched),e.xp6(6),e.Q6J("ngIf",t.profileDataForm.get("post_code").invalid&&t.profileDataForm.get("post_code").touched),e.xp6(7),e.Q6J("ngIf",t.profileDataForm.get("pin").invalid&&t.profileDataForm.get("pin").touched),e.xp6(6),e.Q6J("ngIf",t.profileDataForm.get("personal_phone").invalid&&t.profileDataForm.get("personal_phone").touched),e.xp6(6),e.Q6J("ngIf",t.profileDataForm.get("email").invalid&&t.profileDataForm.get("email").touched),e.xp6(6),e.Q6J("ngIf",t.profileDataForm.get("start").invalid&&t.profileDataForm.get("start").touched),e.xp6(8),e.Q6J("ngForOf",e.Dn7(113,33,e.Dn7(114,37,t.employees,t.filter.first_name,"first_name"),t.filter.last_name,"last_name"))}}let Pn=(()=>{class i{constructor(t,n,o,a,_){this.user_service=t,this.employees_service=n,this.swal_service=o,this.company_data_service=a,this.el=_,this.isDisabled=!1,this.filter={first_name:"",last_name:"",department_name:"",position_name:"",location_city:""},this.employees=[],this.departments=[],this.positions=[],this.locations=[],this.loading=!0,this.getCompanyData()}get profileDataForm(){return this.form.get("profile_data")}getCompanyData(){this.company_data_service.getCompanyData().subscribe(t=>{this.employees=t.employees,this.departments=t.departments,this.positions=t.positions,this.locations=t.locations,this.swal_service.loader().close()},t=>{})}ngOnInit(){this.employee?this.setForm(this.employee):this.getCurrentUser()}ngAfterViewInit(){this.setForm(this.employee)}setForm(t){!t||(this.profileDataForm.markAllAsTouched(),this.profileDataForm.patchValue({id:t.id,user_id:this.employee.user_id,department_id:t.department_id,position_id:t.position_id,location_id:t.location_id,supervisors:t.supervisors,first_name:t.first_name,last_name:t.last_name,surname:t.surname,email:t.email,city:t.city,post_code:t.post_code,address:t.address,country:t.country,pin:t.pin,personal_phone:t.personal_phone,start:t.start,work_phone:t?.work_phone??""}),this.isDisabled&&this.profileDataForm.disable())}getCurrentUser(){this.employees_service.getEmployee().subscribe(t=>{t||this.swal_service.error({title:"\u0413\u0440\u0435\u0448\u043a\u0430",titleText:t.error}),this.employee=t,this.setForm(t)})}filtering(t,n){this.filter[n]=String(t)}destroySearch(t){console.log(t),console.log(t.nativeElement),console.log(this.el.nativeElement(t)),console.log(this.el.nativeElement.querySelector("#department_name")),console.log(this.el.nativeElement)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_e),e.Y36(ee),e.Y36(P.J),e.Y36(Be),e.Y36(e.SBq))},i.\u0275cmp=e.Xpm({type:i,selectors:[["profile-data"]],inputs:{employee:"employee",getEmployee:"getEmployee",isDisabled:"isDisabled",form:"form"},decls:1,vars:1,consts:[["class","profile-data",4,"ngIf"],[1,"profile-data"],[3,"employee"],[1,"form","mt-3",3,"formGroup"],[1,"data-row"],[1,"item"],[1,"example-full-width"],["matInput","","formControlName","first_name","placeholder","\u0418\u043c\u0435","type","text"],[4,"ngIf"],["matInput","","formControlName","surname","placeholder","\u041f\u0440\u0435\u0437\u0438\u043c\u0435","type","text"],["matInput","","formControlName","last_name","placeholder","\u0424\u0430\u043c\u0438\u043b\u0438\u044f","type","text"],["formControlName","department_id","placeholder","\u0414\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442","type","text"],[3,"value",4,"ngFor","ngForOf"],["formControlName","position_id","placeholder","\u041f\u043e\u0437\u0438\u0446\u0438\u044f","type","text"],["matInput","","placeholder","Search",3,"keyup"],["formControlName","location_id","placeholder","\u041b\u043e\u043a\u0430\u0446\u0438\u044f","type","text"],["matInput","","formControlName","work_phone","placeholder","\u0421\u043b\u0443\u0436\u0435\u0431\u0435\u043d \u0442\u0435\u043b\u0435\u0444\u043e\u043d","type","text"],["matInput","","formControlName","address","placeholder","\u0410\u0434\u0440\u0435\u0441","type","text"],["matInput","","formControlName","city","placeholder","\u0413\u0440\u0430\u0434","type","text"],["matInput","","formControlName","country","placeholder","\u0414\u044a\u0440\u0436\u0430\u0432\u0430","type","text"],["matInput","","formControlName","post_code","placeholder","\u041f\u043e\u0449\u0435\u043d\u0441\u043a\u0438 \u043a\u043e\u0434","type","number"],["matInput","","formControlName","pin","placeholder","\u0415\u0413\u041d","type","number"],["matInput","","formControlName","personal_phone","placeholder","\u041b\u0438\u0447\u0435\u043d \u0442\u0435\u043b\u0435\u0444\u043e\u043d","type","text"],["matInput","","formControlName","email","placeholder","\u0418\u043c\u0435\u0439\u043b","type","text"],["matInput","","formControlName","start","placeholder","\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u043d\u0430","type","date"],["multiple","","formControlName","supervisors","placeholder","\u0420\u044a\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0438"],["matInput","","placeholder","\u0422\u044a\u0440\u0441\u0438...",3,"keyup"],[1,"text-danger"],[3,"value"]],template:function(t,n){1&t&&e.YNc(0,Mn,115,41,"div",0),2&t&&e.Q6J("ngIf",n.employee&&n.employees&&n.departments&&n.positions&&n.locations)},dependencies:[A.sg,A.O5,l.KE,l.hX,m.Nt,ne.gD,X.ey,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,un,we],styles:[".profile-data[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n}\n.profile-data[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%] {\n  display: flex;\n  column-gap: 4em;\n}\n.profile-data[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%] {\n  flex-grow: 4;\n}"]}),i})(),Un=(()=>{class i{constructor(t,n){this.employees_service=t,this.swal_service=n,this.profileUpdated=new e.vpe}get profileDataForm(){return this.form.get("profile_data")}ngOnInit(){}update(){if(this.form.markAllAsTouched(),!this.form.valid)return;this.swal_service.loader().fire();let t=this.profileDataForm.getRawValue();this.employees_service.edit(t.id,t).subscribe(n=>{n||this.swal_service.error({title:"\u0413\u0440\u0435\u0448\u043a\u0430",titleText:n.error}),this.profileUpdated.emit(n),this.swal_service.success({title:"\u0414\u0430\u043d\u043d\u0438\u0442\u0435 \u0441\u0430 \u043e\u0431\u043d\u043e\u0432\u0435\u043d\u0438."})},n=>{this.swal_service.error({title:"\u0413\u0440\u0435\u0448\u043a\u0430",titleText:n.error})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ee),e.Y36(P.J))},i.\u0275cmp=e.Xpm({type:i,selectors:[["profile-actions"]],inputs:{form:"form"},outputs:{profileUpdated:"profileUpdated"},decls:5,vars:1,consts:[[1,"actions"],["mat-dialog-close","",1,"btn"],["mat-raised-button","","type","submit",1,"btn","btn-warning",3,"disabled","click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"button",1),e._uU(2,"\u0417\u0430\u0442\u0432\u043e\u0440\u0438 "),e.qZA(),e.TgZ(3,"button",2),e.NdJ("click",function(){return n.update()}),e._uU(4,"\u0417\u0430\u043f\u0430\u0437\u0438 "),e.qZA()()),2&t&&(e.xp6(3),e.Q6J("disabled",!n.form.valid))},dependencies:[D.lW,d.ZT],styles:[".actions[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n  min-width: 150px;\n}"]}),i})(),Re=(()=>{class i{constructor(t,n){this.http=t,this.url=n,this.api_url=this.url.api_url+"/salaries"}getSalaries(){return this.http.get(this.url.api_url+"/salaries")}getSalary(t){return this.http.get(this.api_url+"/"+t)}setSalary(t,n){return this.http.post(this.api_url,{employee_id:t,salary:n}).pipe((0,C.b)(o=>{}),(0,T.K)(o=>{throw new L.y(o)}))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(J.eN),e.LFG(M.e))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),kn=(()=>{class i{constructor(t,n){this.salaries_service=t,this.swal_service=n}ngOnInit(){this.salary||this.salaries_service.getSalary(this.employee_id).subscribe(t=>this.salary=t?.gross_salary)}ngOnChanges(t){t.employee_id&&!this.salary&&this.salaries_service.getSalary(this.employee_id).subscribe(n=>this.salary=n?.gross_salary)}save(){const t=document.getElementById("salaryInput"),n=document.getElementById("salaryError");/^-?\d+(\.\d+)?$/.test(t.value)?(n.textContent="",this.employee_id?this.salaries_service.setSalary(this.employee_id,this.salary).subscribe(a=>{a?this.swal_service.success({text:"\u041f\u0440\u043e\u043c\u0435\u043d\u0438\u0442\u0435 \u0441\u0430 \u0430\u043a\u0442\u0443\u0430\u043b\u0438\u0437\u0438\u0440\u0430\u043d\u0438."}):this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430, \u043c\u043e\u043b\u044f \u043e\u043f\u0438\u0442\u0430\u0439\u0442\u0435 \u043f\u043e-\u043a\u044a\u0441\u043d\u043e."})}):this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430, \u043c\u043e\u043b\u044f \u043e\u043f\u0438\u0442\u0430\u0439\u0442\u0435 \u043f\u043e-\u043a\u044a\u0441\u043d\u043e."})):n.textContent="\u0411\u0440\u0443\u0442\u043d\u0430\u0442\u0430 \u0437\u0430\u043f\u043b\u0430\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0431\u044a\u0434\u0435 \u0447\u0438\u0441\u043b\u043e."}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Re),e.Y36(P.J))},i.\u0275cmp=e.Xpm({type:i,selectors:[["salary"]],inputs:{employee_id:"employee_id",salary:"salary"},features:[e.TTD],decls:9,vars:1,consts:[[2,"margin-top","20px"],["for","salaryInput",2,"margin-right","5px"],["type","text","id","salaryInput",2,"text-align","right",3,"ngModel","ngModelChange"],[2,"margin-left","5px"],[2,"margin-left","10px",3,"click"],["id","salaryError",2,"color","red","margin-left","10px"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"label",1),e._uU(2,"\u0411\u0440\u0443\u0442\u043d\u0430 \u0437\u0430\u043f\u043b\u0430\u0442\u0430"),e.qZA(),e.TgZ(3,"input",2),e.NdJ("ngModelChange",function(a){return n.salary=a}),e.qZA(),e.TgZ(4,"span",3),e._uU(5,"\u043b\u0432."),e.qZA(),e.TgZ(6,"button",4),e.NdJ("click",function(){return n.save()}),e._uU(7,"\u0417\u0430\u043f\u0430\u0437\u0438"),e.qZA(),e._UZ(8,"div",5),e.qZA()),2&t&&(e.xp6(3),e.Q6J("ngModel",n.salary))},dependencies:[r.Fj,r.JJ,r.On]}),i})();function Dn(i,s){if(1&i&&(e.TgZ(0,"mat-tab",18)(1,"div",19),e._UZ(2,"salary",20),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("employee_id",null==t.employee?null:t.employee.id)("salary",null==t.employee||null==t.employee.salary?null:t.employee.salary.gross_salary)}}let Le=(()=>{class i{constructor(t,n,o,a,_,N,R,K){this.user_service=t,this.employee_profile_service=n,this.swal_service=o,this.fb=a,this.injector=_,this.dialog=N,this.user_permissions=R,this.employees_service=K,this.profileChange=new e.vpe,this.me=!1,this.canViewSalary=!1,this.parent_component=!1,this.canForceChangePassword=!1,this.injector.get(d.so,null)&&(this.parent_component=!0),this.profileDataForm=new F(a),this.form=new r.nJ({profile_data:this.profileDataForm.formGroup})}get getProfileDataForm(){return this.form.get("profile_data")}get getAbsenceRequestForm(){return this.form.get("absence_request")}ngOnInit(){this.employee||(this.getEmployee(),console.log(this.employee)),console.log(this.absences),this.user_permissions.hasPermission("can_force_change_password").subscribe(t=>{this.canForceChangePassword=t},t=>{console.log(t)}),this.user_permissions.hasPermission("can_view_salary").subscribe(t=>{this.canViewSalary=t},t=>{console.log(t)})}getProfile(){}getEmployee(){this.employees_service.getEmployee().subscribe(t=>{t||this.swal_service.error({title:"\u0413\u0440\u0435\u0448\u043a\u0430",titleText:t.error}),this.employee=t},t=>{this.swal_service.error({title:`${t.title()}`,text:`\u0421\u043b\u0443\u0436\u0438\u0442\u0435\u043b\u044f \u043d\u0435 \u0435 \u043d\u0430\u043c\u0435\u0440\u0435\u043d: ${t.message()}`})})}onProfileUpdated(t){this.profileChange.emit(t)}changePassword(){this.dialog.open(V,{data:{}})}forcePasswordChange(){this.dialog.open(mt,{data:{user_id:this.employee.user_id}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_e),e.Y36(Ie),e.Y36(P.J),e.Y36(r.QS),e.Y36(e.zs3),e.Y36(d.uw),e.Y36(me.Q),e.Y36(ee))},i.\u0275cmp=e.Xpm({type:i,selectors:[["profile"]],inputs:{employee:"employee",absences:"absences"},outputs:{profileChange:"profileChange"},decls:27,vars:15,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info",2,"display","flex","justify-content","space-between","align-items","flex-start"],[1,"card-title"],[1,"card-category"],[3,"hidden","click"],[1,"card-body"],["label","\u0418\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0438\u044f"],[1,"profile-data"],[3,"form","employee","getEmployee","isDisabled"],[3,"hidden","form","profileUpdated"],["label","\u041e\u0442\u043f\u0443\u0441\u043a"],[1,"absence-requests"],[3,"employee","list","archive","isDisabled"],["label","\u0417\u0430\u043f\u043b\u0430\u0442\u0430",4,"ngIf"],["label","\u0417\u0430\u043f\u043b\u0430\u0442\u0430"],[1,"salary"],[3,"employee_id","salary"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div")(7,"h4",6),e._uU(8,"\u0414\u043e\u0441\u0438\u0435 \u043d\u0430 \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b"),e.qZA(),e.TgZ(9,"p",7),e._uU(10),e.qZA()(),e.TgZ(11,"div")(12,"button",8),e.NdJ("click",function(){return n.changePassword()}),e._uU(13," \u0421\u043c\u044f\u043d\u0430 \u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430 "),e.qZA(),e.TgZ(14,"button",8),e.NdJ("click",function(){return n.forcePasswordChange()}),e._uU(15," \u0421\u043c\u044f\u043d\u0430 \u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u043d\u0430 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044f "),e.qZA()()(),e.TgZ(16,"div",9)(17,"div",1)(18,"mat-tab-group")(19,"mat-tab",10)(20,"div",11),e._UZ(21,"profile-data",12),e.TgZ(22,"profile-actions",13),e.NdJ("profileUpdated",function(a){return n.onProfileUpdated(a)}),e.qZA()()(),e.TgZ(23,"mat-tab",14)(24,"div",15),e._UZ(25,"profile-absence",16),e.qZA()(),e.YNc(26,Dn,3,2,"mat-tab",17),e.qZA()()()()()()()()),2&t&&(e.xp6(10),e.AsE("",null==n.employee?null:n.employee.first_name," ",null==n.employee?null:n.employee.last_name,""),e.xp6(2),e.Q6J("hidden",n.parent_component),e.xp6(2),e.Q6J("hidden",!n.parent_component||!n.canForceChangePassword),e.xp6(7),e.Q6J("form",n.form)("employee",n.employee)("getEmployee",n.getEmployee)("isDisabled",!n.parent_component),e.xp6(1),e.Q6J("hidden",!n.parent_component)("form",n.form),e.xp6(3),e.Q6J("employee",n.employee)("list",null==n.absences?null:n.absences.requests)("archive",null==n.absences?null:n.absences.archive)("isDisabled",!n.parent_component),e.xp6(1),e.Q6J("ngIf",n.canViewSalary&&n.parent_component))},dependencies:[A.O5,on,Ce.SP,Ce.uX,Pn,Un,kn],styles:[".profile-data[_ngcontent-%COMP%] {\n  width: 99%;\n}"]}),i})(),On=(()=>{class i{constructor(t,n){this.dialogRef=t,this.data=n}ngOnDestroy(){this.dialogRef.close(this.employee)}ngOnInit(){this.employee=this.data.employee,this.absences=this.data.absences,console.log(this.data)}onProfileUpdated(t){this.employee=t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.so),e.Y36(d.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["profile-dialog"]],decls:2,vars:2,consts:[[3,"employee","absences","profileChange"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-dialog-content")(1,"profile",0),e.NdJ("profileChange",function(a){return n.onProfileUpdated(a)}),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("employee",n.employee)("absences",n.absences))},dependencies:[d.xY,Le],encapsulation:2}),i})();class Fn{constructor(s){this.fb=s,this.formGroup=this.fb.group({first_name:["",[r.kI.required,r.kI.pattern("^[A-Z\u0410-\u042f][a-z\u0430-\u044f]{0,14}$")]],last_name:["",[r.kI.required,r.kI.pattern("^[A-Z\u0410-\u042f][a-z\u0430-\u044f]{0,14}$")]],email:["",[r.kI.required,r.kI.email]],email_confirmation:["",[r.kI.required,r.kI.email]],password:["",[r.kI.required,r.kI.minLength(6),r.kI.pattern(/^\S*$/)]],password_confirmation:["",[r.kI.required,r.kI.minLength(6),r.kI.pattern(/^\S*$/)]]},{validator:[this.checkEmails,this.checkPasswords]})}checkEmails(s){return s.get("email").value===s.get("email_confirmation").value?null:{emailsNotMatch:!0}}checkPasswords(s){return s.get("password").value===s.get("password_confirmation").value?null:{passwordNotMatch:!0}}}function En(i,s){1&i&&(e.TgZ(0,"div")(1,"span",18),e._uU(2,"\u0418\u043c\u0435\u0442\u043e \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u043f\u043e\u0447\u0432\u0430 \u0441 \u0433\u043b\u0430\u0432\u043d\u0430 \u0431\u0443\u043a\u0432\u0430!"),e.qZA()())}function Nn(i,s){1&i&&(e.TgZ(0,"div")(1,"span",18),e._uU(2,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0437\u0430\u043f\u043e\u0447\u0432\u0430 \u0441 \u0433\u043b\u0430\u0432\u043d\u0430 \u0431\u0443\u043a\u0432\u0430!"),e.qZA()())}function Jn(i,s){1&i&&(e.TgZ(0,"div")(1,"span",18),e._uU(2,"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0438\u043c\u0435\u0439\u043b \u0430\u0434\u0440\u0435\u0441!"),e.qZA()())}function Yn(i,s){1&i&&(e.TgZ(0,"div")(1,"span",18),e._uU(2,"\u0418\u043c\u0435\u0439\u043b \u0430\u0434\u0440\u0435\u0441\u0430 \u043d\u0435 \u0441\u044a\u0432\u043f\u0430\u0434\u0430!"),e.qZA()())}function In(i,s){1&i&&(e.TgZ(0,"div")(1,"span",18),e._uU(2,"\u041d\u0435\u0432\u0430\u043b\u0438\u0434\u0435\u043d \u0444\u043e\u0440\u043c\u0430\u0442 \u043d\u0430 \u043f\u0430\u0440\u043e\u043b\u0430\u0442\u0430!"),e.qZA(),e.TgZ(3,"span",18),e._uU(4,"\u041f\u0430\u0440\u043e\u043b\u0430\u0442\u0430 \u0442\u0440\u044f\u0431\u0432\u0430 \u0434\u0430 \u0435 \u043e\u0442 \u043c\u0438\u043d\u0438\u043c\u0443\u043c 6 \u043b\u0430\u0442\u0438\u043d\u0441\u043a\u0438 \u0441\u0438\u043c\u0432\u043e\u043b\u0430."),e.qZA()())}function Qn(i,s){1&i&&(e.TgZ(0,"div")(1,"span",18),e._uU(2,"\u041f\u0430\u0440\u043e\u043b\u0438\u0442\u0435 \u043d\u0435 \u0441\u044a\u0432\u043f\u0430\u0434\u0430\u0442!"),e.qZA()())}let Sn=(()=>{class i{constructor(t,n,o){this.user_service=t,this.fb=n,this.swal_service=o,this.userRegistered=new e.vpe,this.user=new Fn(n)}ngOnInit(){}register(){if(!this.user.formGroup.valid)return void this.user.formGroup.markAllAsTouched();const t=this.user.formGroup.getRawValue();this.user_service.add(t).subscribe(n=>{n.id?this.userRegistered.emit(n):this.swal_service.error({title:"\u0413\u0440\u0435\u0448\u043a\u0430",titleText:n.error})},n=>{const o=Object.values(n).map(a=>a[0]).join(", ");this.swal_service.error({title:"\u0413\u0440\u0435\u0448\u043a\u0430",text:o})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_e),e.Y36(r.QS),e.Y36(P.J))},i.\u0275cmp=e.Xpm({type:i,selectors:[["register"]],outputs:{userRegistered:"userRegistered"},decls:52,vars:7,consts:[[1,"register"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-category"],[1,"container",3,"formGroup"],[1,"item"],[1,"particle"],["matInput","","formControlName","first_name","type","text","placeholder","\u0418\u043c\u0435"],[4,"ngIf"],["matInput","","formControlName","last_name","type","text","placeholder","\u0424\u0430\u043c\u0438\u043b\u0438\u044f"],["matInput","","type","email","formControlName","email","placeholder","\u0415\u043c\u0435\u0439\u043b"],["matInput","","type","email","formControlName","email_confirmation","placeholder","\u041f\u043e\u0442\u0432\u044a\u0440\u0434\u0438 \u0435\u043c\u0435\u0439\u043b"],["matInput","","type","password","formControlName","password","placeholder","\u041f\u0430\u0440\u043e\u043b\u0430"],["matInput","","type","password","formControlName","password_confirmation","placeholder","\u041f\u043e\u0442\u0432\u044a\u0440\u0434\u0438 \u043f\u0430\u0440\u043e\u043b\u0430"],[1,"actions"],["mat-dialog-close","",1,"btn"],["mat-raised-button","","type","submit",1,"btn","btn-warning",3,"click"],[1,"text-danger"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"h4",3),e._uU(4,"\u041d\u043e\u0432 \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b"),e.qZA(),e.TgZ(5,"p",4),e._uU(6,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u0430 \u043d\u043e\u0432 \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b"),e.qZA()(),e.TgZ(7,"form",5)(8,"div",6)(9,"div",7)(10,"mat-form-field")(11,"mat-label"),e._uU(12,"\u0418\u043c\u0435"),e.qZA(),e._UZ(13,"input",8),e.qZA(),e.YNc(14,En,3,0,"div",9),e.qZA(),e.TgZ(15,"div",7)(16,"mat-form-field")(17,"mat-label"),e._uU(18,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),e.qZA(),e._UZ(19,"input",10),e.qZA(),e.YNc(20,Nn,3,0,"div",9),e.qZA()(),e.TgZ(21,"div",6)(22,"div",7)(23,"mat-form-field")(24,"mat-label"),e._uU(25,"\u0415\u043c\u0435\u0439\u043b"),e.qZA(),e._UZ(26,"input",11),e.qZA(),e.YNc(27,Jn,3,0,"div",9),e.qZA(),e.TgZ(28,"div",7)(29,"mat-form-field")(30,"mat-label"),e._uU(31,"\u041f\u043e\u0442\u0432\u044a\u0440\u0434\u0438 \u0435\u043c\u0435\u0439\u043b"),e.qZA(),e._UZ(32,"input",12),e.qZA(),e.YNc(33,Yn,3,0,"div",9),e.qZA()(),e.TgZ(34,"div",6)(35,"div",7)(36,"mat-form-field")(37,"mat-label"),e._uU(38,"\u041f\u0430\u0440\u043e\u043b\u0430"),e.qZA(),e._UZ(39,"input",13),e.qZA(),e.YNc(40,In,5,0,"div",9),e.qZA(),e.TgZ(41,"div",7)(42,"mat-form-field")(43,"mat-label"),e._uU(44,"\u041f\u043e\u0442\u0432\u044a\u0440\u0434\u0438 \u043f\u0430\u0440\u043e\u043b\u0430"),e.qZA(),e._UZ(45,"input",14),e.qZA(),e.YNc(46,Qn,3,0,"div",9),e.qZA()()()(),e.TgZ(47,"div",15)(48,"button",16),e._uU(49,"\u0417\u0430\u0442\u0432\u043e\u0440\u0438"),e.qZA(),e.TgZ(50,"button",17),e.NdJ("click",function(){return n.register()}),e._uU(51,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u0439 "),e.qZA()()()),2&t&&(e.xp6(7),e.Q6J("formGroup",n.user.formGroup),e.xp6(7),e.Q6J("ngIf",n.user.formGroup.get("first_name").hasError("pattern")&&n.user.formGroup.get("first_name").touched),e.xp6(6),e.Q6J("ngIf",n.user.formGroup.get("last_name").hasError("pattern")&&n.user.formGroup.get("last_name").touched),e.xp6(7),e.Q6J("ngIf",n.user.formGroup.get("email").invalid&&n.user.formGroup.get("email").touched),e.xp6(6),e.Q6J("ngIf",n.user.formGroup.hasError("emailsNotMatch")),e.xp6(7),e.Q6J("ngIf",n.user.formGroup.get("password").invalid&&n.user.formGroup.get("password").touched),e.xp6(6),e.Q6J("ngIf",n.user.formGroup.hasError("passwordNotMatch")))},dependencies:[A.O5,l.KE,l.hX,m.Nt,D.lW,d.ZT,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:[".register[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%] {\n  margin-top: 2rem;\n  display: flex;\n  grid-row-gap: 25px;\n  flex-direction: column;\n}\n.register[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%] {\n  display: flex;\n  flex-wrap: wrap;\n  grid-column-gap: 20px;\n  justify-content: space-around;\n}\n.register[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]   .particle[_ngcontent-%COMP%] {\n  width: 45%;\n  min-width: 250px;\n}\n.register[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n.register[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n  min-width: 150px;\n}"]}),i})(),Bn=(()=>{class i{constructor(t){this.dialogRef=t}onUserRegistered(t){this.dialogRef.close(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["register-dialog"]],outputs:{user:"user"},decls:2,vars:0,consts:[[3,"userRegistered"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-dialog-content")(1,"register",0),e.NdJ("userRegistered",function(a){return n.onUserRegistered(a)}),e.qZA()())},dependencies:[d.xY,Sn],encapsulation:2}),i})(),Rn=(()=>{class i{constructor(t,n){this.http=t,this.url=n,this.api_url=this.url.api_url+"/employees-list"}getEmployees(){return this.http.get(this.api_url)}getEmployee(){return this.http.get(this.api_url+"/create").pipe((0,C.b)(t=>{}),(0,T.K)(t=>{throw new L.y(t)}))}getEmployeeById(t){return this.http.get(this.api_url+"/"+t)}addEmployee(t){return console.log(t),this.http.post(this.api_url,t,{headers:this.headers})}editEmployee(t,n){return this.http.put(this.api_url+"/"+t,n,{headers:this.headers})}deleteEmployee(t){return this.http.delete(this.api_url+"/"+t,{headers:this.headers})}edit(t,n){return this.http.put(this.api_url+"/"+t,n,{headers:this.headers})}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(J.eN),e.LFG(M.e))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var Ln=I(8184);let qe=(()=>{class i{transform(t,n){return 0===t.length||""===n?t:t.filter(o=>o.first_name.toLowerCase().includes(n.toLowerCase())||o.last_name.toLowerCase().includes(n.toLowerCase())||o.location.toLowerCase().includes(n.toLowerCase())||o.department.toLowerCase().includes(n.toLowerCase()))}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"searchEmployees",type:i,pure:!0}),i})();function Gn(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij("",null==t.salary?null:t.salary.gross_salary," \u043b\u0432.")}}function $n(i,s){if(1&i&&(e.TgZ(0,"span")(1,"span",24),e._uU(2),e.qZA(),e._uU(3," / "),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(2),e.hij("",n.getWaitingApprovals(t.absence_requests)," ")}}function Hn(i,s){if(1&i&&(e.TgZ(0,"span",25),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit,n=e.oxw(2);e.xp6(1),e.hij(" ",n.getSickLeaves(t.absence_requests)," ")}}function zn(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td"),e._uU(3),e.qZA(),e.TgZ(4,"td"),e._uU(5),e.qZA(),e.TgZ(6,"td"),e._uU(7),e.qZA(),e.TgZ(8,"td",17),e.YNc(9,Gn,2,1,"span",18),e.qZA(),e.TgZ(10,"td"),e.YNc(11,$n,4,1,"span",18),e.TgZ(12,"span",19),e._uU(13),e.qZA()(),e.TgZ(14,"td"),e.YNc(15,Hn,2,1,"span",20),e.qZA(),e.TgZ(16,"td")(17,"button",21),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.open(a))}),e.TgZ(18,"i",22),e._uU(19,"edit"),e.qZA()(),e.TgZ(20,"button",23),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.delete(a))}),e.TgZ(21,"i",22),e._uU(22,"close"),e.qZA()()()(),e.BQk()}if(2&i){const t=s.$implicit,n=e.oxw(2);e.xp6(3),e.Oqu(t.first_name),e.xp6(2),e.Oqu(t.last_name),e.xp6(2),e.Oqu(t.position_name),e.xp6(2),e.Q6J("ngIf",null==t.salary?null:t.salary.gross_salary),e.xp6(2),e.Q6J("ngIf",0!=n.getWaitingApprovals(t.absence_requests)),e.xp6(2),e.hij(" ",t.remaining_days.paid_days_left," "),e.xp6(2),e.Q6J("ngIf",0!=n.getSickLeaves(t.absence_requests)),e.xp6(2),e.Q6J("matTooltipPosition","above"),e.xp6(3),e.Q6J("matTooltipPosition","above")}}function jn(i,s){if(1&i&&(e.TgZ(0,"div",12)(1,"div",13)(2,"table",14)(3,"thead",15)(4,"th"),e._uU(5,"\u0418\u043c\u0435"),e.qZA(),e.TgZ(6,"th"),e._uU(7,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),e.qZA(),e.TgZ(8,"th"),e._uU(9,"\u0414\u043b\u044a\u0436\u043d\u043e\u0441\u0442"),e.qZA(),e.TgZ(10,"th"),e._uU(11,"\u0417\u0430\u043f\u043b\u0430\u0442\u0430"),e.qZA(),e.TgZ(12,"th"),e._uU(13,"\u041e\u0442\u043f\u0443\u0441\u043a"),e.qZA(),e.TgZ(14,"th"),e._uU(15,"\u0411\u043e\u043b\u043d\u0438\u0447\u043d\u0438"),e.qZA(),e.TgZ(16,"th"),e._uU(17,"\u041e\u043f\u0446\u0438\u0438"),e.qZA()(),e.TgZ(18,"tbody"),e.YNc(19,zn,23,9,"ng-container",16),e.ALo(20,"searchEmployees"),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(19),e.Q6J("ngForOf",e.xi3(20,1,t.employees,t.filter_current))}}function Kn(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij("",null==t.salary?null:t.salary.gross_salary," \u043b\u0432.")}}function Xn(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"tr")(2,"td",31),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.open(a))}),e._uU(3),e.qZA(),e.TgZ(4,"td",31),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.open(a))}),e._uU(5),e.qZA(),e.TgZ(6,"td",31),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.open(a))}),e._uU(7),e.qZA(),e.TgZ(8,"td",17),e.YNc(9,Kn,2,1,"span",18),e.qZA(),e.TgZ(10,"td",31),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.open(a))}),e._uU(11),e.qZA(),e.TgZ(12,"td",31),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.open(a))}),e._uU(13),e.qZA(),e.TgZ(14,"td")(15,"button",21),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.open(a))}),e.TgZ(16,"i",22),e._uU(17,"edit"),e.qZA()(),e.TgZ(18,"button",23),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.delete(a))}),e.TgZ(19,"i",22),e._uU(20,"close"),e.qZA()()()(),e.BQk()}if(2&i){const t=s.$implicit;e.xp6(3),e.Oqu(t.first_name),e.xp6(2),e.Oqu(t.last_name),e.xp6(2),e.Oqu(t.position),e.xp6(2),e.Q6J("ngIf",null==t.salary?null:t.salary.gross_salary),e.xp6(2),e.Oqu(t.location),e.xp6(2),e.Oqu(t.end),e.xp6(2),e.Q6J("matTooltipPosition","above"),e.xp6(3),e.Q6J("matTooltipPosition","above")}}function Wn(i,s){if(1&i&&(e.TgZ(0,"div",3)(1,"div",26)(2,"div",27)(3,"h4",28),e._uU(4,"\u0411\u0438\u0432\u0448\u0438 \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b\u0438"),e.qZA(),e._UZ(5,"p",29),e.qZA(),e.TgZ(6,"div",12)(7,"div",13)(8,"table",14)(9,"thead",30)(10,"th"),e._uU(11," \u0418\u043c\u0435 "),e.qZA(),e.TgZ(12,"th"),e._uU(13," \u0424\u0430\u043c\u0438\u043b\u0438\u044f "),e.qZA(),e.TgZ(14,"th"),e._uU(15," \u0414\u043b\u044a\u0436\u043d\u043e\u0441\u0442 "),e.qZA(),e.TgZ(16,"th"),e._uU(17," \u0417\u0430\u043f\u043b\u0430\u0442\u0430 "),e.qZA(),e.TgZ(18,"th"),e._uU(19," \u041b\u043e\u043a\u0430\u0446\u0438\u044f "),e.qZA(),e.TgZ(20,"th"),e._uU(21," \u0414\u0430\u0442\u0430 "),e.qZA(),e.TgZ(22,"th"),e._uU(23," \u041e\u043f\u0446\u0438\u0438 "),e.qZA()(),e.TgZ(24,"tbody"),e.YNc(25,Xn,21,8,"ng-container",16),e.ALo(26,"searchEmployees"),e.qZA()()()()()()),2&i){const t=e.oxw();e.xp6(25),e.Q6J("ngForOf",e.xi3(26,1,t.past_employees,t.filter_past))}}let Vn=(()=>{class i{constructor(t,n,o,a,_,N,R,K){this.user_service=t,this.employees_list_service=n,this.salaries_service=o,this.absence_archive_service=a,this.absences_service=_,this.swal_service=N,this.dialog=R,this.overlay=K,this.loader=this.swal_service.loader(),this.filter_current="",this.filter_past="",this.employees=[],this.past_employees=[],this.users=[]}ngOnInit(){this.getEmployees(),this.getAbsenceArchive(),this.getAbsenceRequests(),this.loader.close()}getAbsenceArchive(){this.absence_archive_service.get().subscribe(t=>{this.absences_archive=t,console.log(this.absences_archive)})}getAbsenceRequests(){this.absences_service.get().subscribe(t=>{this.absence_requests=t,console.log(this.absence_requests)})}formatSickLeave(t){this.absence_requests.current_year=t.filter(n=>+new Date(n.end_date).getFullYear()>=+(new Date).getFullYear()),this.absence_requests.past_years=t.filter(n=>new Date(n.end_date).getFullYear()<(new Date).getFullYear())}getEmployees(){this.employees_list_service.getEmployees().subscribe(t=>{this.employees=t.filter(n=>null==n.end),this.past_employees=t.filter(n=>null!=n.end)},t=>{console.log(t)})}register(){this.dialog.open(Bn,{autoFocus:!1,disableClose:!1,maxHeight:"80vh",minWidth:"50vw"}).afterClosed().subscribe(n=>{if(!n.id)return;let o=Object.create(null);o.user_id=n.id,o.first_name=n.first_name,o.last_name=n.last_name,o.email=n.email,this.add(o).subscribe(a=>{a.id||this.swal_service.error({title:"\u0413\u0440\u0435\u0448\u043a\u0430",titleText:"dsada"}),o.id=a.id,this.employees.unshift(o),this.swal_service.success({title:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044f\u0442 e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d \u0443\u0441\u043f\u0435\u0448\u043d\u043e.",html:"\u041c\u043e\u0436\u0435 \u0434\u0430 \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u0438\u0442\u0435 \u043d\u0430 \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b\u044f."}).then(()=>this.open(o))},a=>{this.swal_service.error({title:"\u0413\u0440\u0435\u0448\u043a\u0430",titleText:"error.error"})})})}open(t){this.dialog.open(On,{data:{employee:t,absences:{requests:this.absence_requests.filter(o=>o.employee_id===t.id),archive:this.absences_archive.filter(o=>o.employee_id===t.id)}},autoFocus:!1,disableClose:!1,height:"80vh",width:"80vw"}).afterClosed().subscribe(o=>{this.employees=this.employees.map(a=>a.id===o.id?o:a)})}add(t){return this.employees_list_service.addEmployee(t)}delete(t){this.swal_service.confirm({titleText:"\u0416\u0435\u043b\u0430\u0442\u0435 \u043b\u0438 \u0434\u0430 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 "+t.first_name+" "+t.last_name+" \u043e\u0442 \u0441\u043f\u0438\u0441\u044a\u043a\u0430 \u0441\u044a\u0441 \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b\u0438?"}).then(n=>{!n.isConfirmed||this.employees_list_service.deleteEmployee(t.id).subscribe(o=>{o?this.user_service.delete(t.user_id).subscribe(a=>{a||this.swal_service.error({title:"\u0413\u0440\u0435\u0448\u043a\u0430",titleText:"\u041d\u044f\u043a\u0430\u043a\u0432\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u0441 \u042e\u0437\u044a\u0440"}),this.employees=this.employees.filter(_=>_.id!==t.id),this.swal_service.success({title:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044f\u0442 \u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442."})},a=>{this.swal_service.error({title:"\u0413\u0440\u0435\u0448\u043a\u0430",titleText:a.error})}):this.swal_service.error({title:"\u0413\u0440\u0435\u0448\u043a\u0430",titleText:"error.error"})})},n=>{this.swal_service.error({title:"\u0413\u0440\u0435\u0448\u043a\u0430",titleText:n.error})})}filteringCurrent(t){this.filter_current=String(t),console.log(t)}filteringPast(t){this.filter_past=String(t),console.log(t)}getWaitingApprovals(t){return t.filter(a=>"WAITING"===a.approval).reduce((a,_)=>a+_.days,0)}getSickLeaves(t){const n=(new Date).getFullYear();return t.filter(_=>{let N=_.type_name,R=new Date(_.start_date).getFullYear();return"\u0412\u0440\u0435\u043c\u0435\u043d\u043d\u0430 \u043d\u0435\u0442\u0440\u0443\u0434\u043e\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442"==N&&R==n}).reduce((_,N)=>_+N.days,0)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(_e),e.Y36(Rn),e.Y36(Re),e.Y36(de),e.Y36(U),e.Y36(P.J),e.Y36(d.uw),e.Y36(Ln.aV))},i.\u0275cmp=e.Xpm({type:i,selectors:[["employees"]],decls:15,vars:2,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info"],[1,"col-md-10"],[1,"card-title"],[1,"col-md-2"],[1,"btn","btn-info","btn-block","btn-fill","add-new",3,"click"],["class","card-body",4,"ngIf"],["class","col-md-12",4,"ngIf"],[1,"card-body"],[1,"table-responsive"],[1,"table","table-hover"],[1,"text-info"],[4,"ngFor","ngForOf"],[1,"text-primary"],[4,"ngIf"],["title","\u041e\u0441\u0442\u0430\u0432\u0430\u0449\u0438 \u0434\u043d\u0438 \u043e\u0442\u043f\u0443\u0441\u043a"],["title","\u0414\u043d\u0438 \u043f\u0440\u0435\u0437 \u0442\u0435\u043a\u0443\u0449\u0430\u0442\u0430 \u0433\u043e\u0434\u0438\u043d\u0430",4,"ngIf"],["mat-raised-button","","type","button","matTooltip","\u041f\u0440\u043e\u043c\u0435\u043d\u0438",1,"btn","btn-primary","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[1,"material-icons"],["mat-raised-button","","type","button","matTooltip","\u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0438",1,"btn","btn-danger","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],["title","\u0417\u0430\u044f\u0432\u0435\u043d\u0438 \u0434\u043d\u0438, \u043e\u0447\u0430\u043a\u0432\u0430\u0449\u0438 \u043e\u0434\u043e\u0431\u0440\u0435\u043d\u0438\u0435",2,"color","orange"],["title","\u0414\u043d\u0438 \u043f\u0440\u0435\u0437 \u0442\u0435\u043a\u0443\u0449\u0430\u0442\u0430 \u0433\u043e\u0434\u0438\u043d\u0430"],[1,"card","card-plain"],[1,"card-header","card-header-warning"],[1,"card-title","mt-0"],[1,"card-category"],[1,"text-warning"],[3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"div",2)(7,"div",6)(8,"h4",7),e._uU(9,"\u0421\u043f\u0438\u0441\u044a\u043a \u0441\u044a\u0441 \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b\u0438"),e.qZA()(),e.TgZ(10,"div",8)(11,"button",9),e.NdJ("click",function(){return n.register()}),e._uU(12," \u041d\u043e\u0432 \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b "),e.qZA()()()(),e.YNc(13,jn,21,4,"div",10),e.qZA()(),e.YNc(14,Wn,27,4,"div",11),e.qZA()()()),2&t&&(e.xp6(13),e.Q6J("ngIf",n.employees.length>0),e.xp6(1),e.Q6J("ngIf",n.past_employees.length>0))},dependencies:[A.sg,A.O5,D.lW,p.gM,qe],styles:["tr[_ngcontent-%COMP%] {\n  cursor: pointer;\n}\n\n.add-new[_ngcontent-%COMP%] {\n  position: absolute;\n  width: 75%;\n  right: 1em;\n}"]}),i})();function ei(i,s){if(1&i&&(e.TgZ(0,"mat-option",37)(1,"strong"),e._uU(2),e.qZA()()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(2),e.Oqu(t.name)}}function ti(i,s){if(1&i&&(e.TgZ(0,"mat-option",37)(1,"strong"),e._uU(2),e.qZA()()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(2),e.Oqu(t.name)}}function ni(i,s){if(1&i&&(e.TgZ(0,"mat-option",37)(1,"strong"),e._uU(2),e.qZA()()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(2),e.Oqu(t.city)}}function ii(i,s){if(1&i&&(e.TgZ(0,"mat-option",37),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t.id),e.xp6(1),e.lnq(" ",t.first_name," ",t.last_name," (",t.position_name,") ")}}let Ge=(()=>{class i{constructor(t,n,o,a,_,N,R,K,j){this.employee_profile_service=t,this.user_service=n,this.injector=o,this.employees_service=a,this.departments_service=_,this.positions_service=N,this.locations_service=R,this.swal_service=K,this.fb=j,this.employeeChange=new e.vpe,this.filter="",this.err_msg="",this.loader=this.swal_service.loader(),this.employee={id:null,user_id:null,first_name:"",surname:"",last_name:"",department_name:"",department_id:"",location_id:"",position_id:"",position_name:"",work_phone:"",personal_phone:"",email:"",post_code:"",start:"",pin:"",city:"",country:"",address:"",supervisors:"",salary:""},this.action="me",this.parent_component=!1,this.injector.get(d.so,null)&&(this.parent_component=!0)}ngOnDestroy(){}ngOnInit(){this.employee.id||this.getEmployee(),console.log(this.employee),this.loader.fire(),this.getCompanyData(),this.EmployeeForm=this.fb.group({department_id:["",r.kI.required],position_id:["",r.kI.required],location_id:["",r.kI.required],supervisors:[[],null],first_name:["",[r.kI.required,r.kI.pattern("^[A-Z][a-zA-Z]{0,14}$")]],last_name:["",[r.kI.required,r.kI.pattern("^[A-Z][a-zA-Z]{0,14}$")]],surname:["",[r.kI.required,r.kI.pattern("^[A-Z][a-zA-Z]{0,14}$")]],email:["",[r.kI.required,r.kI.email]],city:["",[r.kI.required,r.kI.pattern("^[A-Z][a-zA-Z]{0,14}$")]],post_code:["",[r.kI.required,r.kI.pattern("^[0-9]{4}$")]],address:["",r.kI.required,r.kI.maxLength(50)],country:["",[r.kI.required,r.kI.pattern("^[A-Z][a-zA-Z]{0,14}$")]],pin:["",[r.kI.required,r.kI.pattern("^[0-9]{10}$")]],personal_phone:["",[r.kI.required,r.kI.pattern("^[0-9]{10}$")]],start:["",r.kI.required],work_phone:["",r.kI.pattern("^[0-9]{10}$")]}),this.loader.close()}getCompanyData(){(0,Se.D)(this.employees_service.getEmployees(),this.departments_service.get(),this.positions_service.get(),this.locations_service.get()).subscribe(([t,n,o,a])=>{this.employees=t,this.departments=n,this.positions=o,this.locations=a},t=>{console.log(t)})}update(){this.loader.fire();const t=this.EmployeeForm.getRawValue();this.employees_service.editEmployee(this.employee.id,t).subscribe(n=>{n||this.swal_service.error({title:"\u0413\u0440\u0435\u0448\u043a\u0430",titleText:n.error}),this.employee.position_name=this.positions.find(o=>o.id==this.employee.position_id).name,this.employeeChange.emit(["updated",this.employee]),this.swal_service.success({title:"\u0414\u0430\u043d\u043d\u0438\u0442\u0435 \u0441\u0430 \u043e\u0431\u043d\u043e\u0432\u0435\u043d\u0438."})},n=>{this.swal_service.error({title:"\u0413\u0440\u0435\u0448\u043a\u0430",titleText:n.error})})}delete(){this.swal_service.confirm({titleText:"\u0416\u0435\u043b\u0430\u0442\u0435 \u043b\u0438 \u0434\u0430 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 "+this.employee.first_name+" "+this.employee.last_name+" \u043e\u0442 \u0441\u043f\u0438\u0441\u044a\u043a\u0430 \u0441\u044a\u0441 \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b\u0438?"}).then(t=>{!t.isConfirmed||(this.loader.fire(),this.employees_service.deleteEmployee(this.employee.id).subscribe(n=>{n?this.user_service.delete(this.employee.user_id).subscribe(o=>{o?(this.swal_service.success({title:"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044f\u0442 \u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442."}),this.employeeChange.emit(["deleted",this.employee])):this.swal_service.error({title:"\u0413\u0440\u0435\u0448\u043a\u0430",titleText:"\u041d\u044f\u043a\u0430\u043a\u0432\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u0441 \u042e\u0437\u044a\u0440"})},o=>{this.swal_service.error({title:"\u0413\u0440\u0435\u0448\u043a\u0430",titleText:o.error})}):this.swal_service.error({title:"\u0413\u0440\u0435\u0448\u043a\u0430",titleText:"error.error"})}))},t=>{this.swal_service.error({title:"\u0413\u0440\u0435\u0448\u043a\u0430",titleText:t.error})})}getEmployee(){this.employees_service.getEmployee().subscribe(t=>{t||this.swal_service.error({title:"\u0413\u0440\u0435\u0448\u043a\u0430",titleText:t.error}),this.employee=t},t=>{console.log(t)})}filtering(t){this.filter=String(t)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ie),e.Y36(_e),e.Y36(e.zs3),e.Y36(ee),e.Y36(Oe),e.Y36(Te),e.Y36(Ae),e.Y36(P.J),e.Y36(r.QS))},i.\u0275cmp=e.Xpm({type:i,selectors:[["employee-profile"]],inputs:{employee:"employee"},outputs:{employeeChange:"employeeChange"},decls:117,vars:33,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[1,"form","mt-3",3,"formGroup"],[1,"col-md-3"],["formControlName","department_id","placeholder","\u0414\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","\u0422\u044a\u0440\u0441\u0438...",3,"keyup"],[3,"value",4,"ngFor","ngForOf"],["formControlName","position_id","placeholder","\u041f\u043e\u0437\u0438\u0446\u0438\u044f","type","text",3,"ngModel","ngModelChange"],["formControlName","location_id","placeholder","\u041b\u043e\u043a\u0430\u0446\u0438\u044f","type","text",3,"ngModel","ngModelChange"],[1,"example-full-width"],["matInput","","formControlName","work_phone","placeholder","\u0421\u043b\u0443\u0436\u0435\u0431\u0435\u043d \u0442\u0435\u043b\u0435\u0444\u043e\u043d","type","text",3,"ngModel","ngModelChange"],[1,"col-md-4"],["matInput","","formControlName","first_name","placeholder","\u0418\u043c\u0435","type","text",3,"ngModel","ngModelChange"],["matInput","","formControlName","surname","placeholder","\u041f\u0440\u0435\u0437\u0438\u043c\u0435","type","text",3,"ngModel","ngModelChange"],["matInput","","formControlName","last_name","placeholder","\u0424\u0430\u043c\u0438\u043b\u0438\u044f","type","text",3,"ngModel","ngModelChange"],["matInput","","formControlName","address","placeholder","\u0410\u0434\u0440\u0435\u0441","type","text",3,"ngModel","ngModelChange"],["matInput","","formControlName","city","placeholder","\u0413\u0440\u0430\u0434","type","text",3,"ngModel","ngModelChange"],["matInput","","formControlName","country","placeholder","\u0414\u044a\u0440\u0436\u0430\u0432\u0430","type","text",3,"ngModel","ngModelChange"],["matInput","","formControlName","post_code","placeholder","\u041f\u043e\u0449\u0435\u043d\u0441\u043a\u0438 \u043a\u043e\u0434","type","number",3,"ngModel","ngModelChange"],["matInput","","formControlName","pin","placeholder","\u0415\u0413\u041d","type","number",3,"ngModel","ngModelChange"],["matInput","","formControlName","personal_phone","placeholder","\u041b\u0438\u0447\u0435\u043d \u0442\u0435\u043b\u0435\u0444\u043e\u043d","type","text",3,"ngModel","ngModelChange"],["matInput","","formControlName","email","placeholder","\u0418\u043c\u0435\u0439\u043b","type","text",3,"ngModel","ngModelChange"],["matInput","","formControlName","start","placeholder","\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u043d\u0430","type","date",3,"ngModel","ngModelChange"],[1,"col-md-8"],["multiple","","formControlName","supervisors","placeholder","\u0420\u044a\u043a\u043e\u0432\u043e\u0434\u0438\u0442\u0435\u043b\u0438","type","text",3,"ngModel","ngModelChange"],[1,"actions"],["mat-dialog-close","",3,"hidden"],["mat-raised-button","","type","submit",1,"btn","btn-danger",3,"hidden","click"],["mat-raised-button","","type","submit",1,"btn","btn-warning",3,"disabled","click"],[1,"clearfix"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),e._uU(7,"\u0414\u043e\u0441\u0438\u0435 \u043d\u0430 \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b"),e.qZA(),e.TgZ(8,"p",7),e._uU(9,"Complete your profile"),e.qZA()(),e.TgZ(10,"div",8),e.ynx(11),e.TgZ(12,"form",9)(13,"div",2)(14,"div",10)(15,"mat-form-field")(16,"mat-label"),e._uU(17,"\u0414\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442"),e.qZA(),e.TgZ(18,"mat-select",11),e.NdJ("ngModelChange",function(a){return n.employee.department_id=a}),e.TgZ(19,"input",12),e.NdJ("keyup",function(a){return n.filtering(a.target.value)}),e.qZA(),e.YNc(20,ei,3,2,"mat-option",13),e.ALo(21,"searchText"),e.qZA()()(),e.TgZ(22,"div",10)(23,"mat-form-field")(24,"mat-label"),e._uU(25,"\u041f\u043e\u0437\u0438\u0446\u0438\u044f"),e.qZA(),e.TgZ(26,"mat-select",14),e.NdJ("ngModelChange",function(a){return n.employee.position_id=a}),e.TgZ(27,"input",12),e.NdJ("keyup",function(a){return n.filtering(a.target.value)}),e.qZA(),e.YNc(28,ti,3,2,"mat-option",13),e.ALo(29,"searchText"),e.qZA()()(),e.TgZ(30,"div",10)(31,"mat-form-field")(32,"mat-label"),e._uU(33,"\u041b\u043e\u043a\u0430\u0446\u0438\u044f"),e.qZA(),e.TgZ(34,"mat-select",15),e.NdJ("ngModelChange",function(a){return n.employee.location_id=a}),e.TgZ(35,"input",12),e.NdJ("keyup",function(a){return n.filtering(a.target.value)}),e.qZA(),e.YNc(36,ni,3,2,"mat-option",13),e.ALo(37,"searchText"),e.qZA()()(),e.TgZ(38,"div",10)(39,"mat-form-field",16)(40,"mat-label"),e._uU(41,"\u0421\u043b\u0443\u0436\u0435\u0431\u0435\u043d \u0442\u0435\u043b\u0435\u0444\u043e\u043d"),e.qZA(),e.TgZ(42,"input",17),e.NdJ("ngModelChange",function(a){return n.employee.work_phone=a}),e.qZA()()()(),e.TgZ(43,"div",2)(44,"div",18)(45,"mat-form-field",16)(46,"mat-label"),e._uU(47,"\u0418\u043c\u0435"),e.qZA(),e.TgZ(48,"input",19),e.NdJ("ngModelChange",function(a){return n.employee.first_name=a}),e.qZA()()(),e.TgZ(49,"div",18)(50,"mat-form-field",16)(51,"mat-label"),e._uU(52,"\u041f\u0440\u0435\u0437\u0438\u043c\u0435"),e.qZA(),e.TgZ(53,"input",20),e.NdJ("ngModelChange",function(a){return n.employee.surname=a}),e.qZA()()(),e.TgZ(54,"div",18)(55,"mat-form-field",16)(56,"mat-label"),e._uU(57,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),e.qZA(),e.TgZ(58,"input",21),e.NdJ("ngModelChange",function(a){return n.employee.last_name=a}),e.qZA()()()(),e.TgZ(59,"div",2)(60,"div",3)(61,"mat-form-field",16)(62,"mat-label"),e._uU(63,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(64,"input",22),e.NdJ("ngModelChange",function(a){return n.employee.address=a}),e.qZA()()()(),e.TgZ(65,"div",2)(66,"div",18)(67,"mat-form-field",16)(68,"mat-label"),e._uU(69,"\u0413\u0440\u0430\u0434"),e.qZA(),e.TgZ(70,"input",23),e.NdJ("ngModelChange",function(a){return n.employee.city=a}),e.qZA()()(),e.TgZ(71,"div",18)(72,"mat-form-field",16)(73,"mat-label"),e._uU(74,"\u0414\u044a\u0440\u0436\u0430\u0432\u0430"),e.qZA(),e.TgZ(75,"input",24),e.NdJ("ngModelChange",function(a){return n.employee.country=a}),e.qZA()()(),e.TgZ(76,"div",18)(77,"mat-form-field",16)(78,"mat-label"),e._uU(79,"\u041f\u043e\u0449\u0435\u043d\u0441\u043a\u0438 \u043a\u043e\u0434"),e.qZA(),e.TgZ(80,"input",25),e.NdJ("ngModelChange",function(a){return n.employee.post_code=a}),e.qZA()()()(),e.TgZ(81,"div",2)(82,"div",18)(83,"mat-form-field",16)(84,"mat-label"),e._uU(85,"\u0415\u0413\u041d"),e.qZA(),e.TgZ(86,"input",26),e.NdJ("ngModelChange",function(a){return n.employee.pin=a}),e.qZA()()(),e.TgZ(87,"div",18)(88,"mat-form-field",16)(89,"mat-label"),e._uU(90,"\u041b\u0438\u0447\u0435\u043d \u0442\u0435\u043b\u0435\u0444\u043e\u043d"),e.qZA(),e.TgZ(91,"input",27),e.NdJ("ngModelChange",function(a){return n.employee.personal_phone=a}),e.qZA()()(),e.TgZ(92,"div",18)(93,"mat-form-field",16)(94,"mat-label"),e._uU(95,"\u0418\u043c\u0435\u0439\u043b"),e.qZA(),e.TgZ(96,"input",28),e.NdJ("ngModelChange",function(a){return n.employee.email=a}),e.qZA()()()(),e.TgZ(97,"div",2)(98,"div",18)(99,"mat-form-field",16)(100,"mat-label"),e._uU(101,"\u041d\u0430\u0437\u043d\u0430\u0447\u0435\u043d \u043d\u0430"),e.qZA(),e.TgZ(102,"input",29),e.NdJ("ngModelChange",function(a){return n.employee.start=a}),e.qZA()()(),e.TgZ(103,"div",30)(104,"mat-form-field")(105,"mat-label"),e._uU(106,"\u0418\u0437\u0431\u0435\u0440\u0435\u0442\u0435 \u043c\u0435\u043d\u0438\u0434\u0436\u044a\u0440 \u043d\u0430 \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b\u044f"),e.qZA(),e.TgZ(107,"mat-select",31),e.NdJ("ngModelChange",function(a){return n.employee.supervisors=a}),e.YNc(108,ii,2,4,"mat-option",13),e.qZA()()()()(),e.BQk(),e.TgZ(109,"div",32)(110,"button",33),e._uU(111,"\u0417\u0430\u0442\u0432\u043e\u0440\u0438 "),e.qZA(),e.TgZ(112,"button",34),e.NdJ("click",function(){return n.delete()}),e._uU(113,"\u0418\u0437\u0442\u0440\u0438\u0439 "),e.qZA(),e.TgZ(114,"button",35),e.NdJ("click",function(){return n.update()}),e._uU(115,"\u0417\u0430\u043f\u0430\u0437\u0438 "),e.qZA()(),e._UZ(116,"div",36),e.qZA()()()()()()),2&t&&(e.xp6(12),e.Q6J("formGroup",n.EmployeeForm),e.xp6(6),e.Q6J("ngModel",n.employee.department_id),e.xp6(2),e.Q6J("ngForOf",e.xi3(21,24,n.departments,n.filter)),e.xp6(6),e.Q6J("ngModel",n.employee.position_id),e.xp6(2),e.Q6J("ngForOf",e.xi3(29,27,n.positions,n.filter)),e.xp6(6),e.Q6J("ngModel",n.employee.location_id),e.xp6(2),e.Q6J("ngForOf",e.xi3(37,30,n.locations,n.filter)),e.xp6(6),e.Q6J("ngModel",n.employee.work_phone),e.xp6(6),e.Q6J("ngModel",n.employee.first_name),e.xp6(5),e.Q6J("ngModel",n.employee.surname),e.xp6(5),e.Q6J("ngModel",n.employee.last_name),e.xp6(6),e.Q6J("ngModel",n.employee.address),e.xp6(6),e.Q6J("ngModel",n.employee.city),e.xp6(5),e.Q6J("ngModel",n.employee.country),e.xp6(5),e.Q6J("ngModel",n.employee.post_code),e.xp6(6),e.Q6J("ngModel",n.employee.pin),e.xp6(5),e.Q6J("ngModel",n.employee.personal_phone),e.xp6(5),e.Q6J("ngModel",n.employee.email),e.xp6(6),e.Q6J("ngModel",n.employee.start),e.xp6(5),e.Q6J("ngModel",n.employee.supervisors),e.xp6(1),e.Q6J("ngForOf",n.employees),e.xp6(2),e.Q6J("hidden",!n.parent_component),e.xp6(2),e.Q6J("hidden",!n.parent_component),e.xp6(2),e.Q6J("disabled",!n.EmployeeForm.valid))},dependencies:[A.sg,l.KE,l.hX,m.Nt,D.lW,ne.gD,X.ey,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,d.ZT,we],styles:[".actions[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n  min-width: 150px;\n}"]}),i})(),$e=(()=>{class i{constructor(t,n){this.http=t,this.url=n,this.api_url=this.url.api_url+"/sick-leave/"}get(){return this.http.get(this.api_url)}add(t){return this.http.post(this.api_url,t)}edit(t){return this.http.put(this.api_url+t.id,t)}delete(t){return this.http.delete(this.api_url+t)}export(){return this.http.get(this.api_url+"export")}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(J.eN),e.LFG(M.e))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function oi(i,s){1&i&&(e.TgZ(0,"h2",19),e._uU(1,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u043d\u043e\u0432 \u0431\u043e\u043b\u043d\u0438\u0447\u0435\u043d \u043b\u0438\u0441\u0442"),e.qZA())}function si(i,s){1&i&&(e.TgZ(0,"h2",19),e._uU(1,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u0431\u043e\u043b\u043d\u0438\u0447\u0435\u043d \u043b\u0438\u0441\u0442"),e.qZA())}function ai(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"mat-option",20)(2,"strong"),e._uU(3),e.qZA(),e._uU(4),e.qZA(),e.BQk()),2&i){const t=s.$implicit,n=e.oxw();e.xp6(1),e.Q6J("value",t.id)("selected",n.sick_leave_request.employee_id),e.xp6(2),e.AsE("",t.first_name," ",t.last_name," "),e.xp6(1),e.lnq(" ",t.position," - ",t.department," (",t.location,") ")}}function ri(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Invalid start date"),e.qZA())}function ui(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Invalid end date"),e.qZA())}function li(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div")(2,"button",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.edit())}),e._uU(3,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439"),e.qZA()(),e.BQk()}}function ci(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"button",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.add())}),e._uU(2," \u0414\u043e\u0431\u0430\u0432\u0438 "),e.qZA()()}}let Fe=(()=>{class i{constructor(t,n,o,a,_,N,R){this.data=t,this.employees_service=n,this.sick_leave_service=o,this.datepipe=a,this.fb=_,this.swal_service=N,this.dialogRef=R,this.is_edit=!1,this.filter="",this.employees=[],this.sick_leave_request={id:"",employee_id:"",start_date:"",end_date:"",days:"",cost:""},this.form=this.fb.group({employee_id:["",[r.kI.required]],start_date:["",[r.kI.required]],end_date:["",[r.kI.required]],days:["",[r.kI.required]],cost:""})}ngOnInit(){this.is_edit=!!this.data?.s_request,this.is_edit&&this.injectEditData(),this.getEmployees()}injectEditData(){this.sick_leave_request={id:this.data.s_request.id,employee_id:this.data.s_request.employee_id,start_date:this.data.s_request.start_date,end_date:this.data.s_request.end_date,days:this.data.s_request.days,cost:this.data.s_request.cost}}add(){this.form.valid&&(this.sick_leave_request.start_date=this.datepipe.transform(this.sick_leave_request.start_date,"YYYY-MM-dd"),this.sick_leave_request.end_date=this.datepipe.transform(this.sick_leave_request.end_date,"YYYY-MM-dd"),this.sick_leave_service.add(this.sick_leave_request).subscribe(t=>{t?this.dialogRef.close(this.getResponseData()):this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u044f\u043d\u0435\u0442\u043e \u043d\u0430 \u0431\u043e\u043b\u043d\u0438\u0447\u043d\u0438\u044f \u0437\u0430\u043f\u0438\u0441, \u043c\u043e\u043b\u044f \u043e\u043f\u0438\u0442\u0430\u0439\u0442\u0435 \u043f\u043e-\u043a\u044a\u0441\u043d\u043e."})},t=>{this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u044f\u043d\u0435\u0442\u043e \u043d\u0430 \u0431\u043e\u043b\u043d\u0438\u0447\u043d\u0438\u044f \u0437\u0430\u043f\u0438\u0441: "+t.message})}))}edit(){this.form.valid&&(this.sick_leave_request.start_date=this.datepipe.transform(this.sick_leave_request.start_date,"YYYY-MM-dd"),this.sick_leave_request.end_date=this.datepipe.transform(this.sick_leave_request.end_date,"YYYY-MM-dd"),this.sick_leave_service.edit(this.sick_leave_request).subscribe(t=>{t?this.dialogRef.close(this.getResponseData()):this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\u0442\u043e \u043d\u0430 \u0431\u043e\u043b\u043d\u0438\u0447\u043d\u0438\u044f \u0437\u0430\u043f\u0438\u0441, \u043c\u043e\u043b\u044f \u043e\u043f\u0438\u0442\u0430\u0439\u0442\u0435 \u043f\u043e-\u043a\u044a\u0441\u043d\u043e."})},t=>{this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u043b\u0435\u043d\u0438\u0435\u0442\u043e \u043d\u0430 \u0431\u043e\u043b\u043d\u0438\u0447\u043d\u0438\u044f \u0437\u0430\u043f\u0438\u0441: "+t.message})}))}getEmployees(){this.employees_service.getEmployees().subscribe(t=>{this.employees=t},t=>{this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u043f\u0440\u0438\u0437\u043c\u0430\u043d\u0435\u0442\u043e \u043d\u0430 \u0434\u0430\u043d\u043d\u0438\u0442\u0435 \u0437\u0430 \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b\u0438\u0442\u0435: "+t.message})})}filtering(t){this.filter=String(t)}getResponseData(){return{sick_leave:this.sick_leave_request,employee:this.employees.filter(t=>t.id==this.sick_leave_request.employee_id)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.WI),e.Y36(ee),e.Y36($e),e.Y36(A.uU),e.Y36(r.QS),e.Y36(P.J),e.Y36(d.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["register-sick-leave"]],decls:40,vars:19,consts:[["mat-dialog-title","",4,"ngIf"],[3,"formGroup"],[1,"form-group"],["appearance","fill"],["formControlName","employee_id",3,"ngModel","ngModelChange"],["matInput","","placeholder","\u0422\u044a\u0440\u0441\u0435\u043d\u0435 \u043f\u043e \u0438\u043c\u0435, \u0444\u0430\u043c\u0438\u043b\u0438\u044f, \u0434\u043b\u044a\u0436\u043d\u043e\u0441\u0442, \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442, \u043b\u043e\u043a\u0430\u0446\u0438\u044f...",3,"keyup"],[4,"ngFor","ngForOf"],[1,"leave-details"],["required","",3,"formGroup","rangePicker"],["matStartDate","","formControlName","start_date","placeholder","\u041d\u0430\u0447\u0430\u043b\u043d\u0430 \u0434\u0430\u0442\u0430",3,"ngModel","ngModelChange"],["matEndDate","","formControlName","end_date","placeholder","\u041a\u0440\u0430\u0439\u043d\u0430 \u0434\u0430\u0442\u0430",3,"ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],[4,"ngIf"],["matInput","","type","number","placeholder","\u0414\u043d\u0438","formControlName","days",3,"ngModel","ngModelChange"],["matInput","","type","number","placeholder","\u0420\u0430\u0437\u0445\u043e\u0434 (\u043b\u0432)","formControlName","cost",3,"ngModel","ngModelChange"],["mat-button","","mat-dialog-close","","mat-dialog-close","cancel",1,"btn","btn-round","btn-fill","btn-default"],[4,"ngIf","ngIfElse"],["addNew",""],["mat-dialog-title",""],[3,"value","selected"],["mat-button","",1,"btn","btn-round","btn-fill","btn-info",3,"click"]],template:function(t,n){if(1&t&&(e.YNc(0,oi,2,0,"h2",0),e.YNc(1,si,2,0,"h2",0),e.TgZ(2,"mat-dialog-content")(3,"form",1)(4,"div",2)(5,"mat-form-field",3)(6,"mat-label"),e._uU(7,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b"),e.qZA(),e.TgZ(8,"mat-select",4),e.NdJ("ngModelChange",function(a){return n.sick_leave_request.employee_id=a}),e.TgZ(9,"mat-form-field")(10,"input",5),e.NdJ("keyup",function(a){return n.filtering(a.target.value)}),e.qZA()(),e.YNc(11,ai,5,7,"ng-container",6),e.ALo(12,"searchEmployees"),e.qZA()(),e.TgZ(13,"div",7)(14,"mat-form-field",3)(15,"mat-label"),e._uU(16,"\u0418\u0437\u0431\u0435\u0440\u0438 \u043d\u0430\u0447\u0430\u043b\u043d\u0430 \u0438 \u043a\u0440\u0430\u0439\u043d\u0430 \u0434\u0430\u0442\u0430"),e.qZA(),e.TgZ(17,"mat-date-range-input",8)(18,"input",9),e.NdJ("ngModelChange",function(a){return n.sick_leave_request.start_date=a}),e.qZA(),e.TgZ(19,"input",10),e.NdJ("ngModelChange",function(a){return n.sick_leave_request.end_date=a}),e.qZA()(),e._UZ(20,"mat-datepicker-toggle",11)(21,"mat-date-range-picker",null,12),e.YNc(23,ri,2,0,"mat-error",13),e.YNc(24,ui,2,0,"mat-error",13),e.qZA(),e.TgZ(25,"mat-form-field",3)(26,"mat-label"),e._uU(27,"\u0414\u043d\u0438"),e.qZA(),e.TgZ(28,"input",14),e.NdJ("ngModelChange",function(a){return n.sick_leave_request.days=a}),e.qZA()(),e.TgZ(29,"mat-form-field",3)(30,"mat-label"),e._uU(31,"\u0420\u0430\u0437\u0445\u043e\u0434 (\u043b\u0432)"),e.qZA(),e.TgZ(32,"input",15),e.NdJ("ngModelChange",function(a){return n.sick_leave_request.cost=a}),e.qZA()()(),e.TgZ(33,"mat-dialog-actions")(34,"div")(35,"button",16),e._uU(36," \u041e\u0442\u043c\u0435\u043d\u0438 "),e.qZA()(),e.YNc(37,li,4,0,"ng-container",17),e.YNc(38,ci,3,0,"ng-template",null,18,e.W1O),e.qZA()()()()),2&t){const o=e.MAs(22),a=e.MAs(39);e.Q6J("ngIf",!n.is_edit),e.xp6(1),e.Q6J("ngIf",n.is_edit),e.xp6(2),e.Q6J("formGroup",n.form),e.xp6(5),e.Q6J("ngModel",n.sick_leave_request.employee_id),e.xp6(3),e.Q6J("ngForOf",e.xi3(12,16,n.employees,n.filter)),e.xp6(6),e.Q6J("formGroup",n.form)("rangePicker",o),e.xp6(1),e.Q6J("ngModel",n.sick_leave_request.start_date),e.xp6(1),e.Q6J("ngModel",n.sick_leave_request.end_date),e.xp6(1),e.Q6J("for",o),e.xp6(3),e.Q6J("ngIf",n.form.controls.start_date.hasError("matStartDateInvalid")),e.xp6(1),e.Q6J("ngIf",n.form.controls.end_date.hasError("matEndDateInvalid")),e.xp6(4),e.Q6J("ngModel",n.sick_leave_request.days),e.xp6(4),e.Q6J("ngModel",n.sick_leave_request.cost),e.xp6(5),e.Q6J("ngIf",n.is_edit)("ngIfElse",a)}},dependencies:[A.sg,A.O5,l.TO,l.KE,l.hX,l.R9,m.Nt,D.lW,ne.gD,X.ey,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,G.nW,G.wx,G.zY,G.By,G._g,d.ZT,d.uh,d.xY,d.H8,qe],styles:["mat-dialog-actions[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n}\n\n.leave-details[_ngcontent-%COMP%] {\n  display: grid;\n  column-gap: 1%;\n  grid-template-columns: 60% 20% 20%;\n  grid-auto-flow: column;\n}"]}),i})();var v=I(7340);let He=(()=>{class i{transform(t,n){return n.pageSize>=n.length?t:t.slice(n.pageIndex*n.pageSize,n.pageIndex*n.pageSize+n.pageSize)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"pagination",type:i,pure:!0}),i})(),ze=(()=>{class i{constructor(t){this.datepipe=t}transform(t,n){const o=this.datepipe.transform(n,"YYYY-MM-dd");return 0===t.length||""===n?t:t.filter(a=>+new Date(a.start_date)>=+new Date(o))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.uU,16))},i.\u0275pipe=e.Yjl({name:"startDate",type:i,pure:!0}),i})(),je=(()=>{class i{constructor(t){this.datepipe=t}transform(t,n){const o=this.datepipe.transform(n,"YYYY-MM-dd");return 0===t.length||""===n?t:t.filter(a=>+new Date(a.end_date)<=+new Date(o))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(A.uU,16))},i.\u0275pipe=e.Yjl({name:"endDate",type:i,pure:!0}),i})(),Ke=(()=>{class i{transform(t){return new A.uU("en-GB").transform(t,"dd/MM/yyyy")}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"formatDisplayedDate",type:i,pure:!0}),i})(),Xe=(()=>{class i{constructor(){this.fields={dates:["start_date","end_date"],texts:["first_name","last_name","position","department","location"],numerical:["cost","days"]}}transform(t,n,o){return this.fields.dates.includes(n)?t.sort("descending"===o?(a,_)=>new Date(_[n]).getTime()-new Date(a[n]).getTime():(a,_)=>new Date(a[n]).getTime()-new Date(_[n]).getTime()):this.fields.texts.includes(n)?t.sort("descending"===o?(a,_)=>_[n].localeCompare(a[n]):(a,_)=>a[n].localeCompare(_[n])):t.sort("descending"===o?(a,_)=>_[n]-a[n]:(a,_)=>a[n]-_[n])}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275pipe=e.Yjl({name:"sortData",type:i,pure:!1}),i})();function di(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"p",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.searching("start","current_year"))}),e.TgZ(1,"i",23),e._uU(2,"search"),e.qZA(),e._uU(3," \u0417\u0430\u043f\u043e\u0447\u043d\u0438 \u0442\u044a\u0440\u0441\u0435\u043d\u0435 ... "),e.qZA()}}function pi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"p",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.searching("end","current_year"))}),e.TgZ(1,"i",23),e._uU(2,"close"),e.qZA(),e._uU(3," \u041f\u0440\u0435\u043a\u0440\u0430\u0442\u0438 \u0442\u044a\u0440\u0441\u0435\u043d\u0435\u043e ... "),e.qZA()}}function _i(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.filter.current_year[o[0]]="")}),e.TgZ(1,"i",23),e._uU(2,"close"),e.qZA()()}}function mi(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",29),e.NdJ("keypress",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.getTotal("current_year"))}),e.TgZ(2,"mat-form-field",30)(3,"mat-label"),e._uU(4),e.qZA(),e.TgZ(5,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.filter.current_year[a[0]]=o)}),e.qZA(),e.YNc(6,_i,3,0,"button",32),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw().$implicit,n=e.oxw(3);e.xp6(4),e.Oqu(t[1]),e.xp6(1),e.MGl("placeholder","",t[1],"..."),e.Q6J("ngModel",n.filter.current_year[t[0]]),e.xp6(1),e.Q6J("ngIf",n.filter.current_year[t[0]])}}function gi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.filter.current_year[o[0]]="")}),e.TgZ(1,"i",23),e._uU(2,"close"),e.qZA()()}}function fi(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",34),e.NdJ("change",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.getTotal("current_year"))}),e.TgZ(2,"mat-form-field",30)(3,"mat-label"),e._uU(4),e.qZA(),e.TgZ(5,"input",35),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.filter.current_year[a[0]]=o)}),e.qZA(),e.YNc(6,gi,3,0,"button",32),e._UZ(7,"mat-datepicker-toggle",36)(8,"mat-datepicker",null,37),e.qZA()(),e.BQk()}if(2&i){const t=e.MAs(9),n=e.oxw().$implicit,o=e.oxw(3);e.xp6(4),e.Oqu(n[1]),e.xp6(1),e.Q6J("matDatepicker",t)("ngModel",o.filter.current_year[n[0]]),e.xp6(1),e.Q6J("ngIf",o.filter.current_year[n[0]]),e.xp6(1),e.Q6J("for",t)}}function hi(i,s){if(1&i&&(e.ynx(0),e.YNc(1,mi,7,4,"ng-container",28),e.YNc(2,fi,10,5,"ng-container",28),e.BQk()),2&i){const t=s.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.isSearchable(t[0],"alphabetical")),e.xp6(1),e.Q6J("ngIf",n.isSearchable(t[0],"dates"))}}function vi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",24),e.YNc(1,hi,3,2,"ng-container",25),e._UZ(2,"div")(3,"div"),e.TgZ(4,"div",26),e._UZ(5,"div"),e.TgZ(6,"button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.searching("restart","current_year"))}),e.TgZ(7,"i",23),e._uU(8,"close"),e.qZA()()()()}if(2&i){const t=e.oxw(2);e.Q6J("@enterFromRight",void 0),e.xp6(1),e.Q6J("ngForOf",t.columns),e.xp6(5),e.Q6J("matTooltipPosition","above")}}function bi(i,s){if(1&i&&(e.TgZ(0,"span",44)(1,"i",45),e._uU(2," keyboard_arrow_up "),e.qZA(),e.TgZ(3,"i",45),e._uU(4," keyboard_arrow_down "),e.qZA()()),2&i){const t=e.oxw().$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngClass",n.sort.current_year.field==t[0]&&"ascending"==n.sort.current_year.action?"active":"inactive"),e.xp6(2),e.Q6J("ngClass",n.sort.current_year.field==t[0]&&"descending"==n.sort.current_year.action?"active":"inactive")}}function yi(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",42),e.NdJ("click",function(o){const _=e.CHM(t).$implicit,N=e.oxw(3);return e.KtG(N.sorting("current_year",_[0],o))}),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.YNc(4,bi,5,2,"span",43),e.qZA(),e.BQk()}if(2&i){const t=s.$implicit;e.xp6(1),e.Gre("content-header current-year-",t[0],""),e.xp6(2),e.Oqu(t[1]),e.xp6(1),e.Q6J("ngIf","actions"!=t[0])}}function xi(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"span",54),e._uU(2),e.qZA(),e._uU(3," \u043b\u0432. "),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.cost)}}function Zi(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",46)(2,"div"),e._uU(3),e.qZA(),e.TgZ(4,"div"),e._uU(5),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.qZA(),e.TgZ(8,"div"),e._uU(9),e.qZA(),e.TgZ(10,"div"),e._uU(11),e.qZA(),e.TgZ(12,"div"),e._uU(13),e.ALo(14,"formatDisplayedDate"),e.qZA(),e.TgZ(15,"div"),e._uU(16),e.ALo(17,"formatDisplayedDate"),e.qZA(),e.TgZ(18,"div")(19,"span",47),e._uU(20),e.qZA()(),e.TgZ(21,"div"),e.YNc(22,xi,4,1,"ng-container",18),e.qZA(),e.TgZ(23,"div",26)(24,"button",48),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.showProfile(a.user_id))}),e.TgZ(25,"i",49),e._uU(26,"person"),e.qZA()(),e.TgZ(27,"button",50),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.edit(a))}),e.TgZ(28,"i",51),e._uU(29,"edit"),e.qZA()(),e.TgZ(30,"button",52),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.delete(a))}),e.TgZ(31,"i",53),e._uU(32,"close"),e.qZA()()()(),e.BQk()}if(2&i){const t=s.$implicit,n=e.oxw(3),o=e.MAs(5);e.xp6(1),e.Q6J("ngClass",n.notifyOngoing(t)),e.xp6(2),e.Oqu(t.first_name),e.xp6(2),e.Oqu(t.last_name),e.xp6(2),e.Oqu(t.position),e.xp6(2),e.Oqu(t.department),e.xp6(2),e.Oqu(t.location),e.xp6(2),e.Oqu(e.lcZ(14,14,t.start_date)),e.xp6(3),e.Oqu(e.lcZ(17,16,t.end_date)),e.xp6(4),e.Oqu(t.days),e.xp6(2),e.Q6J("ngIf",t.cost)("ngIfElse",o),e.xp6(2),e.Q6J("matTooltipPosition","above"),e.xp6(3),e.Q6J("matTooltipPosition","above"),e.xp6(3),e.Q6J("matTooltipPosition","above")}}function Ci(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",38),e.YNc(2,yi,5,5,"ng-container",25),e.qZA(),e.YNc(3,Zi,33,18,"ng-container",25),e.ALo(4,"sortData"),e.ALo(5,"endDate"),e.ALo(6,"startDate"),e.ALo(7,"searchText"),e.ALo(8,"searchText"),e.ALo(9,"searchText"),e.ALo(10,"searchText"),e.ALo(11,"searchText"),e.TgZ(12,"div",39)(13,"div")(14,"strong"),e._uU(15,"\u041e\u0431\u0449\u043e"),e.qZA()(),e._UZ(16,"div")(17,"div")(18,"div")(19,"div")(20,"div")(21,"div"),e.TgZ(22,"div")(23,"strong"),e._uU(24),e.qZA()(),e.TgZ(25,"div")(26,"strong")(27,"span"),e._uU(28),e.qZA(),e._uU(29," \u043b\u0432."),e.qZA()(),e.TgZ(30,"div",26),e._UZ(31,"div"),e.TgZ(32,"button",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.export)}),e.TgZ(33,"i",41),e._uU(34,"cloud_download"),e.qZA()()()(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.columns),e.xp6(1),e.Q6J("ngForOf",e.Dn7(4,5,e.xi3(5,9,e.xi3(6,12,e.Dn7(7,15,e.Dn7(8,19,e.Dn7(9,23,e.Dn7(10,27,e.Dn7(11,31,t.sick_leave.current_year,t.filter.current_year.first_name,"first_name"),t.filter.current_year.last_name,"last_name"),t.filter.current_year.position,"position"),t.filter.current_year.department,"department"),t.filter.current_year.location,"location"),t.filter.current_year.start_date),t.filter.current_year.end_date),t.sort.current_year.field,t.sort.current_year.action)),e.xp6(21),e.Oqu(t.summarized.current_year.days),e.xp6(4),e.Oqu(t.summarized.current_year.cost),e.xp6(4),e.Q6J("matTooltipPosition","above")}}function Ti(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"p",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.searching("start","past_years"))}),e.TgZ(1,"i",23),e._uU(2,"search"),e.qZA(),e._uU(3," \u0417\u0430\u043f\u043e\u0447\u043d\u0438 \u0442\u044a\u0440\u0441\u0435\u043d\u0435 ... "),e.qZA()}}function Ai(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"p",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.searching("end","past_years"))}),e.TgZ(1,"i",23),e._uU(2,"close"),e.qZA(),e._uU(3," \u041f\u0440\u0435\u043a\u0440\u0430\u0442\u0438 \u0442\u044a\u0440\u0441\u0435\u043d\u0435\u043e ... "),e.qZA()}}function wi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.filter.past_years[o[0]]="")}),e.TgZ(1,"i",23),e._uU(2,"close"),e.qZA()()}}function qi(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",29),e.NdJ("keypress",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.getTotal("past_years"))}),e.TgZ(2,"mat-form-field",30)(3,"mat-label"),e._uU(4),e.qZA(),e.TgZ(5,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.filter.past_years[a[0]]=o)}),e.qZA(),e.YNc(6,wi,3,0,"button",32),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw().$implicit,n=e.oxw(3);e.xp6(4),e.Oqu(t[1]),e.xp6(1),e.MGl("placeholder","",t[1],"..."),e.Q6J("ngModel",n.filter.past_years[t[0]]),e.xp6(1),e.Q6J("ngIf",n.filter.past_years[t[0]])}}function Mi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.filter.past_years[o[0]]="")}),e.TgZ(1,"i",23),e._uU(2,"close"),e.qZA()()}}function Pi(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",34),e.NdJ("change",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.getTotal("past_years"))}),e.TgZ(2,"mat-form-field",30)(3,"mat-label"),e._uU(4),e.qZA(),e.TgZ(5,"input",35),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.filter.past_years[a[0]]=o)}),e.qZA(),e.YNc(6,Mi,3,0,"button",32),e._UZ(7,"mat-datepicker-toggle",36)(8,"mat-datepicker",null,37),e.qZA()(),e.BQk()}if(2&i){const t=e.MAs(9),n=e.oxw().$implicit,o=e.oxw(3);e.xp6(4),e.Oqu(n[1]),e.xp6(1),e.Q6J("matDatepicker",t)("ngModel",o.filter.past_years[n[0]]),e.xp6(1),e.Q6J("ngIf",o.filter.past_years[n[0]]),e.xp6(1),e.Q6J("for",t)}}function Ui(i,s){if(1&i&&(e.ynx(0),e.YNc(1,qi,7,4,"ng-container",28),e.YNc(2,Pi,10,5,"ng-container",28),e.BQk()),2&i){const t=s.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.isSearchable(t[0],"alphabetical")),e.xp6(1),e.Q6J("ngIf",n.isSearchable(t[0],"dates"))}}function ki(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",24),e.YNc(1,Ui,3,2,"ng-container",25),e._UZ(2,"div")(3,"div"),e.TgZ(4,"div",26)(5,"button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.searching("restart","past_years"))}),e.TgZ(6,"i",23),e._uU(7,"close"),e.qZA()()()()}if(2&i){const t=e.oxw(2);e.Q6J("@enterFromRight",void 0),e.xp6(1),e.Q6J("ngForOf",t.columns),e.xp6(4),e.Q6J("matTooltipPosition","above")}}function Di(i,s){if(1&i&&(e.TgZ(0,"span",44)(1,"i",45),e._uU(2," keyboard_arrow_up "),e.qZA(),e.TgZ(3,"i",45),e._uU(4," keyboard_arrow_down "),e.qZA()()),2&i){const t=e.oxw().$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngClass",n.sort.past_years.field==t[0]&&"ascending"==n.sort.past_years.action?"active":"inactive"),e.xp6(2),e.Q6J("ngClass",n.sort.past_years.field==t[0]&&"descending"==n.sort.past_years.action?"active":"inactive")}}function Oi(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",42),e.NdJ("click",function(o){const _=e.CHM(t).$implicit,N=e.oxw(3);return e.KtG(N.sorting("past_years",_[0],o))}),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.YNc(4,Di,5,2,"span",43),e.qZA(),e.BQk()}if(2&i){const t=s.$implicit;e.xp6(1),e.Gre("content-header past_years-",t[0],""),e.xp6(2),e.Oqu(t[1]),e.xp6(1),e.Q6J("ngIf","actions"!=t[0])}}function Fi(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"span",58),e._uU(2),e.qZA(),e._uU(3," \u043b\u0432. "),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.cost)}}function Ei(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",38)(2,"div"),e._uU(3),e.qZA(),e.TgZ(4,"div"),e._uU(5),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.qZA(),e.TgZ(8,"div"),e._uU(9),e.qZA(),e.TgZ(10,"div"),e._uU(11),e.qZA(),e.TgZ(12,"div"),e._uU(13),e.ALo(14,"formatDisplayedDate"),e.qZA(),e.TgZ(15,"div"),e._uU(16),e.ALo(17,"formatDisplayedDate"),e.qZA(),e.TgZ(18,"div")(19,"span",57),e._uU(20),e.qZA()(),e.TgZ(21,"div"),e.YNc(22,Fi,4,1,"ng-container",18),e.qZA(),e.TgZ(23,"div",26)(24,"button",48),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.showProfile(a.user_id))}),e.TgZ(25,"i",49),e._uU(26,"person"),e.qZA()()()(),e.BQk()}if(2&i){const t=s.$implicit;e.oxw(3);const n=e.MAs(5);e.xp6(3),e.Oqu(t.first_name),e.xp6(2),e.Oqu(t.last_name),e.xp6(2),e.Oqu(t.position),e.xp6(2),e.Oqu(t.department),e.xp6(2),e.Oqu(t.location),e.xp6(2),e.Oqu(e.lcZ(14,11,t.start_date)),e.xp6(3),e.Oqu(e.lcZ(17,13,t.end_date)),e.xp6(4),e.Oqu(t.days),e.xp6(2),e.Q6J("ngIf",t.cost)("ngIfElse",n),e.xp6(2),e.Q6J("matTooltipPosition","above")}}const Ni=function(){return[5,10,25,100,250]};function Ji(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-paginator",59),e.NdJ("page",function(o){e.CHM(t);const a=e.oxw(3);return e.KtG(a.onPageChange(o))}),e.qZA()}if(2&i){const t=e.oxw(3);e.Q6J("showFirstLastButtons",!0)("length",t.sick_leave.past_years.length)("pageIndex",t.pagination.pageIndex)("pageSize",t.pagination.pageSize)("pageSizeOptions",e.DdM(5,Ni))}}function Yi(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",38),e.YNc(2,Oi,5,5,"ng-container",25),e.qZA(),e.YNc(3,Ei,27,15,"ng-container",25),e.ALo(4,"pagination"),e.ALo(5,"sortData"),e.ALo(6,"endDate"),e.ALo(7,"startDate"),e.ALo(8,"searchText"),e.ALo(9,"searchText"),e.ALo(10,"searchText"),e.ALo(11,"searchText"),e.ALo(12,"searchText"),e.TgZ(13,"div",39)(14,"div")(15,"strong"),e._uU(16,"\u041e\u0431\u0449\u043e"),e.qZA()(),e._UZ(17,"div")(18,"div")(19,"div")(20,"div")(21,"div")(22,"div"),e.TgZ(23,"div")(24,"strong"),e._uU(25),e.qZA()(),e.TgZ(26,"div")(27,"strong")(28,"span"),e._uU(29),e.qZA(),e._uU(30," \u043b\u0432."),e.qZA()(),e.TgZ(31,"div",26)(32,"button",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.export())}),e.TgZ(33,"i",41),e._uU(34,"cloud_download"),e.qZA()()()(),e.TgZ(35,"div",55),e.YNc(36,Ji,1,6,"mat-paginator",56),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.columns),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,6,e.Dn7(5,9,e.xi3(6,13,e.xi3(7,16,e.Dn7(8,19,e.Dn7(9,23,e.Dn7(10,27,e.Dn7(11,31,e.Dn7(12,35,t.sick_leave.past_years,t.filter.past_years.first_name,"first_name"),t.filter.past_years.last_name,"last_name"),t.filter.past_years.position,"position"),t.filter.past_years.department,"department"),t.filter.past_years.location,"location"),t.filter.past_years.start_date),t.filter.past_years.end_date),t.sort.past_years.field,t.sort.past_years.action),t.pagination)),e.xp6(22),e.Oqu(t.summarized.past_years.days),e.xp6(4),e.Oqu(t.summarized.past_years.cost),e.xp6(3),e.Q6J("matTooltipPosition","above"),e.xp6(4),e.Q6J("ngIf",(null==t.sick_leave.past_years?null:t.sick_leave.past_years.length)>=5)}}function Ii(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",6)(5,"div",10)(6,"h4",11),e._uU(7,"\u0421\u043f\u0438\u0441\u044a\u043a \u043d\u0430 \u0431\u043e\u043b\u043d\u0438\u0447\u043d\u0438 \u0431\u043b\u044f"),e.qZA(),e.TgZ(8,"div",12),e.YNc(9,di,4,0,"p",13),e.YNc(10,pi,4,0,"p",13),e.qZA()(),e.TgZ(11,"div",14)(12,"button",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.add())}),e._uU(13," \u041d\u043e\u0432 \u0411\u043e\u043b\u043d\u0438\u0447\u0435\u043d "),e.qZA()()()(),e.YNc(14,vi,9,3,"div",16),e.TgZ(15,"div",17),e.YNc(16,Ci,35,35,"ng-container",18),e.qZA()()(),e.TgZ(17,"div",7)(18,"div",19)(19,"div",20)(20,"h4",21),e._uU(21,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d\u0438 \u0431\u043e\u043b\u043d\u0438\u0447\u043d\u0438 \u0437\u0430 \u043f\u0440\u0435\u0434\u0445\u043e\u0434\u043d\u0438 \u0433\u043e\u0434\u0438\u043d\u0438"),e.qZA(),e.TgZ(22,"div",12),e.YNc(23,Ti,4,0,"p",13),e.YNc(24,Ai,4,0,"p",13),e.qZA()(),e.YNc(25,ki,8,3,"div",16),e.TgZ(26,"div",17),e.YNc(27,Yi,37,39,"ng-container",18),e.qZA()()()()}if(2&i){const t=e.oxw(),n=e.MAs(7);e.xp6(3),e.Q6J("@enterFromBottom",void 0),e.xp6(6),e.Q6J("ngIf",!t.search.current_year),e.xp6(1),e.Q6J("ngIf",t.search.current_year),e.xp6(4),e.Q6J("ngIf",t.search.current_year),e.xp6(1),e.Q6J("@enterFromTop",void 0),e.xp6(1),e.Q6J("ngIf",t.sick_leave.current_year.length>0)("ngIfElse",n),e.xp6(7),e.Q6J("ngIf",!t.search.past_years),e.xp6(1),e.Q6J("ngIf",t.search.past_years),e.xp6(1),e.Q6J("ngIf",t.search.past_years),e.xp6(2),e.Q6J("ngIf",t.sick_leave.past_years.length>0)("ngIfElse",n)}}function Qi(i,s){1&i&&e._UZ(0,"div",60)}function Si(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function Bi(i,s){1&i&&(e.TgZ(0,"div",61)(1,"h3"),e._uU(2," \u041d\u044f\u043c\u0430\u0442\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d\u0438 \u0437\u0430\u043f\u0438\u0441\u0438. "),e.qZA()())}let Ri=(()=>{class i{constructor(t,n,o){this.sick_leave_service=t,this.dialog=n,this.swal_service=o,this.columns=[["first_name","\u0418\u043c\u0435"],["last_name","\u0424\u0430\u043c\u0438\u043b\u0438\u044f"],["position","\u041f\u043e\u0437\u0438\u0446\u0438\u044f"],["department","\u0414\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442"],["location","\u041b\u043e\u043a\u0430\u0446\u0438\u044f"],["start_date","\u041d\u0430\u0447\u0430\u043b\u043d\u0430 \u0434\u0430\u0442\u0430"],["end_date","\u041a\u0440\u0430\u0439\u043d\u0430 \u0434\u0430\u0442\u0430"],["days","\u0414\u043d\u0438"],["cost","\u0420\u0430\u0437\u0445\u043e\u0434"],["actions","\u041e\u043f\u0446\u0438\u0438"]],this.searchable={alphabetical:["first_name","last_name","position","department","location"],dates:["start_date","end_date"]},this.sick_leave={current_year:[],past_years:[]},this.summarized={current_year:{days:0,cost:0},past_years:{days:0,cost:0}},this.filter={current_year:{first_name:"",last_name:"",position:"",department:"",location:"",start_date:"",end_date:""},past_years:{first_name:"",last_name:"",position:"",department:"",location:"",start_date:"",end_date:""}},this.sort={current_year:{field:"end_date",action:"descending"},past_years:{field:"end_date",action:"descending"}},this.search={current_year:!1,past_years:!1},this.pagination={pageIndex:0,pageSize:5,length:10},this.loading=!0}ngOnInit(){this.get(),setTimeout(()=>{this.loading=!1},500),setTimeout(()=>{this.checkOngoing(),this.checkFuture(),this.getTotal("current_year"),this.getTotal("past_years")},2e3)}get(){this.sick_leave_service.get().subscribe(t=>{this.formatSickLeave(t)})}formatSickLeave(t){this.sick_leave.current_year=t.filter(n=>+new Date(n.end_date).getFullYear()>=+(new Date).getFullYear()),this.sick_leave.past_years=t.filter(n=>new Date(n.end_date).getFullYear()<(new Date).getFullYear())}checkFuture(){let t=this.sick_leave.current_year.filter(n=>new Date(n.end_date)>new Date&&new Date(n.start_date)>new Date);t.length>0&&this.showNotification("primary",t)}checkOngoing(){let t=this.sick_leave.current_year.filter(n=>new Date(n.end_date)>new Date&&new Date(n.start_date)<new Date);t.length>0?this.showNotification("warning",t):this.showNotification("info")}showNotification(t,n){let o=this.getNotificationMessage(t,n);("add"==t||"edit"==t||"delete"==t)&&(t="success"),$.notify({icon:"notifications",message:o},{type:t,timer:2e3,placement:{from:"top",align:"right"},template:'<div data-notify="container" class="col-xl-4 col-lg-4 col-11 col-sm-4 col-md-4 alert alert-{0} alert-with-icon" role="alert"><button mat-button  type="button" aria-hidden="true" class="close mat-button" data-notify="dismiss">  <i class="material-icons">close</i></button><i class="material-icons" data-notify="icon">notifications</i> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'})}getNotificationMessage(t,n){let o="\u041a\u044a\u043c \u0442\u0435\u043a\u0443\u0449\u0438\u044f \u043c\u043e\u043c\u0435\u043d\u0442 \u043d\u044f\u043c\u0430\u0442\u0435 \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b\u0438 \u0432\u044a\u0432 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430 \u043d\u0435\u0442\u0440\u0443\u0434\u043e\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442.";switch(t){case"warning":return o=`\u041a\u044a\u043c \u0434\u043d\u0435\u0448\u043d\u0430 \u0434\u0430\u0442\u0430 \u0438\u043c\u0430\u0442\u0435 ${n.length} \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b${1==n.length?"":"\u044f"} \u0432\u044a\u0432 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430 \u043d\u0435\u0442\u0440\u0443\u0434\u043e\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442:`,o+=n.map(a=>`<br>${a.first_name} ${a.last_name} (${a.position})`),o;case"primary":return o=`\u041e\u0447\u043a\u0432\u0430\u0442\u0435 ${n.length} \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b${1==n.length?"":"\u044f"} \u0434\u0430 \u043e\u0442\u0441\u044a\u0441\u0442\u0432\u0430${1==n.length?"":"\u0442"}  \u043f\u043e \u0437\u0434\u0440\u0430\u0432\u043e\u0441\u043b\u043e\u0432\u043d\u0438 \u043f\u0440\u0438\u0447\u0438\u043d\u0438 \u0432 \u0431\u044a\u0434\u0435\u0449\u0438 \u043f\u0435\u0440\u0438\u043e\u0434\u0438:`,o+=n.map(a=>`<br>${a.first_name} ${a.last_name} (${a.position})`),o;case"add":return o="\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u0445\u0442\u0435 \u0431\u043e\u043b\u043d\u0438\u0447\u0435\u043d \u043b\u0438\u0441\u0442 \u043d\u0430:",o+=`<br>${n.employee[0].first_name} ${n.employee[0].last_name} (${n.employee[0].position})`,o+=`<br>\u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 \u043e\u0442 ${n.sick_leave.start_date} \u0434\u043e ${n.sick_leave.end_date}`,o;case"edit":return o="\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u0440\u043e\u043c\u0435\u043d\u0438\u0445\u0442\u0435 \u0431\u043e\u043b\u043d\u0438\u0447\u043d\u0438\u044f \u043b\u0438\u0441\u0442 \u043d\u0430:",o+=`<br>${n.employee[0].first_name} ${n.employee[0].last_name} (${n.employee[0].position})`,o+=`<br>\u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 \u043e\u0442 ${n.sick_leave.start_date} \u0434\u043e ${n.sick_leave.end_date}`,o;case"delete":return o="\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u0442\u0440\u0438\u0445\u0442\u0435 \u0431\u043e\u043b\u043d\u0438\u0447\u043d\u0438\u044f \u043b\u0438\u0441\u0442 \u043d\u0430:",o+=`<br>${n.first_name} ${n.last_name} (${n.position})`,o+=`<br>\u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 \u043e\u0442 ${n.start_date} \u0434\u043e ${n.end_date}`,o;case"danger":return o="\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c, \u043c\u043e\u043b\u044f \u043e\u0431\u044a\u0440\u043d\u0435\u0442\u0435 \u0441\u0435 \u043a\u044a\u043c \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0438\u044f \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440.",o;case"info":return o}}add(){this.dialog.open(Fe,{data:{},autoFocus:!1,disableClose:!1}).afterClosed().subscribe(n=>{n&&"cancel"!=n&&(this.showNotification("add",n),this.get())})}edit(t){this.dialog.open(Fe,{data:{s_request:t},autoFocus:!1,disableClose:!1,minWidth:500}).afterClosed().subscribe(o=>{o&&"cancel"!=o&&(this.showNotification("edit",o),this.get())})}delete(t){let n="\u0421\u0438\u0433\u0443\u0440\u043d\u0438 \u043b\u0438 \u0441\u0442\u0435, \u0447\u0435 \u0436\u0435\u043b\u0430\u0435\u0442\u0435 \u0434\u0430 \u0438\u0437\u0442\u0440\u0438\u0435\u0442\u0435 \u0431\u043e\u043b\u043d\u0438\u0447\u043d\u0438\u044f \u0437\u0430\u043f\u0438\u0441 \u043d\u0430:";n+=`<br>${t.first_name} ${t.last_name} (${t.position})`,n+=`<br> \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 \u043e\u0442 ${t.start_date} \u0434\u043e ${t.end_date}?`,this.swal_service.confirm({html:n}).then(o=>{o.isConfirmed&&this.sick_leave_service.delete(t.id).subscribe(a=>{a&&(this.showNotification("delete",t),this.swal_service.success({text:"\u0417\u0430\u043f\u0438\u0441\u044a\u0442 \u0431\u0435\u0448\u0435 \u0438\u0437\u0442\u0440\u0438\u0442."}),this.get())},a=>{this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u0442\u0440\u0438\u0432\u0430\u043d\u0435\u0442\u043e \u043d\u0430 \u0431\u043e\u043b\u043d\u0438\u0447\u043d\u0438\u044f \u0437\u0430\u043f\u0438\u0441: "+a.message})})})}showProfile(t){this.dialog.open(Ge,{data:{employee_id:t,action:"view"},autoFocus:!1,disableClose:!1})}export(){return this.sick_leave_service.export()}notifyOngoing(t){return new Date(t.end_date)>new Date&&new Date(t.start_date)<new Date?"ongoing":new Date(t.end_date)>new Date&&new Date(t.start_date)>new Date?"future":null}onPageChange(t){this.pagination=t}sorting(t,n,o){this.sort[t].field=n,this.sort[t].action="descending"===this.sort[t].action?"ascending":"descending"}searching(t,n){this.search[n]="start"===t||"restart"===t,("end"===t||"restart"===t)&&(this.filter[n]={first_name:"",last_name:"",position:"",department:"",location:"",end_date:"",start_date:""},this.summarized[n]={days:0,cost:0})}isSearchable(t,n){switch(n){case"dates":return this.searchable.dates.includes(t);case"alphabetical":return this.searchable.alphabetical.includes(t);default:return!1}}getTotal(t){this.summarized[t]={days:0,cost:0};let n=document.getElementsByClassName(`${t}-days`),o=document.getElementsByClassName(`${t}-cost`);for(let a=0;a<n.length;a++)this.summarized[t].days+=parseInt(n[a].innerHTML);for(let a=0;a<o.length;a++)this.summarized[t].cost+=parseInt(o[a].innerHTML)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36($e),e.Y36(d.uw),e.Y36(P.J))},i.\u0275cmp=e.Xpm({type:i,selectors:[["sick-leave"]],decls:8,vars:2,consts:[[1,"main-content"],[1,"container-fluid"],["class","row",4,"ngIf"],["class","loader",4,"ngIf"],["no_data",""],["no_records",""],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info"],[1,"col-md-10"],[1,"card-title"],[1,"toggle-search"],["class","card-category",3,"click",4,"ngIf"],[1,"col-md-2"],[1,"btn","btn-info","btn-block","btn-fill","add-new",3,"click"],["class","search-grid",4,"ngIf"],[1,"card-body"],[4,"ngIf","ngIfElse"],[1,"card","card-plain"],[1,"card-header","card-header-warning"],[1,"card-title","mt-0"],[1,"card-category",3,"click"],[1,"material-icons"],[1,"search-grid"],[4,"ngFor","ngForOf"],[1,"actions"],["mat-raised-button","","type","button","matTooltip","\u041d\u0443\u043b\u0438\u0440\u0430\u0439 \u0442\u044a\u0440\u0441\u0435\u043d\u0435\u0442\u043e",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[4,"ngIf"],[1,"",3,"keypress"],["appearance","fill"],["matInput","","type","text",3,"placeholder","ngModel","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"",3,"change"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],[1,"content"],[1,"content","content-footer"],["mat-raised-button","","type","button","matTooltip","\u0418\u0437\u0442\u0435\u0433\u043b\u0438",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[1,"material-icons","export-icon"],[3,"click"],["class","sort-arrow",4,"ngIf"],[1,"sort-arrow"],[1,"material-icons",3,"ngClass"],[1,"content",3,"ngClass"],[1,"current_year-days"],["mat-raised-button","","type","button","matTooltip","\u041f\u0440\u043e\u0444\u0438\u043b",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[1,"material-icons","profile-icon"],["mat-raised-button","","type","button","matTooltip","\u0420\u0435\u0430\u043a\u0442\u0438\u0440\u0430\u0439",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[1,"material-icons","edit"],["mat-raised-button","","type","button","matTooltip","\u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0438",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[1,"material-icons","remove"],[1,"current_year-cost"],[1,"pagination"],[3,"showFirstLastButtons","length","pageIndex","pageSize","pageSizeOptions","page",4,"ngIf"],[1,"past_years-days"],[1,"past_years-cost"],[3,"showFirstLastButtons","length","pageIndex","pageSize","pageSizeOptions","page"],[1,"loader"],[1,"no-records"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Ii,28,12,"div",2),e.qZA(),e.YNc(3,Qi,1,0,"div",3),e.qZA(),e.YNc(4,Si,2,0,"ng-template",null,4,e.W1O),e.YNc(6,Bi,3,0,"ng-template",null,5,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("ngIf",n.loading))},dependencies:[A.mk,A.sg,A.O5,l.KE,l.hX,l.R9,m.Nt,D.lW,r.Fj,r.JJ,r.On,G.Mq,G.hl,G.nW,p.gM,le.NW,He,ze,je,Ke,we,Xe],styles:['.card-body[_ngcontent-%COMP%] {\n  overflow-x: scroll;\n}\n.card-body[_ngcontent-%COMP%]   .future[_ngcontent-%COMP%] {\n  background-color: rgba(184, 27, 186, 0.0784313725);\n}\n.card-body[_ngcontent-%COMP%]   .ongoing[_ngcontent-%COMP%] {\n  background-color: rgba(255, 153, 0, 0.3490196078);\n}\n.search-grid[_ngcontent-%COMP%] {\n  display: grid;\n  column-gap: 1%;\n  grid-template-columns: minmax(100px, 9%) minmax(100px, 9%) minmax(130px, 10%) minmax(130px, 10%) minmax(100px, 10%) minmax(100px, 25%) minmax(100px, 25%) minmax(0px, 0%) minmax(0px, 0%) minmax(20px, 5%);\n  grid-auto-flow: column;\n  margin: 10px 15px 0px 15px;\n}\n.search-grid[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\n  vertical-align: middle;\n  flex-wrap: wrap;\n}\n.search-grid[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%] {\n  padding-right: 8px;\n}\n.content[_ngcontent-%COMP%] {\n  display: grid;\n  column-gap: 1%;\n  grid-template-columns: minmax(100px, 9%) minmax(100px, 9%) minmax(130px, 10%) minmax(130px, 10%) minmax(100px, 10%) minmax(100px, 10%) minmax(100px, 10%) minmax(100px, 5%) minmax(100px, 7%) minmax(80px, 10%);\n  grid-auto-flow: column;\n  border-bottom: 1px solid #e5e5e5;\n}\n.content[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\n  height: 100%;\n  padding: 12px 8px;\n  vertical-align: middle;\n  flex-wrap: wrap;\n}\n.content[_ngcontent-%COMP%]:hover {\n  background-color: #f5f5f5;\n  font-weight: 450;\n}\n.content[_ngcontent-%COMP%]:hover   .profile-icon[_ngcontent-%COMP%] {\n  color: #555555;\n}\n.content[_ngcontent-%COMP%]:hover   .export-icon[_ngcontent-%COMP%] {\n  color: #555555;\n}\n.content[_ngcontent-%COMP%]:hover   .remove[_ngcontent-%COMP%] {\n  color: #f44336;\n}\n.content[_ngcontent-%COMP%]:hover   .edit[_ngcontent-%COMP%] {\n  color: #9c27b0;\n}\n.content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  column-gap: 2%;\n  font-size: 0.95rem;\n  font-weight: 500;\n}\n.content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .sort-arrow[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n}\n.content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .sort-arrow[_ngcontent-%COMP%]   .inactive[_ngcontent-%COMP%] {\n  display: none;\n}\n.content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover {\n  background-color: #ececec;\n  cursor: pointer;\n}\n.toggle-search[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover {\n  cursor: pointer;\n  font-weight: 500;\n}\n.actions[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  cursor: pointer;\n}\n.pagination[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 3%;\n  grid-column: 1/span 5;\n}\n.pagination[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%] {\n  background: none;\n}\n.loader[_ngcontent-%COMP%] {\n  top: calc(50% - 5px);\n  left: calc(50% - 5px);\n  position: absolute !important;\n}\n\n.loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:before, .loader[_ngcontent-%COMP%]:after {\n  position: relative;\n  display: inline-block;\n  width: 20px;\n  height: 50px;\n  background-color: rgba(215, 230, 240, 0.9);\n  border: 1px solid rgb(215, 230, 240);\n  z-index: 100000;\n  content: " ";\n  margin-left: -5px;\n  margin-right: -9px;\n}\n.loader[_ngcontent-%COMP%]:before {\n  top: -11px;\n  left: -100%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) infinite;\n}\n.loader[_ngcontent-%COMP%] {\n  animation: loading-main 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.2s infinite;\n}\n.loader[_ngcontent-%COMP%]:after {\n  top: -11px;\n  right: -100%;\n  margin-top: 50%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.4s infinite;\n}\n@keyframes loading {\n  from {\n    transform: scaleY(1.4);\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n@keyframes loading-main {\n  from {\n    padding-top: 10px;\n    padding-bottom: 10px;\n    margin-top: -10px;\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n.no-records[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 3%;\n  grid-column: 1/span 5;\n}'],data:{animation:[(0,v.X$)("enterFromRight",[(0,v.eR)(":enter",[(0,v.oB)({transform:"translateX(100%)",opacity:0}),(0,v.jt)("500ms",(0,v.oB)({transform:"translateX(0)",opacity:1}))]),(0,v.eR)(":leave",[(0,v.oB)({transform:"translateX(0)",opacity:1}),(0,v.jt)("500ms",(0,v.oB)({transform:"translateX(100%)",opacity:0}))])]),(0,v.X$)("enterFromBottom",[(0,v.eR)(":enter",[(0,v.oB)({transform:"translateY(100%)",opacity:0}),(0,v.jt)("500ms",(0,v.oB)({transform:"translateX(0)",opacity:1}))]),(0,v.eR)(":leave",[(0,v.oB)({transform:"translateY(0)",opacity:1}),(0,v.jt)("500ms",(0,v.oB)({transform:"translateX(100%)",opacity:0}))])]),(0,v.X$)("enterFromTop",[(0,v.eR)(":enter",[(0,v.oB)({transform:"translateY(0)",opacity:0}),(0,v.jt)("500ms",(0,v.oB)({transform:"translateX(0)",opacity:1}))]),(0,v.eR)(":leave",[(0,v.oB)({transform:"translateY(100%)",opacity:1}),(0,v.jt)("500ms",(0,v.oB)({transform:"translateX(100%)",opacity:0}))])])]}}),i})();var ae=I(7331);function Li(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij("(",t.details,")")}}function Gi(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-chip",5),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.absence.type=a.id)}),e.TgZ(1,"div",6)(2,"span"),e._uU(3),e.qZA(),e.YNc(4,Li,2,1,"span",7),e.qZA()()}if(2&i){const t=s.$implicit;e.xp6(3),e.Oqu(t.name),e.xp6(1),e.Q6J("ngIf",t.details)}}function $i(i,s){if(1&i&&(e.TgZ(0,"div",2)(1,"mat-chip-list",3),e.YNc(2,Gi,5,2,"mat-chip",4),e.qZA()()),2&i){const t=e.oxw();e.xp6(2),e.Q6J("ngForOf",t.absence_types)}}function Hi(i,s){if(1&i&&(e.TgZ(0,"span"),e._uU(1),e.qZA()),2&i){const t=e.oxw(2);e.xp6(1),e.hij(" - ",t.getAbsenceType(t.absence.type)[0].details,"")}}function zi(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u043d\u0435"),e.qZA())}function ji(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"),e.qZA())}function Ki(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"mat-option",29)(2,"strong"),e._uU(3),e.qZA(),e._uU(4),e.qZA(),e.BQk()),2&i){const t=s.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("value",t.id)("selected",n.absence.employee_id),e.xp6(2),e.AsE("",t.first_name," ",t.last_name," "),e.xp6(1),e.lnq(" ",t.position," - ",t.department," (",t.location,") ")}}function Xi(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Invalid start date "),e.qZA())}function Wi(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Invalid end date "),e.qZA())}function Vi(i,s){if(1&i&&(e.TgZ(0,"div")(1,"p"),e._uU(2),e.qZA()()),2&i){const t=e.oxw(2);e.xp6(2),e.hij(" \u041f\u043e\u043b\u0430\u0433\u0430\u0435\u043c \u043e\u043f\u0443\u0441\u043a \u0434\u043e \u0434\u043d\u0435\u0448\u043d\u0430 \u0434\u0430\u0442\u0430: ",t.available_days," ")}}function eo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-form-field",14)(1,"mat-label"),e._uU(2,"\u0420\u0430\u0437\u0445\u043e\u0434 (\u043b\u0432)"),e.qZA(),e.TgZ(3,"input",30),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw(2);return e.KtG(a.absence.approval_status=o)}),e.qZA()()}if(2&i){const t=e.oxw(2);e.xp6(3),e.Q6J("ngModel",t.absence.approval_status)}}function to(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div")(2,"button",31),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.edit())}),e._uU(3,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439 "),e.qZA()(),e.BQk()}}function no(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"button",31),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.addOld())}),e._uU(2," \u0414\u043e\u0431\u0430\u0432\u0438 "),e.qZA()()}}function io(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9)(2,"div",10)(3,"span"),e._uU(4),e.qZA(),e.YNc(5,Hi,2,1,"span",7),e.qZA(),e.TgZ(6,"div",11),e.YNc(7,zi,2,0,"span",7),e.YNc(8,ji,2,0,"span",7),e.qZA()(),e.TgZ(9,"mat-dialog-content")(10,"form",12)(11,"div",13)(12,"mat-form-field",14)(13,"mat-label"),e._uU(14,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b"),e.qZA(),e.TgZ(15,"mat-select",15),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.absence.employee_id=o)})("selectionChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.calcAvailableDays(o.value))}),e._uU(16," > "),e.TgZ(17,"mat-form-field")(18,"input",16),e.NdJ("keyup",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.filtering(o.target.value))}),e.qZA()(),e.YNc(19,Ki,5,7,"ng-container",17),e.ALo(20,"searchEmployees"),e.qZA()(),e.TgZ(21,"div",18)(22,"mat-form-field",14)(23,"mat-label"),e._uU(24,"\u0418\u0437\u0431\u0435\u0440\u0438 \u043d\u0430\u0447\u0430\u043b\u043d\u0430 \u0438 \u043a\u0440\u0430\u0439\u043d\u0430 \u0434\u0430\u0442\u0430"),e.qZA(),e.TgZ(25,"mat-date-range-input",19)(26,"input",20),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.absence.start_date=o)}),e.qZA(),e.TgZ(27,"input",21),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.absence.end_date=o)}),e.qZA()(),e._UZ(28,"mat-datepicker-toggle",22)(29,"mat-date-range-picker",null,23),e.YNc(31,Xi,2,0,"mat-error",7),e.YNc(32,Wi,2,0,"mat-error",7),e.qZA(),e.TgZ(33,"mat-form-field",14)(34,"mat-label"),e._uU(35,"\u0414\u043d\u0438"),e.qZA(),e.TgZ(36,"input",24),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.absence.days=o)}),e.qZA()(),e.YNc(37,Vi,3,1,"div",7),e.YNc(38,eo,4,1,"mat-form-field",25),e.qZA(),e.TgZ(39,"mat-dialog-actions")(40,"div")(41,"button",26),e._uU(42," \u041e\u0442\u043c\u0435\u043d\u0438 "),e.qZA()(),e.YNc(43,to,4,0,"ng-container",27),e.YNc(44,no,3,0,"ng-template",null,28,e.W1O),e.qZA()()()()()}if(2&i){const t=e.MAs(30),n=e.MAs(45),o=e.oxw();e.xp6(4),e.Oqu(o.getAbsenceType(o.absence.type)[0].name),e.xp6(1),e.Q6J("ngIf",o.getAbsenceType(o.absence.type)[0].details),e.xp6(2),e.Q6J("ngIf",o.absence.id),e.xp6(1),e.Q6J("ngIf",!o.absence.id),e.xp6(2),e.Q6J("formGroup",o.form),e.xp6(5),e.Q6J("ngModel",o.absence.employee_id),e.xp6(4),e.Q6J("ngForOf",e.xi3(20,19,o.employees,o.filter)),e.xp6(6),e.Q6J("formGroup",o.form)("rangePicker",t),e.xp6(1),e.Q6J("ngModel",o.absence.start_date),e.xp6(1),e.Q6J("ngModel",o.absence.end_date),e.xp6(1),e.Q6J("for",t),e.xp6(3),e.Q6J("ngIf",o.form.controls.start_date.hasError("matStartDateInvalid")),e.xp6(1),e.Q6J("ngIf",o.form.controls.end_date.hasError("matEndDateInvalid")),e.xp6(4),e.Q6J("ngModel",o.absence.days),e.xp6(1),e.Q6J("ngIf",o.absence.employee_id&&1==o.absence.type),e.xp6(1),e.Q6J("ngIf",o.absence.approval),e.xp6(5),e.Q6J("ngIf",o.absence.id)("ngIfElse",n)}}let oo=(()=>{class i{constructor(t,n,o,a,_,N,R,K){this.data=t,this.employees_service=n,this.absence_types_service=o,this.absences_service=a,this.datepipe=_,this.fb=N,this.swal_service=R,this.dialogRef=K,this.loader=!0,this.filter="",this.employees=[],this.absence_types=[],this.absence={id:"",employee_id:"",type:"",start_date:"",end_date:"",approval:"",approval_status:"",days:"",archive:""},this.form=this.fb.group({employee_id:["",[r.kI.required]],start_date:["",[r.kI.required]],end_date:["",[r.kI.required]],days:["",[r.kI.required]]})}ngOnInit(){this.data?.absence&&this.injectEditData(),this.getEmployees(),this.getAbsenceTypes(),this.absences_archive=this.data?.absences_archive}injectEditData(){this.absence={id:this.data.absence.id,employee_id:this.data.absence.employee_id,type:this.data.absence.type,start_date:this.data.absence.start_date,end_date:this.data.absence.end_date,approval:this.data.approval.end_date,approval_status:this.data.approval_status.end_date,days:this.data.absence.days,archive:this.data.absence.archive}}getAbsenceTypes(){this.loader=!0,this.absence_types_service.get().subscribe(t=>{t?this.absence_types=t:this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u044f\u0432\u0430\u043d\u0435\u0442\u043e \u043d\u0430 \u0437\u0430\u043f\u0438\u0441\u0430:"+t})},t=>{this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u044f\u0432\u0430\u043d\u0435\u0442\u043e \u043d\u0430 \u0437\u0430\u043f\u0438\u0441\u0430: "+t.message})}),this.loader=!1}getAbsenceType(t){return this.absence_types.filter(n=>n.id==t)}addOld(){this.form.valid&&(this.absence.start_date=this.datepipe.transform(this.absence.start_date,"YYYY-MM-dd"),this.absence.end_date=this.datepipe.transform(this.absence.end_date,"YYYY-MM-dd"),this.absences_service.addOld(this.absence).subscribe(t=>{t?this.dialogRef.close(this.getResponseData()):this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u044f\u043d\u0435\u0442\u043e \u043d\u0430 \u0437\u0430\u043f\u0438\u0441a:"+t})},t=>{this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u044f\u043d\u0435\u0442\u043e \u043d\u0430 \u0437\u0430\u043f\u0438\u0441a: "+t.message})}))}edit(){this.form.valid&&(this.absence.start_date=this.datepipe.transform(this.absence.start_date,"YYYY-MM-dd"),this.absence.end_date=this.datepipe.transform(this.absence.end_date,"YYYY-MM-dd"),this.absences_service.editOld(this.absence).subscribe(t=>{t?this.dialogRef.close(this.getResponseData()):this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u044f\u0432\u0430\u043d\u0435\u0442\u043e \u043d\u0430 \u0437\u0430\u043f\u0438\u0441\u0430:"+t})},t=>{this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u044f\u0432\u0430\u043d\u0435\u0442\u043e \u043d\u0430 \u0437\u0430\u043f\u0438\u0441\u0430: "+t.message})}))}getEmployees(){this.loader=!0,this.employees_service.getEmployees().subscribe(t=>{this.employees=t},t=>{this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u0440\u0430\u0431\u043e\u0442\u043a\u0430\u0442\u0430 \u043d\u0430 \u0434\u0430\u043d\u043d\u0438\u0442\u0435 \u0437\u0430 \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b\u0438\u0442\u0435: "+t.message})}),this.loader=!1}filtering(t){this.filter=String(t)}getResponseData(){return{absence:this.absence,employee:this.employees.filter(t=>t.id==this.absence.employee_id)}}calcAvailableDays(t){if(this.absence.employee_id){this.available_days=Math.random();let n=this.absences_archive.find(o=>o.employee_id===t&&this.absence.type==o.type_id);this.available_days=this.calcPaidDaysAfterArchivedDate(n.due_date)+n.days}}calcPaidDaysAfterArchivedDate(t){let[n,o,a]=t.split("-"),_=`${o}/${a}/${n}`;return Math.floor(((new Date).getTime()-new Date(_).getTime())/864e5/18.25)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.WI),e.Y36(ee),e.Y36(ce),e.Y36(U),e.Y36(A.uU),e.Y36(r.QS),e.Y36(P.J),e.Y36(d.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["absence"]],decls:2,vars:2,consts:[["class","absence-picker",4,"ngIf"],["class","absence-card",4,"ngIf"],[1,"absence-picker"],["aria-label","absence-list"],[3,"click",4,"ngFor","ngForOf"],[3,"click"],[1,"absence-option"],[4,"ngIf"],[1,"absence-card"],[1,"header"],[1,"type"],[1,"action"],[3,"formGroup"],[1,"form-group"],["appearance","fill"],["formControlName","employee_id",3,"ngModel","ngModelChange","selectionChange"],["matInput","","placeholder","\u0422\u044a\u0440\u0441\u0435\u043d\u0435 \u043f\u043e \u0438\u043c\u0435, \u0444\u0430\u043c\u0438\u043b\u0438\u044f, \u0434\u043b\u044a\u0436\u043d\u043e\u0441\u0442, \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442, \u043b\u043e\u043a\u0430\u0446\u0438\u044f...",3,"keyup"],[4,"ngFor","ngForOf"],[1,"leave-details"],["required","",3,"formGroup","rangePicker"],["matStartDate","","formControlName","start_date","placeholder","\u041d\u0430\u0447\u0430\u043b\u043d\u0430 \u0434\u0430\u0442\u0430",3,"ngModel","ngModelChange"],["matEndDate","","formControlName","end_date","placeholder","\u041a\u0440\u0430\u0439\u043d\u0430 \u0434\u0430\u0442\u0430",3,"ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],["matInput","","type","number","placeholder","\u0414\u043d\u0438","formControlName","days",3,"ngModel","ngModelChange"],["appearance","fill",4,"ngIf"],["mat-button","","mat-dialog-close","","mat-dialog-close","cancel",1,"btn","btn-round","btn-fill","btn-default"],[4,"ngIf","ngIfElse"],["addNew",""],[3,"value","selected"],["matInput","","type","number","placeholder","\u0421\u0442\u0430\u0442\u0443\u0441","formControlName","status",3,"ngModel","ngModelChange"],["mat-button","",1,"btn","btn-round","btn-fill","btn-info",3,"click"]],template:function(t,n){1&t&&(e.YNc(0,$i,3,1,"div",0),e.YNc(1,io,46,22,"div",1)),2&t&&(e.Q6J("ngIf",!n.absence.type),e.xp6(1),e.Q6J("ngIf",n.absence.type))},dependencies:[A.sg,A.O5,l.TO,l.KE,l.hX,l.R9,m.Nt,D.lW,ne.gD,X.ey,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,G.nW,G.wx,G.zY,G.By,G._g,d.ZT,d.xY,d.H8,ae.qn,ae.HS,qe],styles:['mat-chip[_ngcontent-%COMP%] {\n  min-height: 70px;\n}\n\n.absence-option[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n}\n\n.absence-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%] {\n  font: 20px/32px Roboto, "Helvetica Neue", sans-serif;\n  letter-spacing: normal;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n}\n\n.absence-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .type[_ngcontent-%COMP%] {\n  font-weight: 500;\n}\n\n.absence-card[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   .action[_ngcontent-%COMP%] {\n  font-weight: 300;\n}\n\nmat-dialog-actions[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n}\n\n.leave-details[_ngcontent-%COMP%] {\n  display: grid;\n  column-gap: 1%;\n  grid-template-columns: 60% 20% 20%;\n  grid-auto-flow: column;\n}']}),i})();function so(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"p",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.searching("start","current_year"))}),e.TgZ(1,"i",23),e._uU(2,"search"),e.qZA(),e._uU(3," \u0417\u0430\u043f\u043e\u0447\u043d\u0438 \u0442\u044a\u0440\u0441\u0435\u043d\u0435 ... "),e.qZA()}}function ao(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"p",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.searching("end","current_year"))}),e.TgZ(1,"i",23),e._uU(2,"close"),e.qZA(),e._uU(3," \u041f\u0440\u0435\u043a\u0440\u0430\u0442\u0438 \u0442\u044a\u0440\u0441\u0435\u043d\u0435\u043e ... "),e.qZA()}}function ro(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.filter.current_year[o[0]]="")}),e.TgZ(1,"i",23),e._uU(2,"close"),e.qZA()()}}function uo(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",29),e.NdJ("keypress",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.getTotal("current_year"))}),e.TgZ(2,"mat-form-field",30)(3,"mat-label"),e._uU(4),e.qZA(),e.TgZ(5,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.filter.current_year[a[0]]=o)}),e.qZA(),e.YNc(6,ro,3,0,"button",32),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw().$implicit,n=e.oxw(3);e.xp6(4),e.Oqu(t[1]),e.xp6(1),e.MGl("placeholder","",t[1],"..."),e.Q6J("ngModel",n.filter.current_year[t[0]]),e.xp6(1),e.Q6J("ngIf",n.filter.current_year[t[0]])}}function lo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.filter.current_year[o[0]]="")}),e.TgZ(1,"i",23),e._uU(2,"close"),e.qZA()()}}function co(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",34),e.NdJ("change",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.getTotal("current_year"))}),e.TgZ(2,"mat-form-field",30)(3,"mat-label"),e._uU(4),e.qZA(),e.TgZ(5,"input",35),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.filter.current_year[a[0]]=o)}),e.qZA(),e.YNc(6,lo,3,0,"button",32),e._UZ(7,"mat-datepicker-toggle",36)(8,"mat-datepicker",null,37),e.qZA()(),e.BQk()}if(2&i){const t=e.MAs(9),n=e.oxw().$implicit,o=e.oxw(3);e.xp6(4),e.Oqu(n[1]),e.xp6(1),e.Q6J("matDatepicker",t)("ngModel",o.filter.current_year[n[0]]),e.xp6(1),e.Q6J("ngIf",o.filter.current_year[n[0]]),e.xp6(1),e.Q6J("for",t)}}function po(i,s){if(1&i&&(e.ynx(0),e.YNc(1,uo,7,4,"ng-container",28),e.YNc(2,co,10,5,"ng-container",28),e.BQk()),2&i){const t=s.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.isSearchable(t[0],"alphabetical")),e.xp6(1),e.Q6J("ngIf",n.isSearchable(t[0],"dates"))}}function _o(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",24),e.YNc(1,po,3,2,"ng-container",25),e._UZ(2,"div")(3,"div"),e.TgZ(4,"div",26),e._UZ(5,"div"),e.TgZ(6,"button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.searching("restart","current_year"))}),e.TgZ(7,"i",23),e._uU(8,"close"),e.qZA()()()()}if(2&i){const t=e.oxw(2);e.Q6J("@enterFromRight",void 0),e.xp6(1),e.Q6J("ngForOf",t.columns),e.xp6(5),e.Q6J("matTooltipPosition","above")}}function mo(i,s){if(1&i&&(e.TgZ(0,"span",44)(1,"i",45),e._uU(2," keyboard_arrow_up "),e.qZA(),e.TgZ(3,"i",45),e._uU(4," keyboard_arrow_down "),e.qZA()()),2&i){const t=e.oxw().$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngClass",n.sort.current_year.field==t[0]&&"ascending"==n.sort.current_year.action?"active":"inactive"),e.xp6(2),e.Q6J("ngClass",n.sort.current_year.field==t[0]&&"descending"==n.sort.current_year.action?"active":"inactive")}}function go(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",42),e.NdJ("click",function(o){const _=e.CHM(t).$implicit,N=e.oxw(3);return e.KtG(N.sorting("current_year",_[0],o))}),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.YNc(4,mo,5,2,"span",43),e.qZA(),e.BQk()}if(2&i){const t=s.$implicit;e.xp6(1),e.Gre("content-header current-year-",t[0],""),e.xp6(2),e.Oqu(t[1]),e.xp6(1),e.Q6J("ngIf","actions"!=t[0])}}function fo(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"span",54),e._uU(2),e.qZA(),e._uU(3," \u043b\u0432. "),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.cost)}}function ho(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",46)(2,"div"),e._uU(3),e.qZA(),e.TgZ(4,"div"),e._uU(5),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.qZA(),e.TgZ(8,"div"),e._uU(9),e.qZA(),e.TgZ(10,"div"),e._uU(11),e.qZA(),e.TgZ(12,"div"),e._uU(13),e.ALo(14,"formatDisplayedDate"),e.qZA(),e.TgZ(15,"div"),e._uU(16),e.ALo(17,"formatDisplayedDate"),e.qZA(),e.TgZ(18,"div")(19,"span",47),e._uU(20),e.qZA()(),e.TgZ(21,"div"),e.YNc(22,fo,4,1,"ng-container",18),e.qZA(),e.TgZ(23,"div"),e._uU(24),e.qZA(),e.TgZ(25,"div",26)(26,"button",48),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.showProfile(a.user_id))}),e.TgZ(27,"i",49),e._uU(28,"person"),e.qZA()(),e.TgZ(29,"button",50),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.edit(a))}),e.TgZ(30,"i",51),e._uU(31,"edit"),e.qZA()(),e.TgZ(32,"button",52),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.delete(a))}),e.TgZ(33,"i",53),e._uU(34,"close"),e.qZA()()()(),e.BQk()}if(2&i){const t=s.$implicit,n=e.oxw(3),o=e.MAs(5);e.xp6(1),e.Q6J("ngClass",n.notifyOngoing(t)),e.xp6(2),e.Oqu(t.first_name),e.xp6(2),e.Oqu(t.last_name),e.xp6(2),e.Oqu(t.position_name),e.xp6(2),e.Oqu(t.department_name),e.xp6(2),e.Oqu(t.location_city),e.xp6(2),e.Oqu(e.lcZ(14,15,t.start_date)),e.xp6(3),e.Oqu(e.lcZ(17,17,t.end_date)),e.xp6(4),e.Oqu(t.days),e.xp6(2),e.Q6J("ngIf",t.cost)("ngIfElse",o),e.xp6(2),e.Oqu(t.name),e.xp6(2),e.Q6J("matTooltipPosition","above"),e.xp6(3),e.Q6J("matTooltipPosition","above"),e.xp6(3),e.Q6J("matTooltipPosition","above")}}function vo(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",38),e.YNc(2,go,5,5,"ng-container",25),e.qZA(),e.YNc(3,ho,35,19,"ng-container",25),e.ALo(4,"sortData"),e.ALo(5,"endDate"),e.ALo(6,"startDate"),e.ALo(7,"searchText"),e.ALo(8,"searchText"),e.ALo(9,"searchText"),e.ALo(10,"searchText"),e.ALo(11,"searchText"),e.TgZ(12,"div",39)(13,"div")(14,"strong"),e._uU(15,"\u041e\u0431\u0449\u043e"),e.qZA()(),e._UZ(16,"div")(17,"div")(18,"div")(19,"div")(20,"div")(21,"div"),e.TgZ(22,"div")(23,"strong"),e._uU(24),e.qZA()(),e.TgZ(25,"div")(26,"strong")(27,"span"),e._uU(28),e.qZA(),e._uU(29," \u043b\u0432."),e.qZA()(),e.TgZ(30,"div",26),e._UZ(31,"div"),e.TgZ(32,"button",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.export)}),e.TgZ(33,"i",41),e._uU(34,"cloud_download"),e.qZA()()()(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.columns),e.xp6(1),e.Q6J("ngForOf",e.Dn7(4,5,e.xi3(5,9,e.xi3(6,12,e.Dn7(7,15,e.Dn7(8,19,e.Dn7(9,23,e.Dn7(10,27,e.Dn7(11,31,t.sick_leave.current_year,t.filter.current_year.first_name,"first_name"),t.filter.current_year.last_name,"last_name"),t.filter.current_year.position,"position"),t.filter.current_year.department,"department"),t.filter.current_year.location,"location"),t.filter.current_year.start_date),t.filter.current_year.end_date),t.sort.current_year.field,t.sort.current_year.action)),e.xp6(21),e.Oqu(t.summarized.current_year.days),e.xp6(4),e.Oqu(t.summarized.current_year.cost),e.xp6(4),e.Q6J("matTooltipPosition","above")}}function bo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"p",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.searching("start","past_years"))}),e.TgZ(1,"i",23),e._uU(2,"search"),e.qZA(),e._uU(3," \u0417\u0430\u043f\u043e\u0447\u043d\u0438 \u0442\u044a\u0440\u0441\u0435\u043d\u0435 ... "),e.qZA()}}function yo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"p",22),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.searching("end","past_years"))}),e.TgZ(1,"i",23),e._uU(2,"close"),e.qZA(),e._uU(3," \u041f\u0440\u0435\u043a\u0440\u0430\u0442\u0438 \u0442\u044a\u0440\u0441\u0435\u043d\u0435\u043e ... "),e.qZA()}}function xo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.filter.past_years[o[0]]="")}),e.TgZ(1,"i",23),e._uU(2,"close"),e.qZA()()}}function Zo(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",29),e.NdJ("keypress",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.getTotal("past_years"))}),e.TgZ(2,"mat-form-field",30)(3,"mat-label"),e._uU(4),e.qZA(),e.TgZ(5,"input",31),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.filter.past_years[a[0]]=o)}),e.qZA(),e.YNc(6,xo,3,0,"button",32),e.qZA()(),e.BQk()}if(2&i){const t=e.oxw().$implicit,n=e.oxw(3);e.xp6(4),e.Oqu(t[1]),e.xp6(1),e.MGl("placeholder","",t[1],"..."),e.Q6J("ngModel",n.filter.past_years[t[0]]),e.xp6(1),e.Q6J("ngIf",n.filter.past_years[t[0]])}}function Co(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",33),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,a=e.oxw(3);return e.KtG(a.filter.past_years[o[0]]="")}),e.TgZ(1,"i",23),e._uU(2,"close"),e.qZA()()}}function To(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",34),e.NdJ("change",function(){e.CHM(t);const o=e.oxw(4);return e.KtG(o.getTotal("past_years"))}),e.TgZ(2,"mat-form-field",30)(3,"mat-label"),e._uU(4),e.qZA(),e.TgZ(5,"input",35),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw().$implicit,_=e.oxw(3);return e.KtG(_.filter.past_years[a[0]]=o)}),e.qZA(),e.YNc(6,Co,3,0,"button",32),e._UZ(7,"mat-datepicker-toggle",36)(8,"mat-datepicker",null,37),e.qZA()(),e.BQk()}if(2&i){const t=e.MAs(9),n=e.oxw().$implicit,o=e.oxw(3);e.xp6(4),e.Oqu(n[1]),e.xp6(1),e.Q6J("matDatepicker",t)("ngModel",o.filter.past_years[n[0]]),e.xp6(1),e.Q6J("ngIf",o.filter.past_years[n[0]]),e.xp6(1),e.Q6J("for",t)}}function Ao(i,s){if(1&i&&(e.ynx(0),e.YNc(1,Zo,7,4,"ng-container",28),e.YNc(2,To,10,5,"ng-container",28),e.BQk()),2&i){const t=s.$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngIf",n.isSearchable(t[0],"alphabetical")),e.xp6(1),e.Q6J("ngIf",n.isSearchable(t[0],"dates"))}}function wo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",24),e.YNc(1,Ao,3,2,"ng-container",25),e._UZ(2,"div")(3,"div"),e.TgZ(4,"div",26)(5,"button",27),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.searching("restart","past_years"))}),e.TgZ(6,"i",23),e._uU(7,"close"),e.qZA()()()()}if(2&i){const t=e.oxw(2);e.Q6J("@enterFromRight",void 0),e.xp6(1),e.Q6J("ngForOf",t.columns),e.xp6(4),e.Q6J("matTooltipPosition","above")}}function qo(i,s){if(1&i&&(e.TgZ(0,"span",44)(1,"i",45),e._uU(2," keyboard_arrow_up "),e.qZA(),e.TgZ(3,"i",45),e._uU(4," keyboard_arrow_down "),e.qZA()()),2&i){const t=e.oxw().$implicit,n=e.oxw(3);e.xp6(1),e.Q6J("ngClass",n.sort.past_years.field==t[0]&&"ascending"==n.sort.past_years.action?"active":"inactive"),e.xp6(2),e.Q6J("ngClass",n.sort.past_years.field==t[0]&&"descending"==n.sort.past_years.action?"active":"inactive")}}function Mo(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",42),e.NdJ("click",function(o){const _=e.CHM(t).$implicit,N=e.oxw(3);return e.KtG(N.sorting("past_years",_[0],o))}),e.TgZ(2,"span"),e._uU(3),e.qZA(),e.YNc(4,qo,5,2,"span",43),e.qZA(),e.BQk()}if(2&i){const t=s.$implicit;e.xp6(1),e.Gre("content-header past_years-",t[0],""),e.xp6(2),e.Oqu(t[1]),e.xp6(1),e.Q6J("ngIf","actions"!=t[0])}}function Po(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"span",58),e._uU(2),e.qZA(),e._uU(3," \u043b\u0432. "),e.BQk()),2&i){const t=e.oxw().$implicit;e.xp6(2),e.Oqu(t.cost)}}function Uo(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",38)(2,"div"),e._uU(3),e.qZA(),e.TgZ(4,"div"),e._uU(5),e.qZA(),e.TgZ(6,"div"),e._uU(7),e.qZA(),e.TgZ(8,"div"),e._uU(9),e.qZA(),e.TgZ(10,"div"),e._uU(11),e.qZA(),e.TgZ(12,"div"),e._uU(13),e.ALo(14,"formatDisplayedDate"),e.qZA(),e.TgZ(15,"div"),e._uU(16),e.ALo(17,"formatDisplayedDate"),e.qZA(),e.TgZ(18,"div")(19,"span",57),e._uU(20),e.qZA()(),e.TgZ(21,"div"),e.YNc(22,Po,4,1,"ng-container",18),e.qZA(),e.TgZ(23,"div",26)(24,"button",48),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.showProfile(a.user_id))}),e.TgZ(25,"i",49),e._uU(26,"person"),e.qZA()()()(),e.BQk()}if(2&i){const t=s.$implicit;e.oxw(3);const n=e.MAs(5);e.xp6(3),e.Oqu(t.first_name),e.xp6(2),e.Oqu(t.last_name),e.xp6(2),e.Oqu(t.position_name),e.xp6(2),e.Oqu(t.department_name),e.xp6(2),e.Oqu(t.location_city),e.xp6(2),e.Oqu(e.lcZ(14,11,t.start_date)),e.xp6(3),e.Oqu(e.lcZ(17,13,t.end_date)),e.xp6(4),e.Oqu(t.days),e.xp6(2),e.Q6J("ngIf",t.cost)("ngIfElse",n),e.xp6(2),e.Q6J("matTooltipPosition","above")}}const ko=function(){return[5,10,25,100,250]};function Do(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-paginator",59),e.NdJ("page",function(o){e.CHM(t);const a=e.oxw(3);return e.KtG(a.onPageChange(o))}),e.qZA()}if(2&i){const t=e.oxw(3);e.Q6J("showFirstLastButtons",!0)("length",t.sick_leave.past_years.length)("pageIndex",t.pagination.pageIndex)("pageSize",t.pagination.pageSize)("pageSizeOptions",e.DdM(5,ko))}}function Oo(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",38),e.YNc(2,Mo,5,5,"ng-container",25),e.qZA(),e.YNc(3,Uo,27,15,"ng-container",25),e.ALo(4,"pagination"),e.ALo(5,"sortData"),e.ALo(6,"endDate"),e.ALo(7,"startDate"),e.ALo(8,"searchText"),e.ALo(9,"searchText"),e.ALo(10,"searchText"),e.ALo(11,"searchText"),e.ALo(12,"searchText"),e.TgZ(13,"div",39)(14,"div")(15,"strong"),e._uU(16,"\u041e\u0431\u0449\u043e"),e.qZA()(),e._UZ(17,"div")(18,"div")(19,"div")(20,"div")(21,"div")(22,"div"),e.TgZ(23,"div")(24,"strong"),e._uU(25),e.qZA()(),e.TgZ(26,"div")(27,"strong")(28,"span"),e._uU(29),e.qZA(),e._uU(30," \u043b\u0432."),e.qZA()(),e.TgZ(31,"div",26)(32,"button",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2);return e.KtG(o.export())}),e.TgZ(33,"i",41),e._uU(34,"cloud_download"),e.qZA()()()(),e.TgZ(35,"div",55),e.YNc(36,Do,1,6,"mat-paginator",56),e.qZA(),e.BQk()}if(2&i){const t=e.oxw(2);e.xp6(2),e.Q6J("ngForOf",t.columns),e.xp6(1),e.Q6J("ngForOf",e.xi3(4,6,e.Dn7(5,9,e.xi3(6,13,e.xi3(7,16,e.Dn7(8,19,e.Dn7(9,23,e.Dn7(10,27,e.Dn7(11,31,e.Dn7(12,35,t.sick_leave.past_years,t.filter.past_years.first_name,"first_name"),t.filter.past_years.last_name,"last_name"),t.filter.past_years.position,"position"),t.filter.past_years.department,"department"),t.filter.past_years.location,"location"),t.filter.past_years.start_date),t.filter.past_years.end_date),t.sort.past_years.field,t.sort.past_years.action),t.pagination)),e.xp6(22),e.Oqu(t.summarized.past_years.days),e.xp6(4),e.Oqu(t.summarized.past_years.cost),e.xp6(3),e.Q6J("matTooltipPosition","above"),e.xp6(4),e.Q6J("ngIf",(null==t.sick_leave.past_years?null:t.sick_leave.past_years.length)>=5)}}function Fo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",6)(1,"div",7)(2,"div",8)(3,"div",9)(4,"div",6)(5,"div",10)(6,"h4",11),e._uU(7,"\u0421\u043f\u0438\u0441\u044a\u043a \u043d\u0430 \u0431\u043e\u043b\u043d\u0438\u0447\u043d\u0438 \u0431\u043b\u044f"),e.qZA(),e.TgZ(8,"div",12),e.YNc(9,so,4,0,"p",13),e.YNc(10,ao,4,0,"p",13),e.qZA()(),e.TgZ(11,"div",14)(12,"button",15),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.add())}),e._uU(13," \u041d\u043e\u0432 \u041e\u0422\u041f\u0423\u0421\u041a "),e.qZA()()()(),e.YNc(14,_o,9,3,"div",16),e.TgZ(15,"div",17),e.YNc(16,vo,35,35,"ng-container",18),e.qZA()()(),e.TgZ(17,"div",7)(18,"div",19)(19,"div",20)(20,"h4",21),e._uU(21,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d\u0438 \u0431\u043e\u043b\u043d\u0438\u0447\u043d\u0438 \u0437\u0430 \u043f\u0440\u0435\u0434\u0445\u043e\u0434\u043d\u0438 \u0433\u043e\u0434\u0438\u043d\u0438"),e.qZA(),e.TgZ(22,"div",12),e.YNc(23,bo,4,0,"p",13),e.YNc(24,yo,4,0,"p",13),e.qZA()(),e.YNc(25,wo,8,3,"div",16),e.TgZ(26,"div",17),e.YNc(27,Oo,37,39,"ng-container",18),e.qZA()()()()}if(2&i){const t=e.oxw(),n=e.MAs(7);e.xp6(3),e.Q6J("@enterFromBottom",void 0),e.xp6(6),e.Q6J("ngIf",!t.search.current_year),e.xp6(1),e.Q6J("ngIf",t.search.current_year),e.xp6(4),e.Q6J("ngIf",t.search.current_year),e.xp6(1),e.Q6J("@enterFromTop",void 0),e.xp6(1),e.Q6J("ngIf",t.sick_leave.current_year.length>0)("ngIfElse",n),e.xp6(7),e.Q6J("ngIf",!t.search.past_years),e.xp6(1),e.Q6J("ngIf",t.search.past_years),e.xp6(1),e.Q6J("ngIf",t.search.past_years),e.xp6(2),e.Q6J("ngIf",t.sick_leave.past_years.length>0)("ngIfElse",n)}}function Eo(i,s){1&i&&e._UZ(0,"div",60)}function No(i,s){1&i&&(e.TgZ(0,"span"),e._uU(1,"-"),e.qZA())}function Jo(i,s){1&i&&(e.TgZ(0,"div",61)(1,"h3"),e._uU(2," \u041d\u044f\u043c\u0430\u0442\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d\u0438 \u0437\u0430\u043f\u0438\u0441\u0438. "),e.qZA()())}let Yo=(()=>{class i{constructor(t,n,o,a){this.absences_service=t,this.absence_archive_service=n,this.dialog=o,this.swal_service=a,this.columns=[["first_name","\u0418\u043c\u0435"],["last_name","\u0424\u0430\u043c\u0438\u043b\u0438\u044f"],["position","\u041f\u043e\u0437\u0438\u0446\u0438\u044f"],["department","\u0414\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442"],["location","\u041b\u043e\u043a\u0430\u0446\u0438\u044f"],["start_date","\u041d\u0430\u0447\u0430\u043b\u043d\u0430 \u0434\u0430\u0442\u0430"],["end_date","\u041a\u0440\u0430\u0439\u043d\u0430 \u0434\u0430\u0442\u0430"],["days","\u0414\u043d\u0438"],["cost","\u0420\u0430\u0437\u0445\u043e\u0434"],["type","\u0412\u0438\u0434"],["actions","\u041e\u043f\u0446\u0438\u0438"]],this.searchable={alphabetical:["first_name","last_name","position","department","location"],dates:["start_date","end_date"]},this.sick_leave={current_year:[],past_years:[]},this.summarized={current_year:{days:0,cost:0},past_years:{days:0,cost:0}},this.filter={current_year:{first_name:"",last_name:"",position:"",department:"",location:"",start_date:"",end_date:""},past_years:{first_name:"",last_name:"",position:"",department:"",location:"",start_date:"",end_date:""}},this.sort={current_year:{field:"end_date",action:"descending"},past_years:{field:"end_date",action:"descending"}},this.search={current_year:!1,past_years:!1},this.pagination={pageIndex:0,pageSize:5,length:10},this.loading=!0}ngOnInit(){this.get(),setTimeout(()=>{this.loading=!1},500),setTimeout(()=>{this.checkOngoing(),this.checkFuture(),this.getTotal("current_year"),this.getTotal("past_years")},2e3),this.getAbsenceArchive()}getAbsenceArchive(){this.absence_archive_service.get().subscribe(t=>{this.absences_archive=t})}get(){this.absences_service.get().subscribe(t=>{this.formatSickLeave(t)})}formatSickLeave(t){this.sick_leave.current_year=t.filter(n=>+new Date(n.end_date).getFullYear()>=+(new Date).getFullYear()),this.sick_leave.past_years=t.filter(n=>new Date(n.end_date).getFullYear()<(new Date).getFullYear())}checkFuture(){let t=this.sick_leave.current_year.filter(n=>new Date(n.end_date)>new Date&&new Date(n.start_date)>new Date);t.length>0&&this.showNotification("primary",t)}checkOngoing(){let t=this.sick_leave.current_year.filter(n=>new Date(n.end_date)>new Date&&new Date(n.start_date)<new Date);t.length>0?this.showNotification("warning",t):this.showNotification("info")}showNotification(t,n){let o=this.getNotificationMessage(t,n);("add"==t||"edit"==t||"delete"==t)&&(t="success"),$.notify({icon:"notifications",message:o},{type:t,timer:2e3,placement:{from:"top",align:"right"},template:'<div data-notify="container" class="col-xl-4 col-lg-4 col-11 col-sm-4 col-md-4 alert alert-{0} alert-with-icon" role="alert"><button mat-button  type="button" aria-hidden="true" class="close mat-button" data-notify="dismiss">  <i class="material-icons">close</i></button><i class="material-icons" data-notify="icon">notifications</i> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'})}getNotificationMessage(t,n){let o="\u041a\u044a\u043c \u0442\u0435\u043a\u0443\u0449\u0438\u044f \u043c\u043e\u043c\u0435\u043d\u0442 \u043d\u044f\u043c\u0430\u0442\u0435 \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b\u0438 \u0432\u044a\u0432 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430 \u043d\u0435\u0442\u0440\u0443\u0434\u043e\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442.";switch(t){case"warning":return o=`\u041a\u044a\u043c \u0434\u043d\u0435\u0448\u043d\u0430 \u0434\u0430\u0442\u0430 \u0438\u043c\u0430\u0442\u0435 ${n.length} \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b${1==n.length?"":"\u044f"} \u0432\u044a\u0432 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430 \u043d\u0435\u0442\u0440\u0443\u0434\u043e\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442:`,o+=n.map(a=>`<br>${a.first_name} ${a.last_name} (${a.position})`),o;case"primary":return o=`\u041e\u0447\u043a\u0432\u0430\u0442\u0435 ${n.length} \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b${1==n.length?"":"\u044f"} \u0434\u0430 \u043e\u0442\u0441\u044a\u0441\u0442\u0432\u0430${1==n.length?"":"\u0442"}  \u043f\u043e \u0437\u0434\u0440\u0430\u0432\u043e\u0441\u043b\u043e\u0432\u043d\u0438 \u043f\u0440\u0438\u0447\u0438\u043d\u0438 \u0432 \u0431\u044a\u0434\u0435\u0449\u0438 \u043f\u0435\u0440\u0438\u043e\u0434\u0438:`,o+=n.map(a=>`<br>${a.first_name} ${a.last_name} (${a.position})`),o;case"add":return o="\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u0445\u0442\u0435 \u0431\u043e\u043b\u043d\u0438\u0447\u0435\u043d \u043b\u0438\u0441\u0442 \u043d\u0430:",o+=`<br>${n.employee[0].first_name} ${n.employee[0].last_name} (${n.employee[0].position})`,o+=`<br>\u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 \u043e\u0442 ${n.sick_leave.start_date} \u0434\u043e ${n.sick_leave.end_date}`,o;case"edit":return o="\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u0440\u043e\u043c\u0435\u043d\u0438\u0445\u0442\u0435 \u0431\u043e\u043b\u043d\u0438\u0447\u043d\u0438\u044f \u043b\u0438\u0441\u0442 \u043d\u0430:",o+=`<br>${n.employee[0].first_name} ${n.employee[0].last_name} (${n.employee[0].position})`,o+=`<br>\u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 \u043e\u0442 ${n.sick_leave.start_date} \u0434\u043e ${n.sick_leave.end_date}`,o;case"delete":return o="\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u0442\u0440\u0438\u0445\u0442\u0435 \u0431\u043e\u043b\u043d\u0438\u0447\u043d\u0438\u044f \u043b\u0438\u0441\u0442 \u043d\u0430:",o+=`<br>${n.first_name} ${n.last_name} (${n.position})`,o+=`<br>\u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 \u043e\u0442 ${n.start_date} \u0434\u043e ${n.end_date}`,o;case"danger":return o="\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c, \u043c\u043e\u043b\u044f \u043e\u0431\u044a\u0440\u043d\u0435\u0442\u0435 \u0441\u0435 \u043a\u044a\u043c \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0438\u044f \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440.",o;case"info":return o}}add(){this.dialog.open(oo,{data:{absences_archive:this.absences_archive},autoFocus:!1,disableClose:!1}).afterClosed().subscribe(n=>{n&&"cancel"!=n&&(this.showNotification("add",n),this.get())})}edit(t){this.dialog.open(Fe,{data:{s_request:t},autoFocus:!1,disableClose:!1,minWidth:500}).afterClosed().subscribe(o=>{o&&"cancel"!=o&&(this.showNotification("edit",o),this.get())})}delete(t){let n="\u0421\u0438\u0433\u0443\u0440\u043d\u0438 \u043b\u0438 \u0441\u0442\u0435, \u0447\u0435 \u0436\u0435\u043b\u0430\u0435\u0442\u0435 \u0434\u0430 \u0438\u0437\u0442\u0440\u0438\u0435\u0442\u0435 \u0431\u043e\u043b\u043d\u0438\u0447\u043d\u0438\u044f \u0437\u0430\u043f\u0438\u0441 \u043d\u0430:";n+=`<br>${t.first_name} ${t.last_name} (${t.position})`,n+=`<br> \u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 \u043e\u0442 ${t.start_date} \u0434\u043e ${t.end_date}?`,this.swal_service.confirm({html:n}).then(o=>{o.isConfirmed&&this.absences_service.delete(t.id).subscribe(a=>{a&&(this.showNotification("delete",t),this.swal_service.success({text:"\u0417\u0430\u043f\u0438\u0441\u044a\u0442 \u0431\u0435\u0448\u0435 \u0438\u0437\u0442\u0440\u0438\u0442."}),this.get())},a=>{this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u0442\u0440\u0438\u0432\u0430\u043d\u0435\u0442\u043e \u043d\u0430 \u0431\u043e\u043b\u043d\u0438\u0447\u043d\u0438\u044f \u0437\u0430\u043f\u0438\u0441: "+a.message})})})}showProfile(t){this.dialog.open(Ge,{data:{employee_id:t,action:"view"},autoFocus:!1,disableClose:!1})}export(){return this.absences_service.export()}notifyOngoing(t){return new Date(t.end_date)>new Date&&new Date(t.start_date)<new Date?"ongoing":new Date(t.end_date)>new Date&&new Date(t.start_date)>new Date?"future":null}onPageChange(t){this.pagination=t}sorting(t,n,o){this.sort[t].field=n,this.sort[t].action="descending"===this.sort[t].action?"ascending":"descending"}searching(t,n){this.search[n]="start"===t||"restart"===t,("end"===t||"restart"===t)&&(this.filter[n]={first_name:"",last_name:"",position:"",department:"",location:"",end_date:"",start_date:""},this.summarized[n]={days:0,cost:0})}isSearchable(t,n){switch(n){case"dates":return this.searchable.dates.includes(t);case"alphabetical":return this.searchable.alphabetical.includes(t);default:return!1}}getTotal(t){this.summarized[t]={days:0,cost:0};let n=document.getElementsByClassName(`${t}-days`),o=document.getElementsByClassName(`${t}-cost`);for(let a=0;a<n.length;a++)this.summarized[t].days+=parseInt(n[a].innerHTML);for(let a=0;a<o.length;a++)this.summarized[t].cost+=parseInt(o[a].innerHTML)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(U),e.Y36(de),e.Y36(d.uw),e.Y36(P.J))},i.\u0275cmp=e.Xpm({type:i,selectors:[["absences"]],decls:8,vars:2,consts:[[1,"main-content"],[1,"container-fluid"],["class","row",4,"ngIf"],["class","loader",4,"ngIf"],["no_data",""],["no_records",""],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info"],[1,"col-md-10"],[1,"card-title"],[1,"toggle-search"],["class","card-category",3,"click",4,"ngIf"],[1,"col-md-2"],[1,"btn","btn-info","btn-block","btn-fill","add-new",3,"click"],["class","search-grid",4,"ngIf"],[1,"card-body"],[4,"ngIf","ngIfElse"],[1,"card","card-plain"],[1,"card-header","card-header-warning"],[1,"card-title","mt-0"],[1,"card-category",3,"click"],[1,"material-icons"],[1,"search-grid"],[4,"ngFor","ngForOf"],[1,"actions"],["mat-raised-button","","type","button","matTooltip","\u041d\u0443\u043b\u0438\u0440\u0430\u0439 \u0442\u044a\u0440\u0441\u0435\u043d\u0435\u0442\u043e",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[4,"ngIf"],[1,"",3,"keypress"],["appearance","fill"],["matInput","","type","text",3,"placeholder","ngModel","ngModelChange"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click",4,"ngIf"],["matSuffix","","mat-icon-button","","aria-label","Clear",3,"click"],[1,"",3,"change"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["picker",""],[1,"content"],[1,"content","content-footer"],["mat-raised-button","","type","button","matTooltip","\u0418\u0437\u0442\u0435\u0433\u043b\u0438",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[1,"material-icons","export-icon"],[3,"click"],["class","sort-arrow",4,"ngIf"],[1,"sort-arrow"],[1,"material-icons",3,"ngClass"],[1,"content",3,"ngClass"],[1,"current_year-days"],["mat-raised-button","","type","button","matTooltip","\u041f\u0440\u043e\u0444\u0438\u043b",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[1,"material-icons","profile-icon"],["mat-raised-button","","type","button","matTooltip","\u0420\u0435\u0430\u043a\u0442\u0438\u0440\u0430\u0439",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[1,"material-icons","edit"],["mat-raised-button","","type","button","matTooltip","\u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0438",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[1,"material-icons","remove"],[1,"current_year-cost"],[1,"pagination"],[3,"showFirstLastButtons","length","pageIndex","pageSize","pageSizeOptions","page",4,"ngIf"],[1,"past_years-days"],[1,"past_years-cost"],[3,"showFirstLastButtons","length","pageIndex","pageSize","pageSizeOptions","page"],[1,"loader"],[1,"no-records"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1),e.YNc(2,Fo,28,12,"div",2),e.qZA(),e.YNc(3,Eo,1,0,"div",3),e.qZA(),e.YNc(4,No,2,0,"ng-template",null,4,e.W1O),e.YNc(6,Jo,3,0,"ng-template",null,5,e.W1O)),2&t&&(e.xp6(2),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("ngIf",n.loading))},dependencies:[A.mk,A.sg,A.O5,l.KE,l.hX,l.R9,m.Nt,D.lW,r.Fj,r.JJ,r.On,G.Mq,G.hl,G.nW,p.gM,le.NW,He,ze,je,Ke,we,Xe],styles:['.card-body[_ngcontent-%COMP%] {\n  overflow-x: scroll;\n}\n.card-body[_ngcontent-%COMP%]   .future[_ngcontent-%COMP%] {\n  background-color: rgba(184, 27, 186, 0.0784313725);\n}\n.card-body[_ngcontent-%COMP%]   .ongoing[_ngcontent-%COMP%] {\n  background-color: rgba(255, 153, 0, 0.3490196078);\n}\n.search-grid[_ngcontent-%COMP%] {\n  display: grid;\n  column-gap: 1%;\n  grid-template-columns: minmax(100px, 9%) minmax(100px, 9%) minmax(130px, 10%) minmax(130px, 10%) minmax(100px, 10%) minmax(100px, 25%) minmax(100px, 25%) minmax(0px, 0%) minmax(0px, 0%) minmax(20px, 5%);\n  grid-auto-flow: column;\n  margin: 10px 15px 0px 15px;\n}\n.search-grid[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\n  vertical-align: middle;\n  flex-wrap: wrap;\n}\n.search-grid[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%] {\n  padding-right: 8px;\n}\n.content[_ngcontent-%COMP%] {\n  display: grid;\n  column-gap: 1%;\n  grid-template-columns: minmax(100px, 9%) minmax(100px, 9%) minmax(130px, 10%) minmax(130px, 10%) minmax(100px, 10%) minmax(100px, 10%) minmax(100px, 10%) minmax(100px, 5%) minmax(100px, 7%) minmax(80px, 10%);\n  grid-auto-flow: column;\n  border-bottom: 1px solid #e5e5e5;\n}\n.content[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\n  height: 100%;\n  padding: 12px 8px;\n  vertical-align: middle;\n  flex-wrap: wrap;\n}\n.content[_ngcontent-%COMP%]:hover {\n  background-color: #f5f5f5;\n  font-weight: 450;\n}\n.content[_ngcontent-%COMP%]:hover   .profile-icon[_ngcontent-%COMP%] {\n  color: #555555;\n}\n.content[_ngcontent-%COMP%]:hover   .export-icon[_ngcontent-%COMP%] {\n  color: #555555;\n}\n.content[_ngcontent-%COMP%]:hover   .remove[_ngcontent-%COMP%] {\n  color: #f44336;\n}\n.content[_ngcontent-%COMP%]:hover   .edit[_ngcontent-%COMP%] {\n  color: #9c27b0;\n}\n.content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  column-gap: 2%;\n  font-size: 0.95rem;\n  font-weight: 500;\n}\n.content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .sort-arrow[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: column;\n}\n.content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   .sort-arrow[_ngcontent-%COMP%]   .inactive[_ngcontent-%COMP%] {\n  display: none;\n}\n.content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover {\n  background-color: #ececec;\n  cursor: pointer;\n}\n.toggle-search[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover {\n  cursor: pointer;\n  font-weight: 500;\n}\n.actions[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  cursor: pointer;\n}\n.pagination[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 3%;\n  grid-column: 1/span 5;\n}\n.pagination[_ngcontent-%COMP%]   .mat-paginator[_ngcontent-%COMP%] {\n  background: none;\n}\n.loader[_ngcontent-%COMP%] {\n  top: calc(50% - 5px);\n  left: calc(50% - 5px);\n  position: absolute !important;\n}\n\n.loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:before, .loader[_ngcontent-%COMP%]:after {\n  position: relative;\n  display: inline-block;\n  width: 20px;\n  height: 50px;\n  background-color: rgba(215, 230, 240, 0.9);\n  border: 1px solid rgb(215, 230, 240);\n  z-index: 100000;\n  content: " ";\n  margin-left: -5px;\n  margin-right: -9px;\n}\n.loader[_ngcontent-%COMP%]:before {\n  top: -11px;\n  left: -100%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) infinite;\n}\n.loader[_ngcontent-%COMP%] {\n  animation: loading-main 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.2s infinite;\n}\n.loader[_ngcontent-%COMP%]:after {\n  top: -11px;\n  right: -100%;\n  margin-top: 50%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.4s infinite;\n}\n@keyframes loading {\n  from {\n    transform: scaleY(1.4);\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n@keyframes loading-main {\n  from {\n    padding-top: 10px;\n    padding-bottom: 10px;\n    margin-top: -10px;\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n.no-records[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 3%;\n  grid-column: 1/span 5;\n}'],data:{animation:[(0,v.X$)("enterFromRight",[(0,v.eR)(":enter",[(0,v.oB)({transform:"translateX(100%)",opacity:0}),(0,v.jt)("500ms",(0,v.oB)({transform:"translateX(0)",opacity:1}))]),(0,v.eR)(":leave",[(0,v.oB)({transform:"translateX(0)",opacity:1}),(0,v.jt)("500ms",(0,v.oB)({transform:"translateX(100%)",opacity:0}))])]),(0,v.X$)("enterFromBottom",[(0,v.eR)(":enter",[(0,v.oB)({transform:"translateY(100%)",opacity:0}),(0,v.jt)("500ms",(0,v.oB)({transform:"translateX(0)",opacity:1}))]),(0,v.eR)(":leave",[(0,v.oB)({transform:"translateY(0)",opacity:1}),(0,v.jt)("500ms",(0,v.oB)({transform:"translateX(100%)",opacity:0}))])]),(0,v.X$)("enterFromTop",[(0,v.eR)(":enter",[(0,v.oB)({transform:"translateY(0)",opacity:0}),(0,v.jt)("500ms",(0,v.oB)({transform:"translateX(0)",opacity:1}))]),(0,v.eR)(":leave",[(0,v.oB)({transform:"translateY(100%)",opacity:1}),(0,v.jt)("500ms",(0,v.oB)({transform:"translateX(100%)",opacity:0}))])])]}}),i})(),Io=(()=>{class i{constructor(t,n){this.http=t,this.url=n,this.api_url=this.url.api_url+"/users/"}getUser(){return this.http.get(this.api_url+"me")}getUsers(){return this.http.get(this.api_url)}register(t){return this.http.post(this.api_url+"register",t).pipe((0,T.K)(n=>{throw n.error.error}))}delete(t){return this.http.delete(this.api_url+"delete/"+t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(J.eN),e.LFG(M.e))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var We=I(9521);function Qo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-chip",10),e.NdJ("removed",function(){const a=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.remove(a))}),e._uU(1),e.TgZ(2,"button",11)(3,"mat-icon"),e._uU(4,"close"),e.qZA()()()}if(2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function So(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-form-field",5)(2,"mat-label"),e._uU(3,"\u0410\u043a\u0442\u0438\u0432\u043d\u0438"),e.qZA(),e.TgZ(4,"mat-chip-list",6,7),e.YNc(6,Qo,5,1,"mat-chip",8),e.TgZ(7,"input",9),e.NdJ("matChipInputTokenEnd",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.add(o))}),e.qZA()()(),e.BQk()}if(2&i){const t=e.MAs(5),n=e.oxw();e.xp6(6),e.Q6J("ngForOf",n.departments),e.xp6(1),e.Q6J("matChipInputFor",t)("matChipInputSeparatorKeyCodes",n.separatorKeysCodes)("matChipInputAddOnBlur",n.addOnBlur)}}function Bo(i,s){1&i&&e._UZ(0,"div",12)}function Ro(i,s){1&i&&(e.TgZ(0,"div",13)(1,"h3"),e._uU(2," \u041d\u044f\u043c\u0430\u0442\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d\u0438 \u0437\u0430\u043f\u0438\u0441\u0438. "),e.qZA()())}let Lo=(()=>{class i{constructor(t){this.departments_service=t,this.loading=!0,this.addOnBlur=!0,this.separatorKeysCodes=[We.K5,We.OC]}ngOnInit(){this.get()}get(){this.departments_service.get().subscribe(t=>{this.departments=t,this.loading=!1})}add(t){const n=(t.value||"").trim();n&&(this.departments.push({name:n}),this.departments_service.add({name:n}).subscribe(o=>{o&&this.get()})),t.chipInput.clear()}remove(t){const n=this.departments.indexOf(t);n>=0&&this.departments.splice(n,1),this.departments_service.delete(t.id).subscribe(o=>{o&&this.get()})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Oe))},i.\u0275cmp=e.Xpm({type:i,selectors:[["departments"]],viewQuery:function(t,n){if(1&t&&e.Gf(E.pp,5),2&t){let o;e.iGM(o=e.CRH())&&(n.accordion=o.first)}},decls:13,vars:2,consts:[["multi","",1,"example-headers-align"],["expanded",""],[4,"ngIf"],["class","loader",4,"ngIf"],["no_records",""],["appearance","fill",1,"example-chip-list"],["aria-label","Fruit selection"],["chipList",""],[3,"removed",4,"ngFor","ngForOf"],["placeholder","\u0414\u043e\u0431\u0430\u0432\u0438 \u043d\u043e\u0432...",3,"matChipInputFor","matChipInputSeparatorKeyCodes","matChipInputAddOnBlur","matChipInputTokenEnd"],[3,"removed"],["matChipRemove",""],[1,"loader"],[1,"no-records"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-accordion",0)(1,"mat-expansion-panel",1)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4," \u0414\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442\u0438 "),e.qZA(),e.TgZ(5,"mat-panel-description"),e._uU(6," \u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435/\u041f\u0440\u0435\u043c\u0430\u0445\u0432\u0430\u043d\u0435 "),e.TgZ(7,"mat-icon"),e._uU(8,"dashboard"),e.qZA()()(),e.YNc(9,So,8,4,"ng-container",2),e.YNc(10,Bo,1,0,"div",3),e.qZA()(),e.YNc(11,Ro,3,0,"ng-template",null,4,e.W1O)),2&t&&(e.xp6(9),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("ngIf",n.loading))},dependencies:[A.sg,A.O5,E.pp,E.ib,E.yz,E.yK,E.u4,Z.Hw,l.KE,l.hX,ae.qn,ae.HS,ae.oH,ae.qH],styles:['.panel[_ngcontent-%COMP%] {\n  margin-top: 10px;\n}\n\n.example-action-buttons[_ngcontent-%COMP%] {\n  padding-bottom: 20px;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%] {\n  flex-basis: 0;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%] {\n  justify-content: end;\n  align-items: center;\n}\n\n.mat-expansion-panel-header-description[_ngcontent-%COMP%]    > .mat-icon[_ngcontent-%COMP%] {\n  margin-left: 3%;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]    + .mat-form-field[_ngcontent-%COMP%] {\n  margin-left: 8px;\n}\n\n.loader[_ngcontent-%COMP%] {\n  top: calc(50% - 5px);\n  left: calc(50% - 5px);\n  position: absolute !important;\n}\n\n\n\n.loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:before, .loader[_ngcontent-%COMP%]:after {\n  position: relative;\n  display: inline-block;\n  width: 20px;\n  height: 50px;\n  background-color: rgba(215, 230, 240, 0.9);\n  border: 1px solid rgb(215, 230, 240);\n  z-index: 100000;\n  content: " ";\n  margin-left: -5px;\n  margin-right: -9px;\n}\n\n.loader[_ngcontent-%COMP%]:before {\n  top: -11px;\n  left: -100%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) infinite;\n}\n\n.loader[_ngcontent-%COMP%] {\n  animation: loading-main 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.2s infinite;\n}\n\n.loader[_ngcontent-%COMP%]:after {\n  top: -11px;\n  right: -100%;\n  margin-top: 50%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.4s infinite;\n}\n\n@keyframes loading {\n  from {\n    transform: scaleY(1.4);\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n\n@keyframes loading-main {\n  from {\n    padding-top: 10px;\n    padding-bottom: 10px;\n    margin-top: -10px;\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n\n.no-records[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 3%;\n  grid-column: 1/span 5;\n}',".mat-chip.mat-standard-chip[_ngcontent-%COMP%] {\n  background-color: #00bcd4;\n  color: rgba(255, 255, 255, 0.87);\n}"],data:{animation:[(0,v.X$)("enterFromBottom",[(0,v.eR)(":enter",[(0,v.oB)({transform:"translateY(100%)",opacity:0}),(0,v.jt)("500ms",(0,v.oB)({transform:"translateX(0)",opacity:1}))]),(0,v.eR)(":leave",[(0,v.oB)({transform:"translateY(0)",opacity:1}),(0,v.jt)("500ms",(0,v.oB)({transform:"translateX(100%)",opacity:0}))])])]}}),i})(),Go=(()=>{class i{constructor(t,n,o){this.dialogRef=t,this.locations_service=n,this.swal_service=o,this.edit=!1}ngOnInit(){this.edit_location&&(this.location=Object.assign({},this.edit_location))}submit(){this.edit?this.locations_service.edit(this.location).subscribe(t=>{t.id?this.swal_service.success({text:"\u041b\u043e\u043a\u0430\u0446\u0438\u044f\u0442\u0430 \u0431\u0435 \u043e\u0431\u043d\u043e\u0432\u0435\u043d\u0430!"}):this.swal_service.error({text:"\u041b\u043e\u043a\u0430\u0446\u0438\u044f\u0442\u0430 \u043d\u0435 \u0431\u0435\u0448\u0435 \u043e\u0431\u043d\u043e\u0432\u0435\u043d\u0430"})},t=>{this.swal_service.error({title:`${t.title()}`,text:`${t.message()}`})}):this.locations_service.add(this.location).subscribe(t=>{t&&(this.location={city:"",post_code:"",country:"",address:""})})}close(){this.dialogRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.so),e.Y36(Ae),e.Y36(P.J))},i.\u0275cmp=e.Xpm({type:i,selectors:[["location"]],inputs:{edit_location:"edit_location",edit:"edit"},decls:26,vars:4,consts:[[1,"content","new-location"],["appearance","fill"],["matInput","","required","",3,"ngModel","ngModelChange"],["appearance","fill",1,"example-full-width"],[1,"button-container"],[1,"btn","btn-block",3,"click"],[1,"btn","btn-info",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div")(2,"mat-form-field",1)(3,"mat-label"),e._uU(4,"\u0413\u0440\u0430\u0434"),e.qZA(),e.TgZ(5,"input",2),e.NdJ("ngModelChange",function(a){return n.location.city=a}),e.qZA()()(),e.TgZ(6,"div")(7,"mat-form-field",3)(8,"mat-label"),e._uU(9,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(10,"textarea",2),e.NdJ("ngModelChange",function(a){return n.location.address=a}),e.qZA()()(),e.TgZ(11,"div")(12,"mat-form-field",3)(13,"mat-label"),e._uU(14,"\u041f\u043e\u0449\u0435\u043d\u0441\u043a\u0438 \u043a\u043e\u0434"),e.qZA(),e.TgZ(15,"input",2),e.NdJ("ngModelChange",function(a){return n.location.post_code=a}),e.qZA()()(),e.TgZ(16,"div")(17,"mat-form-field",3)(18,"mat-label"),e._uU(19,"\u0414\u044a\u0440\u0436\u0430\u0432\u0430"),e.qZA(),e.TgZ(20,"input",2),e.NdJ("ngModelChange",function(a){return n.location.country=a}),e.qZA()()(),e.TgZ(21,"div",4)(22,"button",5),e.NdJ("click",function(){return n.close()}),e._uU(23," \u0417\u0430\u0442\u0432\u043e\u0440\u0438 "),e.qZA(),e.TgZ(24,"button",6),e.NdJ("click",function(){return n.submit()}),e._uU(25," \u041e\u0431\u043d\u043e\u0432\u0438 "),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("ngModel",n.location.city),e.xp6(5),e.Q6J("ngModel",n.location.address),e.xp6(5),e.Q6J("ngModel",n.location.post_code),e.xp6(5),e.Q6J("ngModel",n.location.country))},dependencies:[l.KE,l.hX,m.Nt,r.Fj,r.JJ,r.Q7,r.On],styles:[".button-container[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  column-gap: 1em;\n}"]}),i})(),$o=(()=>{class i{constructor(t){this.data=t,this.edit=!1,this.location=t?.location,this.edit=t?.edit}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:2,vars:2,consts:[[3,"edit_location","edit"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-dialog-content"),e._UZ(1,"location",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("edit_location",n.location)("edit",n.edit))},dependencies:[d.xY,Go],encapsulation:2}),i})();function Ho(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.qZA(),e.TgZ(5,"div"),e._uU(6),e.qZA(),e.TgZ(7,"div"),e._uU(8),e.qZA(),e.TgZ(9,"div",13)(10,"button",14),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.delete(a.id))}),e.TgZ(11,"i",15),e._uU(12,"close"),e.qZA()(),e.TgZ(13,"button",16),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.edit(a))}),e.TgZ(14,"i",15),e._uU(15,"edit"),e.qZA()()()()}if(2&i){const t=s.$implicit;e.xp6(2),e.hij(" ",t.city," "),e.xp6(2),e.hij(" ",t.address," "),e.xp6(2),e.hij(" ",t.post_code," "),e.xp6(2),e.hij(" ",t.country," "),e.xp6(2),e.Q6J("matTooltipPosition","above"),e.xp6(3),e.Q6J("matTooltipPosition","above")}}function zo(i,s){if(1&i&&(e.TgZ(0,"div",9)(1,"div",10)(2,"div"),e._uU(3,"\u0413\u0440\u0430\u0434"),e.qZA(),e.TgZ(4,"div"),e._uU(5,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(6,"div"),e._uU(7,"\u041f\u043e\u0449\u0435\u043d\u0441\u043a\u0438 \u043a\u043e\u0434"),e.qZA(),e.TgZ(8,"div"),e._uU(9,"\u0414\u044a\u0440\u0436\u0430\u0432\u0430"),e.qZA(),e.TgZ(10,"div"),e._uU(11,"\u041e\u043f\u0446\u0438\u0438"),e.qZA()(),e.YNc(12,Ho,16,6,"div",11),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("@enterFromBottom",void 0),e.xp6(12),e.Q6J("ngForOf",t.locations)}}function jo(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,zo,13,2,"div",4),e.TgZ(2,"div",5)(3,"div")(4,"mat-form-field",6)(5,"mat-label"),e._uU(6,"\u0413\u0440\u0430\u0434"),e.qZA(),e.TgZ(7,"input",7),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.location.city=o)}),e.qZA()()(),e.TgZ(8,"div")(9,"mat-form-field",6)(10,"mat-label"),e._uU(11,"\u0410\u0434\u0440\u0435\u0441"),e.qZA(),e.TgZ(12,"input",7),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.location.address=o)}),e.qZA()()(),e.TgZ(13,"div")(14,"mat-form-field",6)(15,"mat-label"),e._uU(16,"\u041f\u043e\u0449\u0435\u043d\u0441\u043a\u0438 \u043a\u043e\u0434"),e.qZA(),e.TgZ(17,"input",7),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.location.post_code=o)}),e.qZA()()(),e.TgZ(18,"div")(19,"mat-form-field",6)(20,"mat-label"),e._uU(21,"\u0414\u044a\u0440\u0436\u0430\u0432\u0430"),e.qZA(),e.TgZ(22,"input",7),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.location.country=o)}),e.qZA()()(),e.TgZ(23,"div")(24,"button",8),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.add())}),e._uU(25," \u0414\u043e\u0431\u0430\u0432\u0438 "),e.qZA()()()()}if(2&i){const t=e.oxw(),n=e.MAs(12);e.xp6(1),e.Q6J("ngIf",t.locations.length>0)("ngIfElse",n),e.xp6(6),e.Q6J("ngModel",t.location.city),e.xp6(5),e.Q6J("ngModel",t.location.address),e.xp6(5),e.Q6J("ngModel",t.location.post_code),e.xp6(5),e.Q6J("ngModel",t.location.country)}}function Ko(i,s){1&i&&e._UZ(0,"div",17)}function Xo(i,s){1&i&&(e.TgZ(0,"div",18)(1,"h3"),e._uU(2," \u041d\u044f\u043c\u0430\u0442\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d\u0438 \u0437\u0430\u043f\u0438\u0441\u0438. "),e.qZA()())}let Wo=(()=>{class i{constructor(t,n,o){this.locations_service=t,this.dialog=n,this.swal_service=o,this.loading=!0,this.locations=[],this.location={city:"",address:"",post_code:"",country:""}}ngOnInit(){this.get(),this.subscriptionUpdate=this.locations_service.dataChange.subscribe(t=>{const n=this.locations.findIndex(o=>o.id===t.id);-1!==n&&(this.locations[n]=t)}),this.subscriptionAdd=this.locations_service.dataAdded.subscribe(t=>{t.id&&this.locations.push(t)}),this.subscriptionDelete=this.locations_service.dataDeleted.subscribe(t=>{if(t.id){const n=this.locations.findIndex(o=>o.id===t.id);-1!==n&&this.locations.splice(n,1)}})}get(){this.locations_service.get().subscribe(t=>{this.locations=t,this.loading=!1})}add(){this.locations_service.add(this.location).subscribe(t=>{t?(this.location={city:"",address:"",post_code:"",country:""},this.swal_service.success({text:"\u041b\u043e\u043a\u0430\u0446\u0438\u044f\u0442\u0430 \u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430."})):this.swal_service.error({text:"\u041b\u043e\u043a\u0430\u0446\u0438\u044f\u0442\u0430 \u043d\u0435 \u0431\u0435\u0448\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430."})},t=>{this.swal_service.error({title:`${t.title()}`,text:`${t.message()}`})})}delete(t){this.locations_service.delete(t).subscribe(n=>{n.id?this.swal_service.success({text:`\u041b\u043e\u043a\u0430\u0446\u0438\u044f \u0432 \u0433\u0440\u0430\u0434 ${n.city} \u0438 \u0430\u0434\u0440\u0435\u0441 ${n.address} \u0431\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u0430.`}):this.swal_service.error({text:"\u041b\u043e\u043a\u0430\u0446\u0438\u044f \u043d\u0435 \u0431\u0435\u0448\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u0430."})},n=>{this.swal_service.error({title:`${n.title()}`,text:`${n.message()}`})})}edit(t){this.dialog.open($o,{data:{location:t,edit:!0}})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ae),e.Y36(d.uw),e.Y36(P.J))},i.\u0275cmp=e.Xpm({type:i,selectors:[["locations"]],viewQuery:function(t,n){if(1&t&&e.Gf(E.pp,5),2&t){let o;e.iGM(o=e.CRH())&&(n.accordion=o.first)}},decls:13,vars:2,consts:[["multi","",1,"example-headers-align"],[4,"ngIf"],["class","loader",4,"ngIf"],["no_records",""],["class","locations-list",4,"ngIf","ngIfElse"],[1,"content","new-location"],["appearance","fill"],["matInput","","required","",3,"ngModel","ngModelChange"],[1,"btn","btn-info","btn-block","btn-fill","add-new",3,"click"],[1,"locations-list"],[1,"content","content-header"],["class","location content",4,"ngFor","ngForOf"],[1,"location","content"],[1,"actions"],["mat-raised-button","","type","button","matTooltip","\u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0438",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[1,"material-icons","remove"],["mat-raised-button","","type","button","matTooltip","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[1,"loader"],[1,"no-records"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-accordion",0)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4," \u041b\u043e\u043a\u0430\u0446\u0438\u0438 "),e.qZA(),e.TgZ(5,"mat-panel-description"),e._uU(6," \u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435/\u041f\u0440\u0435\u043c\u0430\u0445\u0432\u0430\u043d\u0435 "),e.TgZ(7,"mat-icon"),e._uU(8,"location_on"),e.qZA()()(),e.YNc(9,jo,26,6,"div",1),e.YNc(10,Ko,1,0,"div",2),e.qZA()(),e.YNc(11,Xo,3,0,"ng-template",null,3,e.W1O)),2&t&&(e.xp6(9),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("ngIf",n.loading))},dependencies:[A.sg,A.O5,E.pp,E.ib,E.yz,E.yK,E.u4,Z.Hw,l.KE,l.hX,m.Nt,r.Fj,r.JJ,r.Q7,r.On,D.lW],styles:['.panel[_ngcontent-%COMP%] {\n  margin-top: 10px;\n}\n\n.example-action-buttons[_ngcontent-%COMP%] {\n  padding-bottom: 20px;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%] {\n  flex-basis: 0;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%] {\n  justify-content: end;\n  align-items: center;\n}\n\n.mat-expansion-panel-header-description[_ngcontent-%COMP%]    > .mat-icon[_ngcontent-%COMP%] {\n  margin-left: 3%;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]    + .mat-form-field[_ngcontent-%COMP%] {\n  margin-left: 8px;\n}\n\n.loader[_ngcontent-%COMP%] {\n  top: calc(50% - 5px);\n  left: calc(50% - 5px);\n  position: absolute !important;\n}\n\n\n\n.loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:before, .loader[_ngcontent-%COMP%]:after {\n  position: relative;\n  display: inline-block;\n  width: 20px;\n  height: 50px;\n  background-color: rgba(215, 230, 240, 0.9);\n  border: 1px solid rgb(215, 230, 240);\n  z-index: 100000;\n  content: " ";\n  margin-left: -5px;\n  margin-right: -9px;\n}\n\n.loader[_ngcontent-%COMP%]:before {\n  top: -11px;\n  left: -100%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) infinite;\n}\n\n.loader[_ngcontent-%COMP%] {\n  animation: loading-main 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.2s infinite;\n}\n\n.loader[_ngcontent-%COMP%]:after {\n  top: -11px;\n  right: -100%;\n  margin-top: 50%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.4s infinite;\n}\n\n@keyframes loading {\n  from {\n    transform: scaleY(1.4);\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n\n@keyframes loading-main {\n  from {\n    padding-top: 10px;\n    padding-bottom: 10px;\n    margin-top: -10px;\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n\n.no-records[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 3%;\n  grid-column: 1/span 5;\n}',".content[_ngcontent-%COMP%] {\n  display: grid;\n  column-gap: 1%;\n  grid-template-columns: minmax(100px, 20%) minmax(100px, 40%) minmax(100px, 10%) minmax(130px, 20%);\n  grid-auto-flow: column;\n  border-bottom: 1px solid #e5e5e5;\n}\n.content[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\n  height: 100%;\n  padding: 12px 8px;\n  vertical-align: middle;\n  flex-wrap: wrap;\n}\n.content[_ngcontent-%COMP%]:hover {\n  background-color: #f5f5f5;\n  font-weight: 450;\n}\n.content[_ngcontent-%COMP%]:hover   .profile-icon[_ngcontent-%COMP%] {\n  color: #555555;\n}\n.content[_ngcontent-%COMP%]:hover   .export-icon[_ngcontent-%COMP%] {\n  color: #555555;\n}\n.content[_ngcontent-%COMP%]:hover   .remove[_ngcontent-%COMP%] {\n  color: #f44336;\n}\n.content[_ngcontent-%COMP%]:hover   .edit[_ngcontent-%COMP%] {\n  color: #9c27b0;\n}\n.content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  column-gap: 2%;\n  font-size: 0.95rem;\n  font-weight: 500;\n}\n.content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover {\n  background-color: #ececec;\n  cursor: pointer;\n}"],data:{animation:[(0,v.X$)("enterFromBottom",[(0,v.eR)(":enter",[(0,v.oB)({transform:"translateY(100%)",opacity:0}),(0,v.jt)("500ms",(0,v.oB)({transform:"translateX(0)",opacity:1}))]),(0,v.eR)(":leave",[(0,v.oB)({transform:"translateY(0)",opacity:1}),(0,v.jt)("500ms",(0,v.oB)({transform:"translateX(100%)",opacity:0}))])])]}}),i})(),Vo=(()=>{class i{constructor(t,n,o){this.dialogRef=t,this.positions_service=n,this.swal_service=o,this.edit=!1}ngOnInit(){this.edit_position&&(this.position=Object.assign({},this.edit_position))}submit(){this.edit?this.positions_service.edit(this.position).subscribe(t=>{t.id?this.swal_service.success({text:"\u041f\u043e\u0437\u0438\u0446\u0438\u044f\u0442\u0430 \u0431\u0435 \u043e\u0431\u043d\u043e\u0432\u0435\u043d\u0430!"}):this.swal_service.error({text:"\u041f\u043e\u0437\u0438\u0446\u0438\u044f\u0442\u0430 \u043d\u0435 \u0431\u0435\u0448\u0435 \u043e\u0431\u043d\u043e\u0432\u0435\u043d\u0430"})},t=>{this.swal_service.error({title:`${t.title()}`,text:`${t.message()}`})}):this.positions_service.add(this.position).subscribe(t=>{t&&(this.position={name:"",job_description:""})})}close(){this.dialogRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.so),e.Y36(Te),e.Y36(P.J))},i.\u0275cmp=e.Xpm({type:i,selectors:[["position"]],inputs:{edit_position:"edit_position",edit:"edit"},decls:16,vars:2,consts:[[1,"content","new-position"],["appearance","fill"],["matInput","","required","",3,"ngModel","ngModelChange"],["appearance","fill",1,"example-full-width"],["matInput","",3,"ngModel","ngModelChange"],[1,"button-container"],[1,"btn","btn-block",3,"click"],[1,"btn","btn-info",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div")(2,"mat-form-field",1)(3,"mat-label"),e._uU(4,"\u0414\u043b\u044a\u0436\u043d\u043e\u0441\u0442"),e.qZA(),e.TgZ(5,"input",2),e.NdJ("ngModelChange",function(a){return n.position.name=a}),e.qZA()()(),e.TgZ(6,"div")(7,"mat-form-field",3)(8,"mat-label"),e._uU(9,"\u0414\u043b\u044a\u0436\u043d\u043e\u0441\u0442\u043d\u0430 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430"),e.qZA(),e.TgZ(10,"textarea",4),e.NdJ("ngModelChange",function(a){return n.position.job_description=a}),e.qZA()()(),e.TgZ(11,"div",5)(12,"button",6),e.NdJ("click",function(){return n.close()}),e._uU(13," \u0417\u0430\u0442\u0432\u043e\u0440\u0438 "),e.qZA(),e.TgZ(14,"button",7),e.NdJ("click",function(){return n.submit()}),e._uU(15," \u041e\u0431\u043d\u043e\u0432\u0438 "),e.qZA()()()),2&t&&(e.xp6(5),e.Q6J("ngModel",n.position.name),e.xp6(5),e.Q6J("ngModel",n.position.job_description))},dependencies:[l.KE,l.hX,m.Nt,r.Fj,r.JJ,r.Q7,r.On],styles:[".button-container[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  column-gap: 1em;\n}"]}),i})(),es=(()=>{class i{constructor(t){this.data=t,this.edit=!1,this.position=t?.position,this.edit=t?.edit}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:2,vars:2,consts:[[3,"edit_position","edit"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-dialog-content"),e._UZ(1,"position",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("edit_position",n.position)("edit",n.edit))},dependencies:[d.xY,Vo],encapsulation:2}),i})();function ts(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",13)(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.qZA(),e.TgZ(5,"div",14)(6,"button",15),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.delete(a.id))}),e.TgZ(7,"i",16),e._uU(8,"close"),e.qZA()(),e.TgZ(9,"button",17),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.edit(a))}),e.TgZ(10,"i",16),e._uU(11,"edit"),e.qZA()()()()}if(2&i){const t=s.$implicit;e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.job_description," "),e.xp6(2),e.Q6J("matTooltipPosition","above"),e.xp6(3),e.Q6J("matTooltipPosition","above")}}function ns(i,s){if(1&i&&(e.TgZ(0,"div",10)(1,"div",11)(2,"div"),e._uU(3,"\u0414\u043b\u044a\u0436\u043d\u043e\u0441\u0442"),e.qZA(),e.TgZ(4,"div"),e._uU(5,"\u0414\u043b\u044a\u0436\u043d\u043e\u0441\u0442\u043d\u0430 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430"),e.qZA()(),e.YNc(6,ts,12,4,"div",12),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("@enterFromBottom",void 0),e.xp6(6),e.Q6J("ngForOf",t.positions)}}function is(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div"),e.YNc(1,ns,7,2,"div",4),e.TgZ(2,"div",5)(3,"div")(4,"mat-form-field",6)(5,"mat-label"),e._uU(6,"\u0414\u043b\u044a\u0436\u043d\u043e\u0441\u0442"),e.qZA(),e.TgZ(7,"input",7),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.position.name=o)}),e.qZA()()(),e.TgZ(8,"div")(9,"mat-form-field",6)(10,"mat-label"),e._uU(11,"\u0414\u043b\u044a\u0436\u043d\u043e\u0441\u0442\u043d\u0430 \u0445\u0430\u0440\u0430\u043a\u0442\u0435\u0440\u0438\u0441\u0442\u0438\u043a\u0430"),e.qZA(),e.TgZ(12,"input",8),e.NdJ("ngModelChange",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.position.job_description=o)}),e.qZA()()(),e.TgZ(13,"div")(14,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.add())}),e._uU(15," \u0414\u043e\u0431\u0430\u0432\u0438 "),e.qZA()()()()}if(2&i){const t=e.oxw(),n=e.MAs(12);e.xp6(1),e.Q6J("ngIf",t.positions.length>0)("ngIfElse",n),e.xp6(6),e.Q6J("ngModel",t.position.name),e.xp6(5),e.Q6J("ngModel",t.position.job_description)}}function os(i,s){1&i&&e._UZ(0,"div",18)}function ss(i,s){1&i&&(e.TgZ(0,"div",19)(1,"h3"),e._uU(2," \u041d\u044f\u043c\u0430\u0442\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d\u0438 \u0437\u0430\u043f\u0438\u0441\u0438. "),e.qZA()())}let as=(()=>{class i{constructor(t,n,o){this.positions_service=t,this.dialog=n,this.swal_service=o,this.loading=!0,this.positions=[],this.position={name:"",job_description:""}}ngOnInit(){this.get(),this.subscriptionUpdate=this.positions_service.dataChange.subscribe(t=>{const n=this.positions.findIndex(o=>o.id===t.id);-1!==n&&(this.positions[n]=t)}),this.subscriptionAdd=this.positions_service.dataAdded.subscribe(t=>{t.id&&this.positions.push(t)}),this.subscriptionDelete=this.positions_service.dataDeleted.subscribe(t=>{if(t.id){const n=this.positions.findIndex(o=>o.id===t.id);-1!==n&&this.positions.splice(n,1)}})}get(){this.positions_service.get().subscribe(t=>{this.positions=t,this.loading=!1})}add(){this.positions_service.add(this.position).subscribe(t=>{t?(this.position.name="",this.position.job_description="",this.swal_service.success({text:"\u041f\u043e\u0437\u0438\u0446\u0438\u044f\u0442\u0430 \u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430."})):this.swal_service.error({text:"\u041f\u043e\u0437\u0438\u0446\u0438\u044f\u0442\u0430 \u043d\u0435 \u0431\u0435\u0448\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d\u0430."})},t=>{this.swal_service.error({title:`${t.title()}`,text:`${t.message()}`})})}delete(t){this.positions_service.delete(t).subscribe(n=>{n.id?this.swal_service.success({text:`\u041f\u043e\u0437\u0438\u0446\u0438\u044f ${n.name} \u0431\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u0430.`}):this.swal_service.error({text:"\u041f\u043e\u0437\u0438\u0446\u0438\u044f\u0442\u0430 \u043d\u0435 \u0431\u0435\u0448\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u0430."})},n=>{this.swal_service.error({title:`${n.title()}`,text:`${n.message()}`})})}edit(t){this.dialog.open(es,{data:{position:t,edit:!0}})}showNotification(t,n){let o=this.getNotificationMessage(t,n);("add"==t||"edit"==t||"delete"==t)&&(t="success"),$.notify({icon:"notifications",message:o},{type:t,timer:2e3,placement:{from:"top",align:"right"},template:'<div data-notify="container" class="col-xl-4 col-lg-4 col-11 col-sm-4 col-md-4 alert alert-{0} alert-with-icon" role="alert"><button mat-button  type="button" aria-hidden="true" class="close mat-button" data-notify="dismiss">  <i class="material-icons">close</i></button><i class="material-icons" data-notify="icon">notifications</i> <span data-notify="title">{1}</span> <span data-notify="message">{2}</span><div class="progress" data-notify="progressbar"><div class="progress-bar progress-bar-{0}" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100" style="width: 0%;"></div></div><a href="{3}" target="{4}" data-notify="url"></a></div>'})}getNotificationMessage(t,n){let o="\u041a\u044a\u043c \u0442\u0435\u043a\u0443\u0449\u0438\u044f \u043c\u043e\u043c\u0435\u043d\u0442 \u043d\u044f\u043c\u0430\u0442\u0435 \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b\u0438 \u0432\u044a\u0432 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430 \u043d\u0435\u0442\u0440\u0443\u0434\u043e\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442.";switch(t){case"warning":return o=`\u041a\u044a\u043c \u0434\u043d\u0435\u0448\u043d\u0430 \u0434\u0430\u0442\u0430 \u0438\u043c\u0430\u0442\u0435 ${n.length} \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b${1==n.length?"":"\u044f"} \u0432\u044a\u0432 \u0432\u0440\u0435\u043c\u0435\u043d\u043d\u0430 \u043d\u0435\u0442\u0440\u0443\u0434\u043e\u0441\u043f\u043e\u0441\u043e\u0431\u043d\u043e\u0441\u0442:`,o+=n.map(a=>`<br>${a.first_name} ${a.last_name} (${a.position})`),o;case"primary":return o=`\u041e\u0447\u043a\u0432\u0430\u0442\u0435 ${n.length} \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b${1==n.length?"":"\u044f"} \u0434\u0430 \u043e\u0442\u0441\u044a\u0441\u0442\u0432\u0430${1==n.length?"":"\u0442"}  \u043f\u043e \u0437\u0434\u0440\u0430\u0432\u043e\u0441\u043b\u043e\u0432\u043d\u0438 \u043f\u0440\u0438\u0447\u0438\u043d\u0438 \u0432 \u0431\u044a\u0434\u0435\u0449\u0438 \u043f\u0435\u0440\u0438\u043e\u0434\u0438:`,o+=n.map(a=>`<br>${a.first_name} ${a.last_name} (${a.position})`),o;case"add":return o="\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u0445\u0442\u0435 \u0431\u043e\u043b\u043d\u0438\u0447\u0435\u043d \u043b\u0438\u0441\u0442 \u043d\u0430:",o+=`<br>${n.employee[0].first_name} ${n.employee[0].last_name} (${n.employee[0].position})`,o+=`<br>\u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 \u043e\u0442 ${n.sick_leave.start_date} \u0434\u043e ${n.sick_leave.end_date}`,o;case"edit":return o="\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u043f\u0440\u043e\u043c\u0435\u043d\u0438\u0445\u0442\u0435 \u0431\u043e\u043b\u043d\u0438\u0447\u043d\u0438\u044f \u043b\u0438\u0441\u0442 \u043d\u0430:",o+=`<br>${n.employee[0].first_name} ${n.employee[0].last_name} (${n.employee[0].position})`,o+=`<br>\u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 \u043e\u0442 ${n.sick_leave.start_date} \u0434\u043e ${n.sick_leave.end_date}`,o;case"delete":return o="\u0423\u0441\u043f\u0435\u0448\u043d\u043e \u0438\u0437\u0442\u0440\u0438\u0445\u0442\u0435 \u0431\u043e\u043b\u043d\u0438\u0447\u043d\u0438\u044f \u043b\u0438\u0441\u0442 \u043d\u0430:",o+=`<br>${n.first_name} ${n.last_name} (${n.position})`,o+=`<br>\u0437\u0430 \u043f\u0435\u0440\u0438\u043e\u0434\u0430 \u043e\u0442 ${n.start_date} \u0434\u043e ${n.end_date}`,o;case"danger":return o="\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u043f\u0440\u043e\u0431\u043b\u0435\u043c, \u043c\u043e\u043b\u044f \u043e\u0431\u044a\u0440\u043d\u0435\u0442\u0435 \u0441\u0435 \u043a\u044a\u043c \u0441\u0438\u0441\u0442\u0435\u043c\u043d\u0438\u044f \u0430\u0434\u043c\u0438\u043d\u0438\u0441\u0442\u0440\u0430\u0442\u043e\u0440.",o;case"info":return o}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Te),e.Y36(d.uw),e.Y36(P.J))},i.\u0275cmp=e.Xpm({type:i,selectors:[["positions"]],viewQuery:function(t,n){if(1&t&&e.Gf(E.pp,5),2&t){let o;e.iGM(o=e.CRH())&&(n.accordion=o.first)}},decls:13,vars:2,consts:[["multi","",1,"example-headers-align"],[4,"ngIf"],["class","loader",4,"ngIf"],["no_records",""],["class","locations-list",4,"ngIf","ngIfElse"],[1,"content","new-position"],["appearance","fill"],["matInput","","required","",3,"ngModel","ngModelChange"],["matInput","",3,"ngModel","ngModelChange"],[1,"btn","btn-info","btn-block","btn-fill","add-new",3,"click"],[1,"locations-list"],[1,"content","content-header"],["class","position content",4,"ngFor","ngForOf"],[1,"position","content"],[1,"actions"],["mat-raised-button","","type","button","matTooltip","\u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0438",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[1,"material-icons","remove"],["mat-raised-button","","type","button","matTooltip","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[1,"loader"],[1,"no-records"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-accordion",0)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4," \u0420\u0430\u0431\u043e\u0442\u043d\u0438 \u043f\u043e\u0437\u0438\u0446\u0438\u0438 "),e.qZA(),e.TgZ(5,"mat-panel-description"),e._uU(6," \u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435/\u041f\u0440\u0435\u043c\u0430\u0445\u0432\u0430\u043d\u0435 "),e.TgZ(7,"mat-icon"),e._uU(8,"assignment_turned_in"),e.qZA()()(),e.YNc(9,is,16,4,"div",1),e.YNc(10,os,1,0,"div",2),e.qZA()(),e.YNc(11,ss,3,0,"ng-template",null,3,e.W1O)),2&t&&(e.xp6(9),e.Q6J("ngIf",!n.loading),e.xp6(1),e.Q6J("ngIf",n.loading))},dependencies:[A.sg,A.O5,E.pp,E.ib,E.yz,E.yK,E.u4,Z.Hw,l.KE,l.hX,m.Nt,r.Fj,r.JJ,r.Q7,r.On,D.lW],styles:['.panel[_ngcontent-%COMP%] {\n  margin-top: 10px;\n}\n\n.example-action-buttons[_ngcontent-%COMP%] {\n  padding-bottom: 20px;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%] {\n  flex-basis: 0;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%] {\n  justify-content: end;\n  align-items: center;\n}\n\n.mat-expansion-panel-header-description[_ngcontent-%COMP%]    > .mat-icon[_ngcontent-%COMP%] {\n  margin-left: 3%;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]    + .mat-form-field[_ngcontent-%COMP%] {\n  margin-left: 8px;\n}\n\n.loader[_ngcontent-%COMP%] {\n  top: calc(50% - 5px);\n  left: calc(50% - 5px);\n  position: absolute !important;\n}\n\n\n\n.loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:before, .loader[_ngcontent-%COMP%]:after {\n  position: relative;\n  display: inline-block;\n  width: 20px;\n  height: 50px;\n  background-color: rgba(215, 230, 240, 0.9);\n  border: 1px solid rgb(215, 230, 240);\n  z-index: 100000;\n  content: " ";\n  margin-left: -5px;\n  margin-right: -9px;\n}\n\n.loader[_ngcontent-%COMP%]:before {\n  top: -11px;\n  left: -100%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) infinite;\n}\n\n.loader[_ngcontent-%COMP%] {\n  animation: loading-main 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.2s infinite;\n}\n\n.loader[_ngcontent-%COMP%]:after {\n  top: -11px;\n  right: -100%;\n  margin-top: 50%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.4s infinite;\n}\n\n@keyframes loading {\n  from {\n    transform: scaleY(1.4);\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n\n@keyframes loading-main {\n  from {\n    padding-top: 10px;\n    padding-bottom: 10px;\n    margin-top: -10px;\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n\n.no-records[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 3%;\n  grid-column: 1/span 5;\n}',".content[_ngcontent-%COMP%] {\n  display: grid;\n  column-gap: 1%;\n  grid-template-columns: minmax(100px, 30%) minmax(100px, 70%);\n  grid-auto-flow: column;\n  border-bottom: 1px solid #e5e5e5;\n}\n.content[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\n  height: 100%;\n  padding: 12px 8px;\n  vertical-align: middle;\n  flex-wrap: wrap;\n}\n.content[_ngcontent-%COMP%]:hover {\n  background-color: #f5f5f5;\n  font-weight: 450;\n}\n.content[_ngcontent-%COMP%]:hover   .profile-icon[_ngcontent-%COMP%] {\n  color: #555555;\n}\n.content[_ngcontent-%COMP%]:hover   .export-icon[_ngcontent-%COMP%] {\n  color: #555555;\n}\n.content[_ngcontent-%COMP%]:hover   .remove[_ngcontent-%COMP%] {\n  color: #f44336;\n}\n.content[_ngcontent-%COMP%]:hover   .edit[_ngcontent-%COMP%] {\n  color: #9c27b0;\n}\n.content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  column-gap: 2%;\n  font-size: 0.95rem;\n  font-weight: 500;\n}\n.content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover {\n  background-color: #ececec;\n  cursor: pointer;\n}"],data:{animation:[(0,v.X$)("enterFromBottom",[(0,v.eR)(":enter",[(0,v.oB)({transform:"translateY(100%)",opacity:0}),(0,v.jt)("500ms",(0,v.oB)({transform:"translateX(0)",opacity:1}))]),(0,v.eR)(":leave",[(0,v.oB)({transform:"translateY(0)",opacity:1}),(0,v.jt)("500ms",(0,v.oB)({transform:"translateX(100%)",opacity:0}))])])]}}),i})();function rs(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",12)(1,"div"),e._uU(2),e.qZA(),e.TgZ(3,"div"),e._uU(4),e.qZA(),e.TgZ(5,"div"),e._uU(6),e.qZA(),e.TgZ(7,"div"),e._uU(8),e.qZA(),e.TgZ(9,"div"),e._uU(10),e.qZA(),e.TgZ(11,"div"),e._uU(12),e.qZA(),e.TgZ(13,"div"),e._uU(14),e.qZA(),e.TgZ(15,"div"),e._uU(16),e.qZA(),e.TgZ(17,"div",13)(18,"button",14),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(3);return e.KtG(_.delete(a.id))}),e.TgZ(19,"i",15),e._uU(20,"close"),e.qZA()(),e.TgZ(21,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(3);return e.KtG(o.edit())}),e.TgZ(22,"i",15),e._uU(23,"edit"),e.qZA()()()()}if(2&i){const t=s.$implicit;e.xp6(2),e.hij(" ",t.name," "),e.xp6(2),e.hij(" ",t.details," "),e.xp6(2),e.hij(" ",t.annual_limit," "),e.xp6(2),e.hij(" ",t.duration_limit," "),e.xp6(2),e.hij(" ",t.transferable," "),e.xp6(2),e.hij(" ",t.transferable_abount," "),e.xp6(2),e.hij(" ",t.estimate_cost," "),e.xp6(2),e.hij(" ",t.approval," "),e.xp6(2),e.Q6J("matTooltipPosition","above"),e.xp6(3),e.Q6J("matTooltipPosition","above")}}function us(i,s){if(1&i&&(e.TgZ(0,"div",9)(1,"div",10)(2,"div"),e._uU(3,"\u0412\u0438\u0434"),e.qZA(),e.TgZ(4,"div"),e._uU(5,"\u0421\u043f\u0435\u0446\u0438\u0444\u0438\u043a\u0430\u0446\u0438\u044f"),e.qZA(),e.TgZ(6,"div"),e._uU(7,"\u0413\u043e\u0434\u0438\u0448\u0435\u043d \u043b\u0438\u043c\u0438\u0442"),e.qZA(),e.TgZ(8,"div"),e._uU(9,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u043d\u0430 \u043f\u0440\u043e\u0434\u044a\u043b\u0436\u0438\u0442\u0435\u043b\u043d\u043e\u0441\u0442"),e.qZA(),e.TgZ(10,"div"),e._uU(11,"\u041f\u0440\u0435\u0445\u0432\u044a\u0440\u043b\u044f\u043d\u0435 \u0437\u0430 \u0441\u043b\u0435\u0434\u0432\u0430\u0449\u0438 \u0433\u043e\u0434\u0438\u043d\u0438"),e.qZA(),e.TgZ(12,"div"),e._uU(13,"\u041c\u0430\u043a\u0441\u0438\u043c\u0430\u043b\u0435\u043d \u0431\u0440\u043e\u0439 \u0434\u043d\u0438 \u0437\u0430 \u043f\u0440\u0435\u0445\u0432\u044a\u0440\u043b\u044f\u043d\u0435"),e.qZA(),e.TgZ(14,"div"),e._uU(15,"\u0417\u0430\u043f\u0438\u0441\u0432\u0430\u043d\u0435 \u043d\u0430 \u0444\u0438\u0440\u043c\u0435\u043d \u0440\u0430\u0437\u0445\u043e\u0434"),e.qZA(),e.TgZ(16,"div"),e._uU(17,"\u041e\u0434\u043e\u0431\u0440\u0435\u043d\u0438\u0435"),e.qZA(),e.TgZ(18,"div"),e._uU(19,"\u041e\u043f\u0446\u0438\u0438"),e.qZA()(),e.YNc(20,rs,24,10,"div",11),e.qZA()),2&i){const t=e.oxw(2);e.Q6J("@enterFromBottom",void 0),e.xp6(20),e.Q6J("ngForOf",t.absence_types)}}function ls(i,s){if(1&i&&(e.TgZ(0,"div"),e.YNc(1,us,21,2,"div",8),e.qZA()),2&i){const t=e.oxw(),n=e.MAs(58);e.xp6(1),e.Q6J("ngIf",t.absence_types.length>0)("ngIfElse",n)}}function cs(i,s){1&i&&e._UZ(0,"div",17)}function ds(i,s){1&i&&(e.TgZ(0,"div",18)(1,"h3"),e._uU(2," \u041d\u044f\u043c\u0430\u0442\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d\u0438 \u0437\u0430\u043f\u0438\u0441\u0438. "),e.qZA()())}let ps=(()=>{class i{constructor(t){this.absence_types_service=t,this.loading=!0,this.absence_types=[],this.absence_type={name:"",details:"",annual_limit:"",duration_limit:"",transferable:"",transferable_amount:"",estimate_cost:"",approval:""}}ngOnInit(){this.get()}get(){this.absence_types_service.get().subscribe(t=>{this.absence_types=t,this.loading=!1})}add(){this.absence_types_service.add(this.absence_type).subscribe(t=>{t&&(this.get(),this.absence_type={name:"",details:"",annual_limit:"",duration_limit:"",transferable:"",transferable_amount:"",estimate_cost:"",approval:""})})}delete(t){this.absence_types_service.delete(t).subscribe(n=>{n&&this.get()})}edit(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ce))},i.\u0275cmp=e.Xpm({type:i,selectors:[["absence-types"]],viewQuery:function(t,n){if(1&t&&e.Gf(E.pp,5),2&t){let o;e.iGM(o=e.CRH())&&(n.accordion=o.first)}},decls:59,vars:10,consts:[["multi","",1,"example-headers-align"],[4,"ngIf"],[1,"content","new-absence-type"],["appearance","fill"],["matInput","",3,"ngModel","ngModelChange"],[1,"btn","btn-info","btn-block","btn-fill","add-new",3,"click"],["class","loader",4,"ngIf"],["no_records",""],["class","absence-types-list",4,"ngIf","ngIfElse"],[1,"absence-types-list"],[1,"content","content-header"],["class","location content",4,"ngFor","ngForOf"],[1,"location","content"],[1,"actions"],["mat-raised-button","","type","button","matTooltip","\u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0438",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[1,"material-icons","remove"],["mat-raised-button","","type","button","matTooltip","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[1,"loader"],[1,"no-records"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-accordion",0)(1,"mat-expansion-panel")(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4," \u041e\u043f\u0446\u0438\u0438 \u0437\u0430 \u0441\u043f\u0435\u0446\u0438\u0444\u0438\u0446\u0438\u0440\u0430\u043d\u0435 \u043d\u0430 \u043e\u0442\u043f\u0443\u0441\u043a "),e.qZA(),e.TgZ(5,"mat-panel-description"),e._uU(6," \u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435/\u041f\u0440\u0435\u043c\u0430\u0445\u0432\u0430\u043d\u0435 "),e.TgZ(7,"mat-icon"),e._uU(8,"history"),e.qZA()()(),e.YNc(9,ls,2,2,"div",1),e.TgZ(10,"div",2)(11,"div")(12,"mat-form-field",3)(13,"mat-label"),e._uU(14,"name"),e.qZA(),e.TgZ(15,"input",4),e.NdJ("ngModelChange",function(a){return n.absence_type.name=a}),e.qZA()()(),e.TgZ(16,"div")(17,"mat-form-field",3)(18,"mat-label"),e._uU(19,"details"),e.qZA(),e.TgZ(20,"input",4),e.NdJ("ngModelChange",function(a){return n.absence_type.details=a}),e.qZA()()(),e.TgZ(21,"div")(22,"mat-form-field",3)(23,"mat-label"),e._uU(24,"annual_limit"),e.qZA(),e.TgZ(25,"input",4),e.NdJ("ngModelChange",function(a){return n.absence_type.annual_limit=a}),e.qZA()()(),e.TgZ(26,"div")(27,"mat-form-field",3)(28,"mat-label"),e._uU(29,"duration_limit"),e.qZA(),e.TgZ(30,"input",4),e.NdJ("ngModelChange",function(a){return n.absence_type.duration_limit=a}),e.qZA()()(),e.TgZ(31,"div")(32,"mat-form-field",3)(33,"mat-label"),e._uU(34,"transferable"),e.qZA(),e.TgZ(35,"input",4),e.NdJ("ngModelChange",function(a){return n.absence_type.transferable=a}),e.qZA()()(),e.TgZ(36,"div")(37,"mat-form-field",3)(38,"mat-label"),e._uU(39,"transferable_amount"),e.qZA(),e.TgZ(40,"input",4),e.NdJ("ngModelChange",function(a){return n.absence_type.transferable_amount=a}),e.qZA()()(),e.TgZ(41,"div")(42,"mat-form-field",3)(43,"mat-label"),e._uU(44,"estimate_cost"),e.qZA(),e.TgZ(45,"input",4),e.NdJ("ngModelChange",function(a){return n.absence_type.estimate_cost=a}),e.qZA()()(),e.TgZ(46,"div")(47,"mat-form-field",3)(48,"mat-label"),e._uU(49,"approval"),e.qZA(),e.TgZ(50,"input",4),e.NdJ("ngModelChange",function(a){return n.absence_type.approval=a}),e.qZA()()(),e.TgZ(51,"div")(52,"button",5),e.NdJ("click",function(){return n.add()}),e._uU(53," \u0414\u043e\u0431\u0430\u0432\u0438 "),e.qZA()()(),e.YNc(54,cs,1,0,"div",6),e.TgZ(55,"button"),e._uU(56,"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f \u043d\u0430 \u043c\u0438\u043d\u0430\u043b\u0438 \u043f\u0435\u0440\u0438\u043e\u0434\u0438 "),e.qZA()()(),e.YNc(57,ds,3,0,"ng-template",null,7,e.W1O)),2&t&&(e.xp6(9),e.Q6J("ngIf",!n.loading),e.xp6(6),e.Q6J("ngModel",n.absence_type.name),e.xp6(5),e.Q6J("ngModel",n.absence_type.details),e.xp6(5),e.Q6J("ngModel",n.absence_type.annual_limit),e.xp6(5),e.Q6J("ngModel",n.absence_type.duration_limit),e.xp6(5),e.Q6J("ngModel",n.absence_type.transferable),e.xp6(5),e.Q6J("ngModel",n.absence_type.transferable_amount),e.xp6(5),e.Q6J("ngModel",n.absence_type.estimate_cost),e.xp6(5),e.Q6J("ngModel",n.absence_type.approval),e.xp6(4),e.Q6J("ngIf",n.loading))},dependencies:[A.sg,A.O5,E.pp,E.ib,E.yz,E.yK,E.u4,Z.Hw,l.KE,l.hX,m.Nt,r.Fj,r.JJ,r.On,D.lW],styles:['.panel[_ngcontent-%COMP%] {\n  margin-top: 10px;\n}\n\n.example-action-buttons[_ngcontent-%COMP%] {\n  padding-bottom: 20px;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%] {\n  flex-basis: 0;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%] {\n  justify-content: end;\n  align-items: center;\n}\n\n.mat-expansion-panel-header-description[_ngcontent-%COMP%]    > .mat-icon[_ngcontent-%COMP%] {\n  margin-left: 3%;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]    + .mat-form-field[_ngcontent-%COMP%] {\n  margin-left: 8px;\n}\n\n.loader[_ngcontent-%COMP%] {\n  top: calc(50% - 5px);\n  left: calc(50% - 5px);\n  position: absolute !important;\n}\n\n\n\n.loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:before, .loader[_ngcontent-%COMP%]:after {\n  position: relative;\n  display: inline-block;\n  width: 20px;\n  height: 50px;\n  background-color: rgba(215, 230, 240, 0.9);\n  border: 1px solid rgb(215, 230, 240);\n  z-index: 100000;\n  content: " ";\n  margin-left: -5px;\n  margin-right: -9px;\n}\n\n.loader[_ngcontent-%COMP%]:before {\n  top: -11px;\n  left: -100%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) infinite;\n}\n\n.loader[_ngcontent-%COMP%] {\n  animation: loading-main 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.2s infinite;\n}\n\n.loader[_ngcontent-%COMP%]:after {\n  top: -11px;\n  right: -100%;\n  margin-top: 50%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.4s infinite;\n}\n\n@keyframes loading {\n  from {\n    transform: scaleY(1.4);\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n\n@keyframes loading-main {\n  from {\n    padding-top: 10px;\n    padding-bottom: 10px;\n    margin-top: -10px;\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n\n.no-records[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 3%;\n  grid-column: 1/span 5;\n}',".content[_ngcontent-%COMP%] {\n  display: grid;\n  column-gap: 1%;\n  grid-template-columns: minmax(100px, 20%) minmax(100px, 40%) minmax(100px, 40%) minmax(100px, 10%) minmax(130px, 20%) minmax(130px, 20%) minmax(130px, 20%);\n  grid-auto-flow: column;\n  border-bottom: 1px solid #e5e5e5;\n}\n.content[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\n  height: 100%;\n  padding: 12px 8px;\n  vertical-align: middle;\n  flex-wrap: wrap;\n}\n.content[_ngcontent-%COMP%]:hover {\n  background-color: #f5f5f5;\n  font-weight: 450;\n}\n.content[_ngcontent-%COMP%]:hover   .profile-icon[_ngcontent-%COMP%] {\n  color: #555555;\n}\n.content[_ngcontent-%COMP%]:hover   .export-icon[_ngcontent-%COMP%] {\n  color: #555555;\n}\n.content[_ngcontent-%COMP%]:hover   .remove[_ngcontent-%COMP%] {\n  color: #f44336;\n}\n.content[_ngcontent-%COMP%]:hover   .edit[_ngcontent-%COMP%] {\n  color: #9c27b0;\n}\n.content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  column-gap: 2%;\n  font-size: 0.95rem;\n  font-weight: 500;\n}\n.content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover {\n  background-color: #ececec;\n  cursor: pointer;\n}"]}),i})();function _s(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"mat-option",11)(2,"strong"),e._uU(3),e.qZA()(),e.BQk()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id)("selected",1===t.id),e.xp6(2),e.Oqu(t.name)}}function ms(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"mat-option",11)(2,"strong"),e._uU(3),e.qZA(),e._uU(4),e.qZA(),e.BQk()),2&i){const t=s.$implicit,n=e.oxw();e.xp6(1),e.Q6J("value",t.id)("selected",n.absence.employee_id),e.xp6(2),e.AsE("",t.first_name," ",t.last_name," "),e.xp6(1),e.lnq(" ",t.position," - ",t.department," (",t.location,") ")}}let gs=(()=>{class i{constructor(t,n,o,a,_,N,R,K){this.data=t,this.dialogRef=n,this.employees_service=o,this.absence_types_service=a,this.absences_archive_service=_,this.fb=N,this.swal_service=R,this.datepipe=K,this.filter="",this.employees=[],this.absence={type_id:"",employee_id:"",days:"",due_date:""},this.form=this.fb.group({type_id:["",[r.kI.required]],employee_id:["",[r.kI.required]],days:["",[r.kI.required]],due_date:["",[r.kI.required]]})}ngOnInit(){this.getAbsenceTypes(),this.getEmployees()}getEmployees(){this.employees_service.getEmployees().subscribe(t=>{console.log(t),this.employees=t})}getAbsenceTypes(){this.absence_types_service.get().subscribe(t=>{console.log(t),this.absence_types=t})}filtering(t){this.filter=String(t)}add(){console.log(this.form.valid),console.log(this.absence),this.form.valid&&(this.absence.due_date=this.datepipe.transform(this.absence.due_date,"YYYY-MM-dd"),this.absences_archive_service.add(this.absence).subscribe(t=>{t?this.dialogRef.close(this.getResponseData()):this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u044f\u043d\u0435\u0442\u043e \u043d\u0430 \u0437\u0430\u043f\u0438\u0441a:"+t})},t=>{this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u044f\u043d\u0435\u0442\u043e \u043d\u0430 \u0437\u0430\u043f\u0438\u0441a: "+t.message})}))}getResponseData(){return{absence:this.absence,employee:this.employees.filter(t=>t.id==this.absence.employee_id)}}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.WI),e.Y36(d.so),e.Y36(ee),e.Y36(ce),e.Y36(de),e.Y36(r.QS),e.Y36(P.J),e.Y36(A.uU))},i.\u0275cmp=e.Xpm({type:i,selectors:[["absences-archive-register"]],decls:27,vars:11,consts:[[3,"formGroup"],["appearance","fill"],["formControlName","type_id",3,"ngModel","ngModelChange"],[4,"ngFor","ngForOf"],["formControlName","employee_id",3,"ngModel","ngModelChange"],["matInput","","placeholder","\u0422\u044a\u0440\u0441\u0435\u043d\u0435 \u043f\u043e \u0438\u043c\u0435, \u0444\u0430\u043c\u0438\u043b\u0438\u044f, \u0434\u043b\u044a\u0436\u043d\u043e\u0441\u0442, \u0434\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442, \u043b\u043e\u043a\u0430\u0446\u0438\u044f...",3,"keyup"],["formControlName","days","matInput","","type","number","placeholder","\u0414\u043d\u0438",3,"ngModel","ngModelChange"],["appearance","fill",1,"example-full-width",3,"click"],["matInput","","formControlName","due_date",3,"matDatepicker","ngModel","ngModelChange"],["picker",""],[1,"btn","btn-info","btn-block","btn-fill",3,"click"],[3,"value","selected"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"mat-dialog-content")(1,"form",0)(2,"mat-form-field",1)(3,"mat-label"),e._uU(4,"\u0412\u0438\u0434 \u043e\u0442\u043f\u0443\u0441\u043a"),e.qZA(),e.TgZ(5,"mat-select",2),e.NdJ("ngModelChange",function(_){return n.absence.type_id=_}),e.YNc(6,_s,4,3,"ng-container",3),e.qZA()(),e.TgZ(7,"mat-form-field",1)(8,"mat-label"),e._uU(9,"\u0418\u0437\u0431\u0435\u0440\u0438 \u0441\u043b\u0443\u0436\u0438\u0442\u0435\u043b"),e.qZA(),e.TgZ(10,"mat-select",4),e.NdJ("ngModelChange",function(_){return n.absence.employee_id=_}),e.TgZ(11,"mat-form-field")(12,"input",5),e.NdJ("keyup",function(_){return n.filtering(_.target.value)}),e.qZA()(),e.YNc(13,ms,5,7,"ng-container",3),e.ALo(14,"searchEmployees"),e.qZA()(),e.TgZ(15,"mat-form-field",1)(16,"mat-label"),e._uU(17,"\u041e\u0441\u0442\u0430\u0432\u0430\u0449\u0438 \u0434\u043d\u0438"),e.qZA(),e.TgZ(18,"input",6),e.NdJ("ngModelChange",function(_){return n.absence.days=_}),e.qZA()(),e.TgZ(19,"mat-form-field",7),e.NdJ("click",function(){e.CHM(o);const _=e.MAs(24);return e.KtG(_.open())}),e.TgZ(20,"mat-label"),e._uU(21,"\u0414\u043e \u0434\u0430\u0442\u0430"),e.qZA(),e.TgZ(22,"input",8),e.NdJ("ngModelChange",function(_){return n.absence.due_date=_}),e.qZA(),e._UZ(23,"mat-datepicker",null,9),e.qZA(),e.TgZ(25,"button",10),e.NdJ("click",function(){return n.add()}),e._uU(26," \u0414\u043e\u0431\u0430\u0432\u0438 "),e.qZA()()()}if(2&t){const o=e.MAs(24);e.xp6(1),e.Q6J("formGroup",n.form),e.xp6(4),e.Q6J("ngModel",n.absence.type_id),e.xp6(1),e.Q6J("ngForOf",n.absence_types),e.xp6(4),e.Q6J("ngModel",n.absence.employee_id),e.xp6(3),e.Q6J("ngForOf",e.xi3(14,8,n.employees,n.filter)),e.xp6(5),e.Q6J("ngModel",n.absence.days),e.xp6(4),e.Q6J("matDatepicker",o)("ngModel",n.absence.due_date)}},dependencies:[A.sg,l.KE,l.hX,m.Nt,d.xY,r._Y,r.Fj,r.wV,r.JJ,r.JL,r.sg,r.u,ne.gD,X.ey,G.Mq,G.hl,qe],styles:["absences-archive-register[_ngcontent-%COMP%] {\n  display: flex;\n}"]}),i})();function fs(i,s){1&i&&e._UZ(0,"div",7)}function hs(i,s){1&i&&(e.TgZ(0,"th",26),e._uU(1," First name "),e.qZA())}function vs(i,s){if(1&i&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.first_name,"")}}function bs(i,s){1&i&&(e.TgZ(0,"th",26),e._uU(1," Last name "),e.qZA())}function ys(i,s){if(1&i&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.last_name,"")}}function xs(i,s){1&i&&(e.TgZ(0,"th",26),e._uU(1," Position "),e.qZA())}function Zs(i,s){if(1&i&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.position," ")}}function Cs(i,s){1&i&&(e.TgZ(0,"th",26),e._uU(1," Department "),e.qZA())}function Ts(i,s){if(1&i&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.department," ")}}function As(i,s){1&i&&(e.TgZ(0,"th",26),e._uU(1," Location "),e.qZA())}function ws(i,s){if(1&i&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.location," ")}}function qs(i,s){1&i&&(e.TgZ(0,"th",26),e._uU(1," Type "),e.qZA())}function Ms(i,s){if(1&i&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function Ps(i,s){1&i&&(e.TgZ(0,"th",26),e._uU(1," Due date "),e.qZA())}function Us(i,s){if(1&i&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.due_date," ")}}function ks(i,s){1&i&&(e.TgZ(0,"th",26),e._uU(1," Days "),e.qZA())}function Ds(i,s){if(1&i&&(e.TgZ(0,"td",27),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.days," ")}}function Os(i,s){1&i&&e._UZ(0,"tr",28)}function Fs(i,s){1&i&&e._UZ(0,"tr",29)}function Es(i,s){if(1&i&&(e.TgZ(0,"tr",30)(1,"td",31),e._uU(2),e.qZA()()),2&i){e.oxw();const t=e.MAs(5);e.xp6(2),e.hij('No data matching the filter "',t.value,'"')}}const Ns=function(){return[5,10,25,100]};function Js(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"mat-form-field",8)(2,"mat-label"),e._uU(3,"Filter"),e.qZA(),e.TgZ(4,"input",9,10),e.NdJ("keyup",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.applyFilter(o))}),e.qZA()(),e.TgZ(6,"table",11),e.ynx(7,12),e.YNc(8,hs,2,0,"th",13),e.YNc(9,vs,2,1,"td",14),e.BQk(),e.ynx(10,15),e.YNc(11,bs,2,0,"th",13),e.YNc(12,ys,2,1,"td",14),e.BQk(),e.ynx(13,16),e.YNc(14,xs,2,0,"th",13),e.YNc(15,Zs,2,1,"td",14),e.BQk(),e.ynx(16,17),e.YNc(17,Cs,2,0,"th",13),e.YNc(18,Ts,2,1,"td",14),e.BQk(),e.ynx(19,18),e.YNc(20,As,2,0,"th",13),e.YNc(21,ws,2,1,"td",14),e.BQk(),e.ynx(22,19),e.YNc(23,qs,2,0,"th",13),e.YNc(24,Ms,2,1,"td",14),e.BQk(),e.ynx(25,20),e.YNc(26,Ps,2,0,"th",13),e.YNc(27,Us,2,1,"td",14),e.BQk(),e.ynx(28,21),e.YNc(29,ks,2,0,"th",13),e.YNc(30,Ds,2,1,"td",14),e.BQk(),e.YNc(31,Os,1,0,"tr",22),e.YNc(32,Fs,1,0,"tr",23),e.YNc(33,Es,3,1,"tr",24),e.qZA(),e._UZ(34,"mat-paginator",25),e.BQk()}if(2&i){const t=e.oxw();e.xp6(6),e.Q6J("dataSource",t.absence_archive),e.xp6(25),e.Q6J("matHeaderRowDef",t.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",t.displayedColumns),e.xp6(2),e.Q6J("pageSizeOptions",e.DdM(4,Ns))}}function Ys(i,s){1&i&&(e.TgZ(0,"div",32)(1,"h3"),e._uU(2," \u041d\u044f\u043c\u0430\u0442\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d\u0438 \u0437\u0430\u043f\u0438\u0441\u0438. "),e.qZA()())}let Is=(()=>{class i{constructor(t,n,o,a,_,N,R){this.employees_service=t,this.absence_types_service=n,this.absences_service=o,this.absences_archive_service=a,this.datepipe=_,this.swal_service=N,this.dialog=R,this.loading=!0,this.employees=[],this.displayedColumns=["first_name","last_name","position","department","location","name","due_date","days"],this.absence_types=[],this.absence={type:"",employee_id:"",days:""}}ngAfterViewInit(){this.getArchive(),this.getAbsenceTypes(),this.getEmployees(),this.loading=!1}getArchive(){this.absences_archive_service.get().subscribe(t=>{this.absence_archive=new k.by(t),this.absence_archive.paginator=this.paginator,this.absence_archive.sort=this.sort,console.log(t)})}applyFilter(t){this.absence_archive.filter=t.target.value.trim().toLowerCase(),this.absence_archive.paginator&&this.absence_archive.paginator.firstPage()}getEmployees(){this.employees_service.getEmployees().subscribe(t=>{this.employees=t})}getAbsenceTypes(){this.absence_types_service.get().subscribe(t=>{this.absence_types=t})}add(){this.dialog.open(gs,{data:{},autoFocus:!1,disableClose:!1}).afterClosed().subscribe(n=>{})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ee),e.Y36(ce),e.Y36(U),e.Y36(de),e.Y36(A.uU),e.Y36(P.J),e.Y36(d.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["absences-archive"]],viewQuery:function(t,n){if(1&t&&(e.Gf(E.pp,5),e.Gf(le.NW,5),e.Gf(te.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.accordion=o.first),e.iGM(o=e.CRH())&&(n.paginator=o.first),e.iGM(o=e.CRH())&&(n.sort=o.first)}},decls:16,vars:2,consts:[["multi","",1,"example-headers-align"],["expanded",""],[1,"col-md-2"],[1,"btn","btn-info","btn-block","btn-fill","add-new",3,"click"],["class","loader",4,"ngIf"],[4,"ngIf"],["no_records",""],[1,"loader"],["appearance","standard"],["matInput","","placeholder","Ex. Mia",3,"keyup"],["input",""],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","first_name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","last_name"],["matColumnDef","position"],["matColumnDef","department"],["matColumnDef","location"],["matColumnDef","name"],["matColumnDef","due_date"],["matColumnDef","days"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["class","mat-row",4,"matNoDataRow"],["aria-label","Select page of users",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-header-row",""],["mat-row",""],[1,"mat-row"],[1,"mat-cell"],[1,"no-records"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-accordion",0)(1,"mat-expansion-panel",1)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4," \u041e\u0442\u043f\u0443\u0441\u043a/\u0410\u0440\u0445\u0438\u0432 "),e.qZA(),e.TgZ(5,"mat-panel-description"),e._uU(6," \u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435/\u041f\u0440\u0435\u043c\u0430\u0445\u0432\u0430\u043d\u0435 "),e.TgZ(7,"mat-icon"),e._uU(8,"dashboard"),e.qZA()()(),e.TgZ(9,"div",2)(10,"button",3),e.NdJ("click",function(){return n.add()}),e._uU(11," \u041d\u043e\u0432 \u043e\u0442\u043f\u0443\u0441\u043a "),e.qZA()(),e.YNc(12,fs,1,0,"div",4),e.YNc(13,Js,35,5,"ng-container",5),e.qZA()(),e.YNc(14,Ys,3,0,"ng-template",null,6,e.W1O)),2&t&&(e.xp6(12),e.Q6J("ngIf",n.loading),e.xp6(1),e.Q6J("ngIf",!n.loading))},dependencies:[A.O5,E.pp,E.ib,E.yz,E.yK,E.u4,Z.Hw,l.KE,l.hX,m.Nt,k.BZ,k.fO,k.as,k.w1,k.Dz,k.nj,k.ge,k.ev,k.XQ,k.Gk,k.Ee,te.YE,te.nU,le.NW],styles:['table[_ngcontent-%COMP%] {\n  width: 100%;\n}\n\n.mat-form-field[_ngcontent-%COMP%] {\n  font-size: 14px;\n  width: 100%;\n}\n\ntable[_ngcontent-%COMP%] {\n  width: 100%;\n}\n\n.mat-form-field[_ngcontent-%COMP%] {\n  font-size: 14px;\n  width: 100%;\n}\n\n.loader[_ngcontent-%COMP%] {\n  top: calc(50% - 5px);\n  left: calc(50% - 5px);\n  position: absolute !important;\n}\n\n\n\n.loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:before, .loader[_ngcontent-%COMP%]:after {\n  position: relative;\n  display: inline-block;\n  width: 20px;\n  height: 50px;\n  background-color: rgba(215, 230, 240, 0.9);\n  border: 1px solid rgb(215, 230, 240);\n  z-index: 100000;\n  content: " ";\n  margin-left: -5px;\n  margin-right: -9px;\n}\n\n.loader[_ngcontent-%COMP%]:before {\n  top: -11px;\n  left: -100%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) infinite;\n}\n\n.loader[_ngcontent-%COMP%] {\n  animation: loading-main 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.2s infinite;\n}\n\n.loader[_ngcontent-%COMP%]:after {\n  top: -11px;\n  right: -100%;\n  margin-top: 50%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.4s infinite;\n}\n\n@keyframes loading {\n  from {\n    transform: scaleY(1.4);\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n\n@keyframes loading-main {\n  from {\n    padding-top: 10px;\n    padding-bottom: 10px;\n    margin-top: -10px;\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n\n.no-records[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 3%;\n  grid-column: 1/span 5;\n}']}),i})(),ge=(()=>{class i{constructor(t,n){this.http=t,this.url=n,this.api_url=this.url.api_url+"/official-holidays",this.updateDataChange=new w.x}updateData(t){this.updateDataChange.next(t)}get(){return this.http.get(this.api_url).pipe((0,C.b)(t=>{}),(0,T.K)(t=>{throw new L.y(t)}))}store(t){return this.http.post(this.api_url,t).pipe((0,C.b)(n=>{n?.id&&this.updateData({response:n})}),(0,T.K)(n=>{throw new L.y(n)}))}update(t,n){return this.http.put(this.api_url+"/"+n,t).pipe((0,C.b)(o=>{o?.id&&this.updateData(o)}),(0,T.K)(o=>{throw new L.y(o)}))}delete(t){return this.http.delete(this.api_url+"/"+t).pipe((0,C.b)(n=>{}),(0,T.K)(n=>{throw new L.y(n)}))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(J.eN),e.LFG(M.e))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function Qs(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Name is required"),e.qZA())}function Ss(i,s){1&i&&(e.TgZ(0,"mat-error"),e._uU(1,"Invalid date"),e.qZA())}const Ve="form[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n}\nform[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%] {\n  margin-right: 10px; \n  flex: 1; \n}\nform[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n  margin-top: 10px; \n}";let Bs=(()=>{class i{constructor(t,n,o){this.holidays_service=t,this.swal_service=n,this.datepipe=o,this.holidayForm=new r.cw({id:new r.NI(null),date:new r.NI(null,[r.kI.required]),name:new r.NI("",[r.kI.required])})}ngOnInit(){this.holiday&&this.holidayForm.patchValue(this.holiday)}submitForm(){this.holidayForm.invalid||(this.holidayForm.patchValue({date:this.datepipe.transform(this.holidayForm.get("date").value,"YYYY-MM-dd")}),this.holidayForm.get("id").value?this.update():this.store())}store(){this.swal_service.loader(),this.holidays_service.store(this.holidayForm.value).subscribe(t=>{t.id?this.swal_service.success({text:"\u0417\u0430\u043f\u0438\u0441\u0430 \u0431\u0435\u0448\u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d"}):this.swal_service.error({text:"\u0417\u0430\u043f\u0438\u0441\u0430 \u043d\u0435 \u0435 \u0434\u043e\u0431\u0430\u0432\u0435\u043d"})},t=>{this.swal_service.error({title:`${t.title()}`,text:`${t.message()}`})})}update(){this.swal_service.loader(),this.holidays_service.update(this.holidayForm.value,this.holiday.id).subscribe(t=>{t.id?this.swal_service.success({text:"\u0417\u0430\u043f\u0438\u0441\u0430 \u0431\u0435\u0448\u0435 \u043e\u0431\u043d\u043e\u0432\u0435\u043d"}):this.swal_service.error({text:"\u0417\u0430\u043f\u0438\u0441\u0430 \u043d\u0435 \u0435 \u043e\u0431\u043d\u043e\u0432\u0435\u043d"})},t=>{this.swal_service.error({title:`${t.title()}`,text:`${t.message()}`})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ge),e.Y36(P.J),e.Y36(A.uU))},i.\u0275cmp=e.Xpm({type:i,selectors:[["add-holiday"]],inputs:{holiday:"holiday"},decls:14,vars:6,consts:[[3,"formGroup"],["appearance","fill"],["matInput","","formControlName","name","placeholder","Name"],[4,"ngIf"],["matInput","","formControlName","date","placeholder","Select a date",3,"matDatepicker"],["matSuffix","",3,"for"],["picker",""],["mat-raised-button","","color","primary",3,"disabled","click"]],template:function(t,n){if(1&t&&(e.TgZ(0,"form",0)(1,"mat-form-field",1),e._UZ(2,"input",2),e.YNc(3,Qs,2,0,"mat-error",3),e.qZA(),e.TgZ(4,"mat-form-field",1)(5,"mat-label"),e._uU(6,"Select a date"),e.qZA(),e._UZ(7,"input",4)(8,"mat-datepicker-toggle",5)(9,"mat-datepicker",null,6),e.YNc(11,Ss,2,0,"mat-error",3),e.qZA(),e.TgZ(12,"button",7),e.NdJ("click",function(){return n.submitForm()}),e._uU(13,"Submit"),e.qZA()()),2&t){const o=e.MAs(10);e.Q6J("formGroup",n.holidayForm),e.xp6(3),e.Q6J("ngIf",n.holidayForm.controls.name.hasError("required")),e.xp6(4),e.Q6J("matDatepicker",o),e.xp6(1),e.Q6J("for",o),e.xp6(3),e.Q6J("ngIf",n.holidayForm.controls.date.hasError("matDatepickerParse")),e.xp6(1),e.Q6J("disabled",n.holidayForm.invalid)}},dependencies:[A.O5,l.TO,l.KE,l.hX,l.R9,m.Nt,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,G.Mq,G.hl,G.nW,D.lW],styles:[Ve]}),i})(),et=(()=>{class i{constructor(t,n){this.dialogRef=t,this.data=n,this.holiday=n?.holiday??""}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.so),e.Y36(d.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:2,vars:1,consts:[[3,"holiday"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-dialog-content"),e._UZ(1,"add-holiday",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("holiday",n.holiday))},dependencies:[d.xY,Bs],styles:[Ve]}),i})();function Rs(i,s){1&i&&(e.TgZ(0,"th",10),e._uU(1," \u0418\u043c\u0435 "),e.qZA())}function Ls(i,s){if(1&i&&(e.TgZ(0,"td",11),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.name,"")}}function Gs(i,s){1&i&&(e.TgZ(0,"th",10),e._uU(1," \u0414\u0430\u0442\u0430 "),e.qZA())}function $s(i,s){if(1&i&&(e.TgZ(0,"td",11),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.hij(" ",t.date,"")}}function Hs(i,s){1&i&&(e.TgZ(0,"th",10),e._uU(1," \u0415\u043a\u0448\u044a\u043d\u0441\u0441\u0441 "),e.qZA())}function zs(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"td",11)(1,"button",12),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.editHoliday(a))}),e.TgZ(2,"mat-icon"),e._uU(3,"edit"),e.qZA()(),e.TgZ(4,"button",13),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.deleteHoliday(a.id))}),e.TgZ(5,"mat-icon"),e._uU(6,"delete"),e.qZA()()()}}function js(i,s){1&i&&e._UZ(0,"tr",14)}function Ks(i,s){1&i&&e._UZ(0,"tr",15)}const Xs=function(){return[5,10,25,100]};let Ws=(()=>{class i{constructor(t,n,o){this.holidays_service=t,this.swal_service=n,this.dialog=o,this.displayedColumns=["name","date","actions"],this.dataSource=new k.by(this.official_holidays),this.holidays_service.get().subscribe(a=>{this.official_holidays=a}),this.subscribe()}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.dataSource.sort=this.sort}editHoliday(t){this.dialog.open(et,{data:{holiday:t}})}deleteHoliday(t){this.holidays_service.delete(t).subscribe(n=>{this.swal_service.success({text:"\u0417\u0430\u043f\u0438\u0441\u0430 \u0431\u0435\u0448\u0435 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442"}),this.official_holidays=this.official_holidays.filter(o=>o.id!==t),this.updateTableData()},n=>{this.swal_service.error({title:`${n.title()}`,text:`${n.message()}`})})}updateTableData(){this.holidays_service.get().subscribe(t=>{this.official_holidays=t,this.dataSource=new k.by(this.official_holidays)})}add(){this.dialog.open(et,{})}subscribe(){this.subscriptionUpdate=this.holidays_service.updateDataChange.subscribe(t=>{const n=this.official_holidays.findIndex(o=>o.id===t.id);-1!==n?(this.official_holidays[n]=t,this.updateTableData()):(this.official_holidays.push(t),this.updateTableData())})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(ge),e.Y36(P.J),e.Y36(d.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["official-holidays-list"]],viewQuery:function(t,n){if(1&t&&(e.Gf(le.NW,5),e.Gf(te.YE,5)),2&t){let o;e.iGM(o=e.CRH())&&(n.paginator=o.first),e.iGM(o=e.CRH())&&(n.sort=o.first)}},decls:15,vars:5,consts:[["mat-raised-button","","color","primary",3,"click"],["mat-table","","matSort","",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","","mat-sort-header","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","date"],["matColumnDef","actions"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["aria-label","Select page of data",3,"pageSizeOptions"],["mat-header-cell","","mat-sort-header",""],["mat-cell",""],["mat-icon-button","","color","primary",3,"click"],["mat-icon-button","","color","warn",3,"click"],["mat-header-row",""],["mat-row",""]],template:function(t,n){1&t&&(e.TgZ(0,"button",0),e.NdJ("click",function(){return n.add()}),e._uU(1,"New record"),e.qZA(),e.TgZ(2,"table",1),e.ynx(3,2),e.YNc(4,Rs,2,0,"th",3),e.YNc(5,Ls,2,1,"td",4),e.BQk(),e.ynx(6,5),e.YNc(7,Gs,2,0,"th",3),e.YNc(8,$s,2,1,"td",4),e.BQk(),e.ynx(9,6),e.YNc(10,Hs,2,0,"th",3),e.YNc(11,zs,7,0,"td",4),e.BQk(),e.YNc(12,js,1,0,"tr",7),e.YNc(13,Ks,1,0,"tr",8),e.qZA(),e._UZ(14,"mat-paginator",9)),2&t&&(e.xp6(2),e.Q6J("dataSource",n.official_holidays),e.xp6(10),e.Q6J("matHeaderRowDef",n.displayedColumns),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns),e.xp6(1),e.Q6J("pageSizeOptions",e.DdM(4,Xs)))},dependencies:[Z.Hw,k.BZ,k.fO,k.as,k.w1,k.Dz,k.nj,k.ge,k.ev,k.XQ,k.Gk,te.YE,te.nU,le.NW,D.lW]}),i})(),Vs=(()=>{class i{constructor(t){this.dialog=t}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["official-holidays"]],viewQuery:function(t,n){if(1&t&&e.Gf(E.pp,5),2&t){let o;e.iGM(o=e.CRH())&&(n.accordion=o.first)}},decls:10,vars:0,consts:[["multi","",1,"example-headers-align"],["expanded",""]],template:function(t,n){1&t&&(e.TgZ(0,"mat-accordion",0)(1,"mat-expansion-panel",1)(2,"mat-expansion-panel-header")(3,"mat-panel-title"),e._uU(4," \u041e\u0444\u0438\u0446\u0438\u0430\u043b\u043d\u0438 \u043f\u043e\u0447\u0438\u0432\u043d\u0438 \u0434\u043d\u0438 "),e.qZA(),e.TgZ(5,"mat-panel-description"),e._uU(6," \u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435/\u041f\u0440\u0435\u043c\u0430\u0445\u0432\u0430\u043d\u0435 "),e.TgZ(7,"mat-icon"),e._uU(8,"date_range"),e.qZA()()(),e._UZ(9,"official-holidays-list"),e.qZA()())},dependencies:[E.pp,E.ib,E.yz,E.yK,E.u4,Z.Hw,Ws],styles:['.panel[_ngcontent-%COMP%] {\n  margin-top: 10px;\n}\n\n.example-action-buttons[_ngcontent-%COMP%] {\n  padding-bottom: 20px;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%] {\n  flex-basis: 0;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%] {\n  justify-content: end;\n  align-items: center;\n}\n\n.mat-expansion-panel-header-description[_ngcontent-%COMP%]    > .mat-icon[_ngcontent-%COMP%] {\n  margin-left: 3%;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]    + .mat-form-field[_ngcontent-%COMP%] {\n  margin-left: 8px;\n}\n\n.loader[_ngcontent-%COMP%] {\n  top: calc(50% - 5px);\n  left: calc(50% - 5px);\n  position: absolute !important;\n}\n\n\n\n.loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:before, .loader[_ngcontent-%COMP%]:after {\n  position: relative;\n  display: inline-block;\n  width: 20px;\n  height: 50px;\n  background-color: rgba(215, 230, 240, 0.9);\n  border: 1px solid rgb(215, 230, 240);\n  z-index: 100000;\n  content: " ";\n  margin-left: -5px;\n  margin-right: -9px;\n}\n\n.loader[_ngcontent-%COMP%]:before {\n  top: -11px;\n  left: -100%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) infinite;\n}\n\n.loader[_ngcontent-%COMP%] {\n  animation: loading-main 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.2s infinite;\n}\n\n.loader[_ngcontent-%COMP%]:after {\n  top: -11px;\n  right: -100%;\n  margin-top: 50%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.4s infinite;\n}\n\n@keyframes loading {\n  from {\n    transform: scaleY(1.4);\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n\n@keyframes loading-main {\n  from {\n    padding-top: 10px;\n    padding-bottom: 10px;\n    margin-top: -10px;\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n\n.no-records[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 3%;\n  grid-column: 1/span 5;\n}']}),i})();var Me=(()=>{return(i=Me||(Me={})).CREATED="CREATED",i.CHANGED="CHANGED",i.APPROVED="APPROVED",i.DECLINED="DECLINED",Me;var i})(),Pe=(()=>{return(i=Pe||(Pe={})).CREATED="\u0421\u042a\u0417\u0414\u0410\u0414\u0415\u041d\u0410",i.CHANGED="\u041f\u0420\u041e\u041c\u0415\u041d\u0415\u041d\u0410",i.APPROVED="\u041e\u0414\u041e\u0411\u0420\u0415\u041d\u0410",i.DECLINED="\u041e\u0422\u041a\u0410\u0417\u0410\u041d\u0410",Pe;var i})();let tt=(()=>{class i{constructor(t,n){this.http=t,this.url=n,this.api_url=this.url.api_url+"/notifications"}get(){return this.http.get(this.api_url)}add(t,n,o){return this.http.post(this.api_url,{category:t,action:n,email:o})}delete(t){return this.http.delete(this.api_url+"/"+t)}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(J.eN),e.LFG(M.e))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();var nt=I(7957);function ea(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-chip",11),e.NdJ("removed",function(){const a=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.remove(a))}),e.TgZ(1,"span"),e._uU(2),e.TgZ(3,"button",12)(4,"mat-icon"),e._uU(5,"close"),e.qZA()()()()}if(2&i){const t=s.$implicit;e.xp6(2),e.lnq(" ",t.first_name," ",t.last_name," (",t.email,") ")}}function ta(i,s){if(1&i&&(e.ynx(0),e.YNc(1,ea,6,3,"mat-chip",10),e.BQk()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.notification_list)}}function na(i,s){1&i&&(e.TgZ(0,"p"),e._uU(1,"\u041d\u044f\u043c\u0430 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d\u0438 \u0437\u0430\u043f\u0438\u0441\u0438"),e.qZA())}function ia(i,s){if(1&i&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.lnq(" ",t.first_name," ",t.last_name," (",t.email,") ")}}let oa=(()=>{class i{constructor(t,n){this.notifications_service=t,this.swal_service=n,this.AbsenceActionMapper=Pe,this.settingsControl=new r.NI,this.filteredEmployees=[]}ngOnInit(){this.settingsControl.valueChanges.subscribe(t=>{this.filteredEmployees=this.filterEmployees(t)}),setTimeout(()=>{this.initEmployeeSelector()},1e3)}initEmployeeSelector(){this.filteredEmployees=this.notification_list?this.employees.filter(t=>!this.notification_list.some(n=>n.email.toLowerCase()===t.email.toLowerCase())):[...this.employees]}filterEmployees(t){if("string"!=typeof t)return[];const n=t.toLowerCase();return this.notification_list?this.employees.filter(o=>(o.first_name.toLowerCase()+" "+o.last_name.toLowerCase()+" "+o.email.toLowerCase()).includes(n)).filter(o=>!this.notification_list.some(a=>a.email.toLowerCase()===o.email.toLowerCase())):this.employees.filter(o=>(o.first_name.toLowerCase()+" "+o.last_name.toLowerCase()+" "+o.email.toLowerCase()).includes(n))}add(t){this.settingsControl.setValue("");const n=t.option.value;this.cleanUpFilteredEmployeesDropdown(n);const o=this.setNotificationSettings(n);this.notification_list??(this.notification_list=[]),this.notification_list.push(o),this.notifications_service.add(this.category,this.action,t.option.value.email).subscribe(a=>{if(a&&a.id){const _=this.notification_list.indexOf(o);-1!==_&&(this.notification_list[_].id=a.id)}else this.swal_service.error({text:"Contact cannot be added."}),this.filteredEmployees.push(n),this.remove(o)},a=>{this.swal_service.error({text:a.error.error}),this.filteredEmployees.push(n)})}setNotificationSettings(t){return{employee_id:t.id,first_name:t.first_name,last_name:t.last_name,email:t.email}}cleanUpFilteredEmployeesDropdown(t){const n=this.filteredEmployees.indexOf(t);-1!==n&&this.filteredEmployees.splice(n,1)}remove(t){const n=this.notification_list.indexOf(t);this.notifications_service.delete(t.id).subscribe(o=>{o?this.notification_list.splice(n,1):this.swal_service.error({text:"Contact cannot be removed."})},o=>{this.swal_service.error({text:o.error.error})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(tt),e.Y36(P.J))},i.\u0275cmp=e.Xpm({type:i,selectors:[["notification-controller"]],inputs:{action:"action",notification_list:"notification_list",employees:"employees",category:"category"},decls:15,vars:6,consts:[["appearance","fill",1,"example-chip-list"],["aria-label","Employee selection"],["chipList",""],[4,"ngIf","ngIfElse"],["noRecords",""],[1,"flex-item"],["type","text","matInput","",3,"formControl","matAutocomplete"],[3,"optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[3,"removed",4,"ngFor","ngForOf"],[3,"removed"],["matChipRemove",""],[3,"value"]],template:function(t,n){if(1&t&&(e.TgZ(0,"h3"),e._uU(1),e.qZA(),e.TgZ(2,"mat-form-field",0)(3,"mat-chip-list",1,2),e.YNc(5,ta,2,1,"ng-container",3),e.qZA(),e.YNc(6,na,2,0,"ng-template",null,4,e.W1O),e.qZA(),e.TgZ(8,"mat-form-field",5)(9,"mat-label"),e._uU(10,"\u0421\u043b\u0443\u0436\u0438\u0442\u0435\u043b"),e.qZA(),e._UZ(11,"input",6),e.TgZ(12,"mat-autocomplete",7,8),e.NdJ("optionSelected",function(a){return n.add(a)}),e.YNc(14,ia,2,4,"mat-option",9),e.qZA()()),2&t){const o=e.MAs(7),a=e.MAs(13);e.xp6(1),e.Oqu(n.AbsenceActionMapper[n.action]),e.xp6(4),e.Q6J("ngIf",(null==n.notification_list?null:n.notification_list.length)>0)("ngIfElse",o),e.xp6(6),e.Q6J("formControl",n.settingsControl)("matAutocomplete",a),e.xp6(3),e.Q6J("ngForOf",n.filteredEmployees)}},dependencies:[A.sg,A.O5,Z.Hw,ae.qn,ae.HS,ae.qH,l.KE,l.hX,nt.XC,nt.ZL,X.ey,m.Nt,r.Fj,r.JJ,r.oH],styles:[".mat-chip.mat-standard-chip[_ngcontent-%COMP%] {\n  background-color: #00bcd4;\n  color: rgba(255, 255, 255, 0.87);\n}"]}),i})();function sa(i,s){if(1&i&&(e.TgZ(0,"section"),e._UZ(1,"notification-controller",5)(2,"hr"),e.qZA()),2&i){const t=s.$implicit,n=e.oxw();e.xp6(1),e.Q6J("action",t)("notification_list",null==n.notifications?null:n.notifications[t])("employees",n.employees)("category",n.absence_requests)}}let aa=(()=>{class i{constructor(t,n){this.notifications_service=t,this.employees_service=n,this.absence_actions=Object.values(Me),this.absence_requests="absence_requests"}ngOnInit(){this.notifications_service.get().subscribe(t=>{this.notifications=t.absence_requests}),this.employees_service.getEmployees().subscribe(t=>{this.employees=t})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(tt),e.Y36(ee))},i.\u0275cmp=e.Xpm({type:i,selectors:[["notifications"]],decls:9,vars:1,consts:[[1,"container-fluid"],[1,"panel"],["multi","",1,"example-headers-align"],["expanded",""],[4,"ngFor","ngForOf"],[3,"action","notification_list","employees","category"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-accordion",2)(3,"mat-expansion-panel",3)(4,"mat-expansion-panel-header")(5,"mat-panel-title"),e._uU(6," \u041e\u0442\u043f\u0443\u0441\u043a "),e.qZA(),e._UZ(7,"mat-panel-description"),e.qZA(),e.YNc(8,sa,3,4,"section",4),e.qZA()()()()),2&t&&(e.xp6(8),e.Q6J("ngForOf",n.absence_actions))},dependencies:[A.sg,E.pp,E.ib,E.yz,E.yK,E.u4,oa]}),i})(),ra=(()=>{class i{constructor(t,n){this.fb=t,this.users_service=n}ngOnInit(){this.form=this.fb.group({first_name:["",r.kI.required],last_name:["",r.kI.required],email:["",[r.kI.required,r.kI.email]],password:["",r.kI.required],password_confirmation:["",r.kI.required]})}register(){const t=this.form.getRawValue();this.users_service.register(t).subscribe(n=>{console.log(n)},n=>{console.log(n)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.QS),e.Y36(Io))},i.\u0275cmp=e.Xpm({type:i,selectors:[["settings"]],viewQuery:function(t,n){if(1&t&&e.Gf(E.pp,5),2&t){let o;e.iGM(o=e.CRH())&&(n.accordion=o.first)}},decls:20,vars:0,consts:[[1,"main-content"],[1,"container-fluid"],["label","\u0413\u0435\u043d\u0435\u0440\u0430\u043b\u043d\u0438"],[1,"panel"],["label","\u041e\u0442\u043f\u0443\u0441\u043a"],["label","\u0418\u0437\u0432\u0435\u0441\u0442\u0438\u044f"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"mat-tab-group")(3,"mat-tab",2)(4,"div",3),e._UZ(5,"departments"),e.qZA(),e.TgZ(6,"div",3),e._UZ(7,"positions"),e.qZA(),e.TgZ(8,"div",3),e._UZ(9,"locations"),e.qZA()(),e.TgZ(10,"mat-tab",4)(11,"div",3),e._UZ(12,"official-holidays"),e.qZA(),e.TgZ(13,"div",3),e._UZ(14,"absence-types"),e.qZA(),e.TgZ(15,"div",3),e._UZ(16,"absences-archive"),e.qZA()(),e.TgZ(17,"mat-tab",5)(18,"div",3),e._UZ(19,"notifications"),e.qZA()()()()())},dependencies:[Ce.SP,Ce.uX,Lo,Wo,as,ps,Is,Vs,aa],styles:['.panel[_ngcontent-%COMP%] {\n  margin-top: 10px;\n}\n\n.example-action-buttons[_ngcontent-%COMP%] {\n  padding-bottom: 20px;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%] {\n  flex-basis: 0;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%] {\n  justify-content: end;\n  align-items: center;\n}\n\n.mat-expansion-panel-header-description[_ngcontent-%COMP%]    > .mat-icon[_ngcontent-%COMP%] {\n  margin-left: 3%;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]    + .mat-form-field[_ngcontent-%COMP%] {\n  margin-left: 8px;\n}\n\n.loader[_ngcontent-%COMP%] {\n  top: calc(50% - 5px);\n  left: calc(50% - 5px);\n  position: absolute !important;\n}\n\n\n\n.loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:before, .loader[_ngcontent-%COMP%]:after {\n  position: relative;\n  display: inline-block;\n  width: 20px;\n  height: 50px;\n  background-color: rgba(215, 230, 240, 0.9);\n  border: 1px solid rgb(215, 230, 240);\n  z-index: 100000;\n  content: " ";\n  margin-left: -5px;\n  margin-right: -9px;\n}\n\n.loader[_ngcontent-%COMP%]:before {\n  top: -11px;\n  left: -100%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) infinite;\n}\n\n.loader[_ngcontent-%COMP%] {\n  animation: loading-main 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.2s infinite;\n}\n\n.loader[_ngcontent-%COMP%]:after {\n  top: -11px;\n  right: -100%;\n  margin-top: 50%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.4s infinite;\n}\n\n@keyframes loading {\n  from {\n    transform: scaleY(1.4);\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n\n@keyframes loading-main {\n  from {\n    padding-top: 10px;\n    padding-bottom: 10px;\n    margin-top: -10px;\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n\n.no-records[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 3%;\n  grid-column: 1/span 5;\n}']}),i})(),it=(()=>{class i{constructor(){}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-upgrade"]],decls:84,vars:0,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-8","ml-auto","mr-auto"],[1,"card"],[1,"card-header","card-header-danger"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[1,"table-responsive","table-upgrade"],[1,"table"],[1,"text-center"],[1,"fa","fa-times","text-danger"],[1,"fa","fa-check","text-success"],["href","javascript:void(0)",1,"btn","btn-round","btn-fill","btn-default","disabled"],["target","_blank","href","https://www.creative-tim.com/product/material-dashboard-pro-angular2?ref=md-free-angular-upgrade-live",1,"btn","btn-round","btn-fill","btn-info"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"h4",6),e._uU(7,"Material Dashboard PRO Angular"),e.qZA(),e.TgZ(8,"p",7),e._uU(9,"Are you looking for more components? Please check our Premium Version of Material Dashboard Angular."),e.qZA()(),e.TgZ(10,"div",8)(11,"div",9)(12,"table",10)(13,"thead")(14,"tr"),e._UZ(15,"th"),e.TgZ(16,"th",11),e._uU(17,"Free"),e.qZA(),e.TgZ(18,"th",11),e._uU(19,"PRO"),e.qZA()()(),e.TgZ(20,"tbody")(21,"tr")(22,"td"),e._uU(23,"Components"),e.qZA(),e.TgZ(24,"td",11),e._uU(25,"60"),e.qZA(),e.TgZ(26,"td",11),e._uU(27,"200"),e.qZA()(),e.TgZ(28,"tr")(29,"td"),e._uU(30,"Plugins"),e.qZA(),e.TgZ(31,"td",11),e._uU(32,"2"),e.qZA(),e.TgZ(33,"td",11),e._uU(34,"15"),e.qZA()(),e.TgZ(35,"tr")(36,"td"),e._uU(37,"Example Pages"),e.qZA(),e.TgZ(38,"td",11),e._uU(39,"3"),e.qZA(),e.TgZ(40,"td",11),e._uU(41,"27"),e.qZA()(),e.TgZ(42,"tr")(43,"td"),e._uU(44,"Login, Register, Pricing, Lock Pages"),e.qZA(),e.TgZ(45,"td",11),e._UZ(46,"i",12),e.qZA(),e.TgZ(47,"td",11),e._UZ(48,"i",13),e.qZA()(),e.TgZ(49,"tr")(50,"td"),e._uU(51,"DataTables, VectorMap, SweetAlert, Wizard, jQueryValidation, FullCalendar etc..."),e.qZA(),e.TgZ(52,"td",11),e._UZ(53,"i",12),e.qZA(),e.TgZ(54,"td",11),e._UZ(55,"i",13),e.qZA()(),e.TgZ(56,"tr")(57,"td"),e._uU(58,"Mini Sidebar"),e.qZA(),e.TgZ(59,"td",11),e._UZ(60,"i",12),e.qZA(),e.TgZ(61,"td",11),e._UZ(62,"i",13),e.qZA()(),e.TgZ(63,"tr")(64,"td"),e._uU(65,"Premium Support"),e.qZA(),e.TgZ(66,"td",11),e._UZ(67,"i",12),e.qZA(),e.TgZ(68,"td",11),e._UZ(69,"i",13),e.qZA()(),e.TgZ(70,"tr"),e._UZ(71,"td"),e.TgZ(72,"td",11),e._uU(73,"Free"),e.qZA(),e.TgZ(74,"td",11),e._uU(75,"Just $59"),e.qZA()(),e.TgZ(76,"tr"),e._UZ(77,"td",11),e.TgZ(78,"td",11)(79,"a",14),e._uU(80,"Current Version"),e.qZA()(),e.TgZ(81,"td",11)(82,"a",15),e._uU(83,"Upgrade to PRO"),e.qZA()()()()()()()()()()()())}}),i})(),fe=(()=>{class i{constructor(t,n){this.http=t,this.url=n,this.permissionChange=new w.x,this.api_url=this.url.api_url+"/access/permissions"}setPermission(t){this.permission=t,this.permissionChange.next(this.permission)}deletePermission(t){this.permissionChange.next({delete:!0,id:t})}get(){return this.http.get(this.api_url+"/index").pipe((0,T.K)(t=>{throw t.error.error}))}add(t){return this.http.post(this.api_url+"/store",{permission:t}).pipe((0,C.b)(n=>{n.id&&this.setPermission(n)}),(0,T.K)(n=>{throw n.error.error}))}delete(t){return this.http.delete(this.api_url+`/destroy/${t}`).pipe((0,C.b)(n=>{n&&this.deletePermission(t)}),(0,T.K)(n=>{throw n.error.error}))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(J.eN),e.LFG(M.e))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),he=(()=>{class i{constructor(t,n){this.http=t,this.url=n,this.roleChange=new w.x,this.api_url=this.url.api_url+"/access/roles"}setRole(t){this.role=t,this.roleChange.next(this.role)}deleteRole(t){this.roleChange.next({delete:!0,id:t})}get(){return this.http.get(this.api_url).pipe((0,T.K)(t=>{throw t.error.error}))}add(t){return this.http.post(this.api_url,{role:t}).pipe((0,C.b)(n=>{n.id&&this.setRole(n)}),(0,T.K)(n=>{throw n.error.error}))}delete(t){return this.http.delete(this.api_url+`/${t}`).pipe((0,C.b)(n=>{n&&this.deleteRole(t)}),(0,T.K)(n=>{throw n.error.error}))}roleUsers(t,n){return this.http.put(this.api_url+`/${t}`,{users:n}).pipe((0,C.b)(o=>{o.id&&this.setRole(o)}),(0,T.K)(o=>{throw o.error.error}))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(J.eN),e.LFG(M.e))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})(),Ue=(()=>{class i{constructor(t,n){this.http=t,this.url=n,this.userChange=new w.x,this.api_url=this.url.api_url+"/access/users"}setUser(t){this.user=t,this.userChange.next(this.user)}getUser(){return this.user}get(){return this.http.get(this.api_url).pipe((0,T.K)(t=>{throw t.error.error}))}add(t){return this.http.post(this.api_url,t).pipe((0,C.b)(n=>{n.id&&this.setUser(n)}),(0,T.K)(n=>{throw n.error.error}))}revoke(t){return this.http.delete(this.api_url+`/${t}`).pipe((0,C.b)(n=>{n.id&&this.setUser(n)}),(0,T.K)(n=>{throw n.error.error}))}}return i.\u0275fac=function(t){return new(t||i)(e.LFG(J.eN),e.LFG(M.e))},i.\u0275prov=e.Yz7({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();class ot{constructor(s){this.fb=s,this.formGroup=this.fb.group({id:["",null],name:["",r.kI.required],localized_name:["",r.kI.required],localized_description:["",null]})}}let ua=(()=>{class i{constructor(t,n,o,a,_){this.data=t,this.permissions_service=n,this.swal_service=o,this.fb=a,this.dialogRef=_,this.permission=new ot(this.fb)}ngOnInit(){this.data.permission||(this.swal_service.error({text:"Permission not loaded!"}),this.dialogRef.close()),this.permission.formGroup.patchValue({id:this.data.permission.id,name:this.data.permission.name,localized_name:this.data.permission.localized_name,localized_description:this.data.permission?.localized_description??null})}edit(){this.permission.formGroup.valid?this.permissions_service.add(this.permission.formGroup.getRawValue()).subscribe(t=>{t?this.swal_service.success({text:"\u041f\u0440\u043e\u043c\u0435\u043d\u0438\u0442\u0435 \u0441\u0430 \u0438\u0437\u0432\u044a\u0440\u0448\u0435\u043d\u0438!"}).then(()=>this.dialogRef.close()):this.swal_service.error({title:"\u0413\u0440\u0435\u0448\u043a\u0430"})},t=>{this.swal_service.error({title:"\u0413\u0440\u0435\u0448\u043a\u0430",text:t.error})}):this.permission.formGroup.markAllAsTouched()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.WI),e.Y36(fe),e.Y36(P.J),e.Y36(r.QS),e.Y36(d.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["edit-permission"]],decls:30,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[3,"formGroup"],[1,"content","new-location"],["appearance","fill"],["matInput","","formControlName","localized_name","placeholder","\u041a\u0440\u0430\u0442\u043a\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"],["matInput","","formControlName","localized_description","placeholder","\u041f\u044a\u043b\u043d\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"],[1,"actions"],["mat-dialog-close","",1,"btn"],[1,"btn","btn-info",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-dialog-content")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h4",6),e._uU(8,"\u041f\u0440\u043e\u043c\u044f\u043d\u0430 \u043d\u0430 \u0434\u043e\u0441\u0442\u044a\u043f"),e.qZA(),e.TgZ(9,"p",7),e._uU(10),e.qZA()(),e.TgZ(11,"div",8)(12,"div",1)(13,"form",9)(14,"div",10)(15,"div")(16,"mat-form-field",11)(17,"mat-label"),e._uU(18,"\u041a\u0440\u0430\u0442\u043a\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(19,"input",12),e.qZA()(),e.TgZ(20,"div")(21,"mat-form-field",11)(22,"mat-label"),e._uU(23,"\u041f\u044a\u043b\u043d\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(24,"textarea",13),e.qZA()(),e.TgZ(25,"div",14)(26,"button",15),e._uU(27,"\u0417\u0430\u0442\u0432\u043e\u0440\u0438"),e.qZA(),e.TgZ(28,"button",16),e.NdJ("click",function(){return n.edit()}),e._uU(29,"\u041e\u0431\u043d\u043e\u0432\u0438"),e.qZA()()()()()()()()()()()()),2&t&&(e.xp6(10),e.AsE("",n.data.permission.name," / ",n.data.permission.localized_name,""),e.xp6(3),e.Q6J("formGroup",n.permission.formGroup))},dependencies:[l.KE,l.hX,m.Nt,d.ZT,d.xY,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:[".actions[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n}\n.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n  min-width: 150px;\n}"]}),i})();(0,v.X$)("fadeIn",[(0,v.eR)(":enter",[(0,v.oB)({opacity:0}),(0,v.jt)("500ms",(0,v.oB)({opacity:1}))]),(0,v.eR)(":leave",[(0,v.oB)({opacity:1}),(0,v.jt)("500ms",(0,v.oB)({opacity:0}))])]),(0,v.X$)("slideIn",[(0,v.eR)(":enter",[(0,v.oB)({transform:"translateX(-100%)"}),(0,v.jt)("500ms",(0,v.oB)({transform:"translateX(0)"}))]),(0,v.eR)(":leave",[(0,v.oB)({transform:"translateX(0)"}),(0,v.jt)("500ms",(0,v.oB)({transform:"translateX(100%)"}))])]);const Ee=(0,v.X$)("enterFromBottom",[(0,v.eR)(":enter",[(0,v.oB)({transform:"translateY(100%)",opacity:0}),(0,v.jt)("500ms",(0,v.oB)({transform:"translateX(0)",opacity:1}))]),(0,v.eR)(":leave",[(0,v.oB)({transform:"translateY(0)",opacity:1}),(0,v.jt)("500ms",(0,v.oB)({transform:"translateX(100%)",opacity:0}))])]),la=(0,v.X$)("resizeAndOpacity",[(0,v.SB)("void",(0,v.oB)({height:"0px",opacity:0})),(0,v.eR)(":enter",[(0,v.oB)({height:"0px",opacity:0}),(0,v.jt)("300ms ease-out",(0,v.oB)({height:"*",opacity:1}))]),(0,v.eR)(":leave",[(0,v.oB)({height:"*",opacity:1}),(0,v.jt)("300ms ease-in",(0,v.oB)({height:"0px",opacity:0}))]),(0,v.eR)(":increment",[(0,v.jt)("300ms ease-out",(0,v.oB)({height:"*"}))]),(0,v.eR)(":decrement",[(0,v.jt)("300ms ease-out",(0,v.oB)({height:"0px"}))])]);(0,v.X$)("resize",[(0,v.SB)("void",(0,v.oB)({height:"0px"})),(0,v.eR)(":enter",[(0,v.oB)({height:"0px"}),(0,v.jt)("500ms ease-out",(0,v.oB)({height:"*"}))]),(0,v.eR)(":leave",[(0,v.oB)({height:"*"}),(0,v.jt)("500ms ease-out",(0,v.oB)({height:"0px"}))]),(0,v.eR)(":increment",[(0,v.jt)("500ms ease-out",(0,v.oB)({height:"*"}))]),(0,v.eR)(":decrement",[(0,v.jt)("500ms ease-out",(0,v.oB)({height:"0px"}))])]);let ca=(()=>{class i{constructor(t,n,o){this.permissions_service=t,this.swal_service=n,this.fb=o,this.permission=new ot(o)}ngOnInit(){}add(){this.permission.formGroup.valid?this.permissions_service.add(this.permission.formGroup.getRawValue()).subscribe(t=>{t?(setTimeout(()=>this.formGroupDirective.resetForm(),200),this.swal_service.success({text:`Permission ${t.name} added.`})):this.swal_service.error({text:"\u0413\u0440\u0435\u0448\u043a\u0430"})},t=>{this.swal_service.error({title:"\u0413\u0440\u0435\u0448\u043a\u0430",text:t})}):this.permission.formGroup.markAllAsTouched()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(fe),e.Y36(P.J),e.Y36(r.QS))},i.\u0275cmp=e.Xpm({type:i,selectors:[["add-permission"]],viewQuery:function(t,n){if(1&t&&e.Gf(r.sg,5),2&t){let o;e.iGM(o=e.CRH())&&(n.formGroupDirective=o.first)}},decls:20,vars:1,consts:[[3,"formGroup"],[1,"content","new-location"],["appearance","fill"],["matInput","","formControlName","name","placeholder","\u0418\u043c\u0435"],["matInput","","formControlName","localized_name","placeholder","\u041a\u0440\u0430\u0442\u043a\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"],["matInput","","formControlName","localized_description","placeholder","\u041f\u044a\u043b\u043d\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"],[1,"btn","btn-info","btn-block","btn-fill","add-new",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div")(3,"mat-form-field",2)(4,"mat-label"),e._uU(5,"\u0418\u043c\u0435"),e.qZA(),e._UZ(6,"input",3),e.qZA()(),e.TgZ(7,"div")(8,"mat-form-field",2)(9,"mat-label"),e._uU(10,"\u041a\u0440\u0430\u0442\u043a\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(11,"input",4),e.qZA()(),e.TgZ(12,"div")(13,"mat-form-field",2)(14,"mat-label"),e._uU(15,"\u041f\u044a\u043b\u043d\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e._UZ(16,"input",5),e.qZA()(),e.TgZ(17,"div")(18,"button",6),e.NdJ("click",function(){return n.add()}),e._uU(19," \u0414\u043e\u0431\u0430\u0432\u0438 "),e.qZA()()()()),2&t&&e.Q6J("formGroup",n.permission.formGroup)},dependencies:[l.KE,l.hX,m.Nt,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:[".content[_ngcontent-%COMP%] {\n  display: grid;\n  column-gap: 1%;\n  grid-template-columns: minmax(100px, 15%) minmax(100px, 20%) minmax(100px, 55%) minmax(100px, 10%);\n  grid-auto-flow: column;\n  border-bottom: 1px solid #e5e5e5;\n}\n.content[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\n  height: 100%;\n  padding: 12px 8px;\n  vertical-align: middle;\n  flex-wrap: wrap;\n}"]}),i})();function da(i,s){1&i&&(e.TgZ(0,"div"),e._uU(1,"\u0418\u043c\u0435"),e.qZA())}function pa(i,s){1&i&&(e.TgZ(0,"div"),e._uU(1,"\u041e\u043f\u0446\u0438\u0438"),e.qZA())}function _a(i,s){if(1&i&&(e.TgZ(0,"div"),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.xp6(1),e.hij(" ",t.name," ")}}function ma(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"button",9),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.delete(o))}),e.TgZ(2,"i",10),e._uU(3,"close"),e.qZA()(),e.TgZ(4,"button",11),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.edit(o))}),e.TgZ(5,"i",12),e._uU(6,"edit"),e.qZA()()()}2&i&&(e.xp6(1),e.Q6J("matTooltipPosition","above"),e.xp6(3),e.Q6J("matTooltipPosition","above"))}function ga(i,s){if(1&i&&(e.TgZ(0,"div",6),e.YNc(1,_a,2,1,"div",1),e.TgZ(2,"div"),e._uU(3),e.qZA(),e.TgZ(4,"div"),e._uU(5),e.qZA(),e.YNc(6,ma,7,2,"div",7),e.qZA()),2&i){const t=s.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("ngIf",n.canEdit),e.xp6(2),e.hij(" ",t.localized_name," "),e.xp6(2),e.hij(" ",t.localized_description," "),e.xp6(1),e.Q6J("ngIf",n.canEdit)}}function fa(i,s){if(1&i&&(e.TgZ(0,"div",3)(1,"div",4),e.YNc(2,da,2,0,"div",1),e.TgZ(3,"div"),e._uU(4,"\u041a\u0440\u0430\u0442\u043a\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e.TgZ(5,"div"),e._uU(6,"\u041f\u044a\u043b\u043d\u043e \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435"),e.qZA(),e.YNc(7,pa,2,0,"div",1),e.qZA(),e.YNc(8,ga,7,4,"div",5),e.qZA()),2&i){const t=e.oxw();e.Q6J("@enterFromBottom",void 0),e.xp6(2),e.Q6J("ngIf",t.canEdit),e.xp6(5),e.Q6J("ngIf",t.canEdit),e.xp6(1),e.Q6J("ngForOf",t.permissions)}}function ha(i,s){1&i&&e._UZ(0,"add-permission")}function va(i,s){1&i&&e._UZ(0,"div",15)}function ba(i,s){if(1&i&&(e.YNc(0,va,1,0,"div",13),e.TgZ(1,"div",14)(2,"h3"),e._uU(3," \u041d\u044f\u043c\u0430\u0442\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d\u0438 \u043e\u0431\u0445\u0432\u0430\u0442\u0438 \u043d\u0430 \u0434\u043e\u0441\u0442\u044a\u043f. "),e.qZA()()),2&i){const t=e.oxw();e.Q6J("ngIf",0===!(null!=t.permissions&&t.permissions.length))}}let ya=(()=>{class i{constructor(t,n,o,a){this.permissions_service=t,this.user_permissions=n,this.dialog=o,this.swal_service=a,this.permissions=[],this.canEdit=!1,this.user_permissions.hasPermission("can_manage_permissions").subscribe(_=>{this.canEdit=_},_=>{this.swal_service.error({text:_})})}ngOnInit(){}delete(t){this.swal_service.confirm({text:"\u0416\u0435\u043b\u0430\u0435\u0442\u0435 \u043b\u0438 \u0434\u0430 \u0438\u0437\u0442\u0440\u0438\u0435\u0442\u0435 \u0437\u0430\u043f\u0438\u0441\u0430?"}).then(n=>{!n.isConfirmed||this.permissions_service.delete(t.id).subscribe(o=>{o?this.swal_service.success({text:`Permission ${t.name} deleted.`}):this.swal_service.error({text:"\u0413\u0440\u0435\u0448\u043a\u0430"})},o=>{this.swal_service.error({text:o})})})}edit(t){this.dialog.open(ua,{data:{permission:t},autoFocus:!1,disableClose:!1,minWidth:500})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(fe),e.Y36(me.Q),e.Y36(d.uw),e.Y36(P.J))},i.\u0275cmp=e.Xpm({type:i,selectors:[["permissions"]],inputs:{permissions:"permissions"},decls:4,vars:3,consts:[["class","locations-list",4,"ngIf","ngIfElse"],[4,"ngIf"],["no_records",""],[1,"locations-list"],[1,"content","content-header"],["class","location content",4,"ngFor","ngForOf"],[1,"location","content"],["class","actions",4,"ngIf"],[1,"actions"],["mat-raised-button","","type","button","matTooltip","\u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0438",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[1,"material-icons","remove"],["mat-raised-button","","type","button","matTooltip","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[1,"material-icons","edit"],["class","loader",4,"ngIf"],[1,"no-records"],[1,"loader"]],template:function(t,n){if(1&t&&(e.YNc(0,fa,9,4,"div",0),e.YNc(1,ha,1,0,"add-permission",1),e.YNc(2,ba,4,1,"ng-template",null,2,e.W1O)),2&t){const o=e.MAs(3);e.Q6J("ngIf",(null==n.permissions?null:n.permissions.length)>0)("ngIfElse",o),e.xp6(1),e.Q6J("ngIf",n.canEdit)}},dependencies:[A.sg,A.O5,p.gM,D.lW,ca],styles:['.content[_ngcontent-%COMP%] {\n  display: grid;\n  column-gap: 1%;\n  grid-template-columns: minmax(100px, 15%) minmax(100px, 20%) minmax(100px, auto) minmax(100px, 10%);\n  grid-auto-flow: column;\n  border-bottom: 1px solid #e5e5e5;\n}\n.content[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\n  height: 100%;\n  padding: 12px 8px;\n  vertical-align: middle;\n  flex-wrap: wrap;\n  align-items: center;\n  display: flex;\n}\n.content[_ngcontent-%COMP%]:hover {\n  background-color: #f5f5f5;\n  font-weight: 450;\n}\n.content[_ngcontent-%COMP%]:hover   .profile-icon[_ngcontent-%COMP%] {\n  color: #555555;\n}\n.content[_ngcontent-%COMP%]:hover   .export-icon[_ngcontent-%COMP%] {\n  color: #555555;\n}\n.content[_ngcontent-%COMP%]:hover   .remove[_ngcontent-%COMP%] {\n  color: #f44336;\n}\n.content[_ngcontent-%COMP%]:hover   .edit[_ngcontent-%COMP%] {\n  color: #9c27b0;\n}\n.content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  column-gap: 2%;\n  font-size: 0.95rem;\n  font-weight: 500;\n}\n.content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover {\n  background-color: #ececec;\n  cursor: pointer;\n}\n.loader[_ngcontent-%COMP%] {\n  top: calc(50% - 5px);\n  left: calc(50% - 5px);\n  position: absolute !important;\n}\n\n.loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:before, .loader[_ngcontent-%COMP%]:after {\n  position: relative;\n  display: inline-block;\n  width: 20px;\n  height: 50px;\n  background-color: rgba(215, 230, 240, 0.9);\n  border: 1px solid rgb(215, 230, 240);\n  z-index: 100000;\n  content: " ";\n  margin-left: -5px;\n  margin-right: -9px;\n}\n.loader[_ngcontent-%COMP%]:before {\n  top: -11px;\n  left: -100%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) infinite;\n}\n.loader[_ngcontent-%COMP%] {\n  animation: loading-main 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.2s infinite;\n}\n.loader[_ngcontent-%COMP%]:after {\n  top: -11px;\n  right: -100%;\n  margin-top: 50%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.4s infinite;\n}\n@keyframes loading {\n  from {\n    transform: scaleY(1.4);\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n@keyframes loading-main {\n  from {\n    padding-top: 10px;\n    padding-bottom: 10px;\n    margin-top: -10px;\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n.no-records[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 3%;\n  grid-column: 1/span 5;\n}'],data:{animation:[Ee]}}),i})();var st=I(6709);function xa(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"mat-checkbox",5),e.NdJ("change",function(o){const _=e.CHM(t).$implicit,N=e.oxw(2);return e.KtG(N.onCheckboxChange(o,_))}),e._uU(2),e.qZA()()}if(2&i){const t=s.$implicit,n=e.oxw(2);e.xp6(1),e.s9C("matTooltip",t.localized_description),e.Q6J("disabled",n.readonly)("matTooltipPosition","right")("checked",n.isChecked(t)),e.xp6(1),e.Oqu(t.localized_name)}}function Za(i,s){if(1&i&&(e.TgZ(0,"div",3),e.YNc(1,xa,3,5,"div",4),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.readonly?t.role_permissions:t.permissions)}}function Ca(i,s){1&i&&(e.ynx(0),e.TgZ(1,"div",6)(2,"h3"),e._uU(3," \u041d\u044f\u043c\u0430\u0442\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d\u0438 \u0437\u0430\u043f\u0438\u0441\u0438. "),e.qZA()(),e.BQk())}let ve=(()=>{class i{constructor(){this.selectedPermissionsEvent=new e.vpe,this.readonly=!1,this.selected_permissions=[],this.tooltipPositionClass="above left"}ngOnInit(){this.role_permissions.forEach(t=>this.selected_permissions.push(t))}selectedPermissions(t){this.selectedPermissionsEvent.emit(t)}isChecked(t){if(this.selected_permissions)return this.selected_permissions.some(n=>n.id===t.id)}onCheckboxChange(t,n){if(t.checked)this.selected_permissions.push(n);else{const o=this.selected_permissions.findIndex(a=>a.id===n.id);o>=0&&this.selected_permissions.splice(o,1)}this.selectedPermissions(this.selected_permissions)}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["role-permissions"]],inputs:{permissions:"permissions",role_permissions:"role_permissions",readonly:"readonly"},outputs:{selectedPermissionsEvent:"selectedPermissionsEvent"},decls:3,vars:2,consts:[[1,"role-permissions"],["class","selected-options",4,"ngIf"],[4,"ngIf"],[1,"selected-options"],[4,"ngFor","ngForOf"],[3,"disabled","matTooltip","matTooltipPosition","checked","change"],[1,"no-records"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,Za,2,1,"div",1),e.qZA(),e.YNc(2,Ca,4,0,"ng-container",2)),2&t&&(e.xp6(1),e.Q6J("ngIf",n.permissions||n.role_permissions),e.xp6(1),e.Q6J("ngIf",n.readonly&&0==n.role_permissions.length))},dependencies:[A.sg,A.O5,p.gM,st.oG],styles:[".role-permissions[_ngcontent-%COMP%]   .selected-options[_ngcontent-%COMP%] {\n  display: grid;\n  grid-gap: 10px;\n  padding: 10px;\n}\n.role-permissions[_ngcontent-%COMP%]    .mat-checkbox-disabled .mat-checkbox-label {\n  color: black;\n}"]}),i})(),Ta=(()=>{class i{constructor(t,n,o,a){this.data=t,this.permissions_service=n,this.role_service=o,this.swal_service=a,this.selected_permissions=[],this.permissions=t.permissions,this.role_permissions=t.role_permissions,this.role_name=t.role_name}ngOnInit(){}edit(){this.role_service.add({permissions:this.selected_permissions,name:this.role_name}).subscribe(t=>{t?this.swal_service.success({text:`Permissions of ${this.role_name} were updated.`}):this.swal_service.error({text:"Permissions were not updated"})},t=>{this.swal_service.error({text:t})})}changedPermissions(t){this.selected_permissions=t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.WI),e.Y36(fe),e.Y36(he),e.Y36(P.J))},i.\u0275cmp=e.Xpm({type:i,selectors:[["edit-role-permissions"]],inputs:{permissions:"permissions",role_permissions:"role_permissions",role_name:"role_name"},decls:19,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[3,"permissions","role_permissions","selectedPermissionsEvent"],[1,"actions"],["mat-dialog-close","",1,"btn"],[1,"btn","btn-info",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-dialog-content")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h4",6),e._uU(8,"\u041f\u0440\u043e\u043c\u044f\u043d\u0430 \u043d\u0430 \u043d\u0438\u0432\u0430 \u043d\u0430 \u0434\u043e\u0441\u0442\u044a\u043f \u043a\u044a\u043c \u0440\u043e\u043b\u044f"),e.qZA(),e.TgZ(9,"p",7),e._uU(10),e.qZA()(),e.TgZ(11,"div",8)(12,"div",1)(13,"role-permissions",9),e.NdJ("selectedPermissionsEvent",function(a){return n.changedPermissions(a)}),e.qZA()()()(),e.TgZ(14,"div",10)(15,"button",11),e._uU(16,"\u0417\u0430\u0442\u0432\u043e\u0440\u0438"),e.qZA(),e.TgZ(17,"button",12),e.NdJ("click",function(){return n.edit()}),e._uU(18,"\u0417\u0430\u043f\u0430\u0437\u0438"),e.qZA()()()()()()()),2&t&&(e.xp6(10),e.Oqu(n.role_name),e.xp6(3),e.Q6J("permissions",n.permissions)("role_permissions",n.role_permissions))},dependencies:[d.ZT,d.xY,ve],styles:[".actions[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n}\n.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n  min-width: 150px;\n}"]}),i})();function Aa(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"mat-checkbox",5),e.NdJ("change",function(o){const _=e.CHM(t).$implicit,N=e.oxw(2);return e.KtG(N.onCheckboxChange(o,_))}),e._uU(2),e.qZA()()}if(2&i){const t=s.$implicit,n=e.oxw(2);e.xp6(1),e.Q6J("disabled",n.readonly)("checked",n.isChecked(t)),e.xp6(1),e.lnq(" ",t.first_name," ",t.last_name," (",t.email,") ")}}function wa(i,s){if(1&i&&(e.TgZ(0,"div",3),e.YNc(1,Aa,3,5,"div",4),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.readonly?t.role_users:t.users)}}function qa(i,s){1&i&&(e.ynx(0),e.TgZ(1,"div",6)(2,"h3"),e._uU(3," \u041d\u044f\u043c\u0430\u0442\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d\u0438 \u0437\u0430\u043f\u0438\u0441\u0438. "),e.qZA()(),e.BQk())}let at=(()=>{class i{constructor(){this.selectedUsersEvent=new e.vpe,this.readonly=!1,this.selected_users=[]}ngOnInit(){this.role_users.forEach(t=>this.selected_users.push(t))}selectedUsers(){this.selectedUsersEvent.emit(this.selected_users)}isChecked(t){if(this.selected_users)return this.selected_users.some(n=>n.id===t.id)}onCheckboxChange(t,n){if(t.checked)this.selected_users.push(n);else{const o=this.selected_users.findIndex(a=>a.id===n.id);o>=0&&this.selected_users.splice(o,1)}this.selectedUsers()}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=e.Xpm({type:i,selectors:[["role-users"]],inputs:{users:"users",role_users:"role_users",readonly:"readonly"},outputs:{selectedUsersEvent:"selectedUsersEvent"},decls:3,vars:2,consts:[[1,"role-users"],["class","selected-options",4,"ngIf"],[4,"ngIf"],[1,"selected-options"],[4,"ngFor","ngForOf"],[3,"disabled","checked","change"],[1,"no-records"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0),e.YNc(1,wa,2,1,"div",1),e.qZA(),e.YNc(2,qa,4,0,"ng-container",2)),2&t&&(e.xp6(1),e.Q6J("ngIf",n.users),e.xp6(1),e.Q6J("ngIf",n.readonly&&0==n.role_users.length))},dependencies:[A.sg,A.O5,st.oG],styles:[".role-users[_ngcontent-%COMP%]   .selected-options[_ngcontent-%COMP%] {\n  display: grid;\n  padding: 10px;\n}\n.role-users[_ngcontent-%COMP%]    .mat-checkbox-disabled .mat-checkbox-label {\n  color: black;\n}"]}),i})(),Ma=(()=>{class i{constructor(t,n,o){this.data=t,this.role_service=n,this.swal_service=o,this.users=t.users,this.role_name=t.role_name,this.role_users=t.role_users}ngOnInit(){}edit(){this.role_service.roleUsers(this.role_name,this.selected_users).subscribe(t=>{t?this.swal_service.success({text:`Users of ${this.role_name} were updated.`}):this.swal_service.error({text:"Users of role were not updated"})},t=>{this.swal_service.error({text:t})})}changedUsers(t){this.selected_users=t}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.WI),e.Y36(he),e.Y36(P.J))},i.\u0275cmp=e.Xpm({type:i,selectors:[["edit-role-users"]],decls:19,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[3,"users","role_users","selectedUsersEvent"],[1,"actions"],["mat-dialog-close","",1,"btn"],[1,"btn","btn-info",3,"click"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-dialog-content")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h4",6),e._uU(8,"\u041f\u0440\u043e\u043c\u044f\u043d\u0430 \u043d\u0430 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0438 \u0441 \u0440\u043e\u043b\u044f"),e.qZA(),e.TgZ(9,"p",7),e._uU(10),e.qZA()(),e.TgZ(11,"div",8)(12,"div",1)(13,"role-users",9),e.NdJ("selectedUsersEvent",function(a){return n.changedUsers(a)}),e.qZA()()()(),e.TgZ(14,"div",10)(15,"button",11),e._uU(16,"\u0417\u0430\u0442\u0432\u043e\u0440\u0438"),e.qZA(),e.TgZ(17,"button",12),e.NdJ("click",function(){return n.edit()}),e._uU(18,"\u0417\u0430\u043f\u0430\u0437\u0438"),e.qZA()()()()()()()),2&t&&(e.xp6(10),e.Oqu(n.role_name),e.xp6(3),e.Q6J("users",n.users)("role_users",n.role_users))},dependencies:[d.ZT,d.xY,at],styles:[".actions[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n}\n.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n  min-width: 150px;\n}"]}),i})();class Pa{constructor(s){this.fb=s,this.formGroup=this.fb.group({id:["",null],name:["",[r.kI.required,r.kI.pattern("^[A-Za-z0-9_-]*$")]],permissions:[[],null]})}}function Ua(i,s){if(1&i&&(e.TgZ(0,"mat-option",7),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.s9C("matTooltip",t.localized_description),e.MGl("aria-label","permission scope ",t.localized_name,""),e.Q6J("value",t)("matTooltipPosition","right"),e.xp6(1),e.hij(" ",t.localized_name," ")}}let ka=(()=>{class i{constructor(t,n,o){this.roles_service=t,this.swal_service=n,this.fb=o,this.role=new Pa(this.fb)}ngOnInit(){}add(){this.role.formGroup.valid?this.roles_service.add(this.role.formGroup.getRawValue()).subscribe(t=>{t?(setTimeout(()=>this.formGroupDirective.resetForm(),200),this.swal_service.success({text:`Role ${t.name} added.`})):this.swal_service.error({text:"\u0413\u0440\u0435\u0448\u043a\u0430"})}):this.role.formGroup.markAllAsTouched()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(he),e.Y36(P.J),e.Y36(r.QS))},i.\u0275cmp=e.Xpm({type:i,selectors:[["add-role"]],viewQuery:function(t,n){if(1&t&&e.Gf(r.sg,5),2&t){let o;e.iGM(o=e.CRH())&&(n.formGroupDirective=o.first)}},inputs:{permissions:"permissions"},decls:16,vars:2,consts:[[1,"form","mt-3",3,"formGroup"],[1,"add-role"],["appearance","fill"],["matInput","","formControlName","name","placeholder","\u0418\u043c\u0435"],["multiple","","formControlName","permissions","placeholder","\u0414\u043e\u0441\u0442\u044a\u043f"],[3,"value","matTooltip","matTooltipPosition","aria-label",4,"ngFor","ngForOf"],[1,"btn","btn-info","btn-block","btn-fill","add-new",3,"click"],[3,"value","matTooltip","matTooltipPosition","aria-label"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div")(3,"mat-form-field",2)(4,"mat-label"),e._uU(5,"\u0418\u043c\u0435"),e.qZA(),e._UZ(6,"input",3),e.qZA()(),e.TgZ(7,"div")(8,"mat-form-field",2)(9,"mat-label"),e._uU(10,"\u041e\u0431\u0445\u0432\u0430\u0442 \u043e\u0442 \u0441\u043f\u0438\u0441\u044a\u043a\u0430"),e.qZA(),e.TgZ(11,"mat-select",4),e.YNc(12,Ua,2,5,"mat-option",5),e.qZA()()(),e.TgZ(13,"div")(14,"button",6),e.NdJ("click",function(){return n.add()}),e._uU(15," \u0414\u043e\u0431\u0430\u0432\u0438 "),e.qZA()()()()),2&t&&(e.Q6J("formGroup",n.role.formGroup),e.xp6(12),e.Q6J("ngForOf",n.permissions))},dependencies:[A.sg,l.KE,l.hX,m.Nt,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u,ne.gD,X.ey,p.gM],styles:[".add-role[_ngcontent-%COMP%] {\n  display: grid;\n  grid-template-columns: minmax(100px, 15%) minmax(100px, 75%) minmax(100px, 10%);\n  column-gap: 1%;\n  grid-auto-flow: column;\n  border-bottom: 1px solid #e5e5e5;\n}\n.add-role[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\n  height: 100%;\n  padding: 12px 8px;\n  vertical-align: middle;\n  flex-wrap: wrap;\n}"]}),i})();function Da(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"span",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).index,a=e.oxw(2);return e.KtG(a.toggleRolePermissions(o))}),e.TgZ(1,"button",15),e._UZ(2,"i",19),e.qZA(),e._uU(3,"\u0421\u043a\u0440\u0438\u0439"),e.qZA()}}function Oa(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"span",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).index,a=e.oxw(2);return e.KtG(a.toggleRolePermissions(o))}),e.TgZ(1,"button",15),e._UZ(2,"i",20),e.qZA(),e._uU(3,"\u041f\u0440\u0435\u0433\u043b\u0435\u0434"),e.qZA()}}function Fa(i,s){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"role-permissions",21),e.qZA()),2&i){const t=e.oxw(2).$implicit,n=e.oxw(2);e.Q6J("@resizeAndOpacity",void 0),e.xp6(1),e.Q6J("readonly",!0)("permissions",n.permissions)("role_permissions",t.permissions)}}function Ea(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",13)(2,"div")(3,"span",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.editRolePermissions(o))}),e.TgZ(4,"button",15)(5,"i",16),e._uU(6,"edit"),e.qZA()(),e._uU(7,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439"),e.qZA(),e.YNc(8,Da,4,0,"span",17),e.YNc(9,Oa,4,0,"span",17),e.qZA(),e.YNc(10,Fa,2,4,"div",18),e.qZA()()}if(2&i){const t=e.oxw().index,n=e.oxw(2);e.xp6(8),e.Q6J("ngIf",n.visible_role_permissions[t]),e.xp6(1),e.Q6J("ngIf",!n.visible_role_permissions[t]),e.xp6(1),e.Q6J("ngIf",n.visible_role_permissions[t])}}function Na(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",10)(1,"span",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.editRolePermissions(o))}),e.TgZ(2,"button",15)(3,"i",16),e._uU(4,"edit"),e.qZA()(),e._uU(5,"\u0414\u043e\u0431\u0430\u0432\u0438"),e.qZA()()}}function Ja(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"span",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).index,a=e.oxw(2);return e.KtG(a.toggleRoleUsers(o))}),e.TgZ(1,"button",15),e._UZ(2,"i",19),e.qZA(),e._uU(3,"\u0421\u043a\u0440\u0438\u0439"),e.qZA()}}function Ya(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"span",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).index,a=e.oxw(2);return e.KtG(a.toggleRoleUsers(o))}),e.TgZ(1,"button",15),e._UZ(2,"i",20),e.qZA(),e._uU(3,"\u041f\u0440\u0435\u0433\u043b\u0435\u0434"),e.qZA()}}function Ia(i,s){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"role-users",23),e.qZA()),2&i){const t=e.oxw(2).$implicit,n=e.oxw(2);e.Q6J("@resizeAndOpacity",void 0),e.xp6(1),e.Q6J("readonly",!0)("users",n.users)("role_users",t.users)}}function Qa(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div")(1,"div",22)(2,"div")(3,"span",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.editRoleUsers(o))}),e.TgZ(4,"button",15)(5,"i",16),e._uU(6,"edit"),e.qZA()(),e._uU(7,"\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439"),e.qZA(),e.YNc(8,Ja,4,0,"span",17),e.YNc(9,Ya,4,0,"span",17),e.qZA(),e.YNc(10,Ia,2,4,"div",18),e.qZA()()}if(2&i){const t=e.oxw().index,n=e.oxw(2);e.xp6(8),e.Q6J("ngIf",n.visible_role_users[t]),e.xp6(1),e.Q6J("ngIf",!n.visible_role_users[t]),e.xp6(1),e.Q6J("ngIf",n.visible_role_users[t])}}function Sa(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",10)(1,"span",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.editRoleUsers(o))}),e.TgZ(2,"button",15)(3,"i",16),e._uU(4,"edit"),e.qZA()(),e._uU(5,"\u0414\u043e\u0431\u0430\u0432\u0438"),e.qZA()()}}function Ba(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",6)(1,"div"),e._uU(2),e.qZA(),e.YNc(3,Ea,11,3,"div",7),e.YNc(4,Na,6,0,"ng-template",null,8,e.W1O),e.YNc(6,Qa,11,3,"div",7),e.YNc(7,Sa,6,0,"ng-template",null,9,e.W1O),e.TgZ(9,"div",10)(10,"button",11),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(2);return e.KtG(_.delete(a))}),e.TgZ(11,"i",12),e._uU(12,"close"),e.qZA()()()()}if(2&i){const t=s.$implicit,n=e.MAs(5),o=e.MAs(8);e.xp6(2),e.hij(" ",t.name," "),e.xp6(1),e.Q6J("ngIf",0!=(null==t.permissions?null:t.permissions.length))("ngIfElse",n),e.xp6(3),e.Q6J("ngIf",0!=(null==t.users?null:t.users.length))("ngIfElse",o),e.xp6(4),e.Q6J("matTooltipPosition","above")}}function Ra(i,s){if(1&i&&(e.TgZ(0,"div",3)(1,"div",4)(2,"div"),e._uU(3,"\u041f\u043e\u0437\u0438\u0446\u0438\u044f"),e.qZA(),e.TgZ(4,"div"),e._uU(5,"\u041e\u0431\u0445\u0432\u0430\u0442"),e.qZA(),e.TgZ(6,"div"),e._uU(7,"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0438"),e.qZA(),e.TgZ(8,"div"),e._uU(9,"\u041e\u043f\u0446\u0438\u0438"),e.qZA()(),e.YNc(10,Ba,13,6,"div",5),e.qZA()),2&i){const t=e.oxw();e.Q6J("@enterFromBottom",void 0),e.xp6(10),e.Q6J("ngForOf",t.roles)}}function La(i,s){1&i&&e._UZ(0,"div",26)}function Ga(i,s){if(1&i&&(e.YNc(0,La,1,0,"div",24),e.TgZ(1,"div",25)(2,"h3"),e._uU(3," \u041d\u044f\u043c\u0430\u0442\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d\u0438 \u0440\u043e\u043b\u0438. "),e.qZA()()),2&i){const t=e.oxw();e.Q6J("ngIf",0===!(null!=t.roles&&t.roles.length))}}let $a=(()=>{class i{constructor(t,n,o){this.roles_service=t,this.swal_service=n,this.dialog=o,this.roles=[],this.visible_role_permissions=Array(this.roles.length).fill(!1),this.visible_role_users=Array(this.roles.length).fill(!1)}ngOnInit(){}delete(t){this.swal_service.confirm({text:"\u0416\u0435\u043b\u0430\u0435\u0442\u0435 \u043b\u0438 \u0434\u0430 \u0438\u0437\u0442\u0440\u0438\u0435\u0442\u0435 \u0437\u0430\u043f\u0438\u0441\u0430?"}).then(n=>{!n.isConfirmed||this.roles_service.delete(t.id).subscribe(o=>{o?this.swal_service.success({text:`Permission ${t.name} deleted.`}):this.swal_service.error({text:"\u0413\u0440\u0435\u0448\u043a\u0430"})},o=>{this.swal_service.error({text:o})})})}toggleRolePermissions(t){this.visible_role_permissions[t]=!this.visible_role_permissions[t]}editRolePermissions(t){this.dialog.open(Ta,{data:{role_permissions:t.permissions,permissions:this.permissions,role_name:t.name},autoFocus:!1,disableClose:!1,minWidth:500})}toggleRoleUsers(t){this.visible_role_users[t]=!this.visible_role_users[t]}editRoleUsers(t){this.dialog.open(Ma,{data:{role_users:t.users,users:this.users,role_name:t.name},autoFocus:!1,disableClose:!1,minWidth:500})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(he),e.Y36(P.J),e.Y36(d.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["roles"]],inputs:{permissions:"permissions",roles:"roles",users:"users"},decls:4,vars:4,consts:[["class","locations-list",4,"ngIf","ngIfElse"],[3,"permissions"],["no_records",""],[1,"locations-list"],[1,"content","content-header"],["class","location content",4,"ngFor","ngForOf"],[1,"location","content"],[4,"ngIf","ngIfElse"],["no_permissions",""],["no_users",""],[1,"actions"],["mat-raised-button","","type","button","matTooltip","\u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0438",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[1,"material-icons","remove"],[1,"role-permissions-actions"],[1,"edit",3,"click"],["mat-raised-button","","type","button",1,"btn","btn-link","btn-sm","btn-just-icon"],[1,"material-icons","edit"],["class","edit",3,"click",4,"ngIf"],[4,"ngIf"],[1,"fa","fa-eye","edit"],[1,"fa","fa-eye-slash","edit"],[3,"readonly","permissions","role_permissions"],[1,"role-users-actions"],[3,"readonly","users","role_users"],["class","loader",4,"ngIf"],[1,"no-records"],[1,"loader"]],template:function(t,n){if(1&t&&(e.YNc(0,Ra,11,2,"div",0),e._UZ(1,"add-role",1),e.YNc(2,Ga,4,1,"ng-template",null,2,e.W1O)),2&t){const o=e.MAs(3);e.Q6J("ngIf",(null==n.roles?null:n.roles.length)>0)("ngIfElse",o),e.xp6(1),e.Q6J("permissions",n.permissions),e.xp6(1),e.Q6J("enterFromBottom",void 0)}},dependencies:[A.sg,A.O5,p.gM,D.lW,ka,ve,at],styles:['.content[_ngcontent-%COMP%] {\n  grid-template-columns: minmax(100px, 15%) minmax(100px, 40%) minmax(100px, 40%) minmax(100px, 10%);\n}\n\n.content[_ngcontent-%COMP%] {\n  display: grid;\n  column-gap: 1%;\n  grid-auto-flow: column;\n  border-bottom: 1px solid #e5e5e5;\n}\n\n.content[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\n  height: 100%;\n  padding: 12px 8px;\n  vertical-align: middle;\n  flex-wrap: wrap;\n  align-items: center;\n  display: flex;\n}\n\n.content[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]:hover {\n  cursor: pointer;\n}\n\n.content[_ngcontent-%COMP%]:hover {\n  background-color: #f5f5f5;\n  font-weight: 450;\n}\n\n.content[_ngcontent-%COMP%]:hover   .profile-icon[_ngcontent-%COMP%] {\n  color: #555555;\n}\n\n.content[_ngcontent-%COMP%]:hover   .export-icon[_ngcontent-%COMP%] {\n  color: #555555;\n}\n\n.content[_ngcontent-%COMP%]:hover   .remove[_ngcontent-%COMP%] {\n  color: #f44336;\n}\n\n.content[_ngcontent-%COMP%]:hover   .edit[_ngcontent-%COMP%] {\n  color: #9c27b0;\n}\n\n.content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  column-gap: 2%;\n  font-size: 0.95rem;\n  font-weight: 500;\n}\n\n.content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover {\n  background-color: #ececec;\n  cursor: pointer;\n}\n\n.loader[_ngcontent-%COMP%] {\n  top: calc(50% - 5px);\n  left: calc(50% - 5px);\n  position: absolute !important;\n}\n\n\n\n.loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:before, .loader[_ngcontent-%COMP%]:after {\n  position: relative;\n  display: inline-block;\n  width: 20px;\n  height: 50px;\n  background-color: rgba(215, 230, 240, 0.9);\n  border: 1px solid rgb(215, 230, 240);\n  z-index: 100000;\n  content: " ";\n  margin-left: -5px;\n  margin-right: -9px;\n}\n\n.loader[_ngcontent-%COMP%]:before {\n  top: -11px;\n  left: -100%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) infinite;\n}\n\n.loader[_ngcontent-%COMP%] {\n  animation: loading-main 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.2s infinite;\n}\n\n.loader[_ngcontent-%COMP%]:after {\n  top: -11px;\n  right: -100%;\n  margin-top: 50%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.4s infinite;\n}\n\n@keyframes loading {\n  from {\n    transform: scaleY(1.4);\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n\n@keyframes loading-main {\n  from {\n    padding-top: 10px;\n    padding-bottom: 10px;\n    margin-top: -10px;\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n\n.no-records[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 3%;\n  grid-column: 1/span 5;\n}'],data:{animation:[Ee,la]}}),i})(),Ha=(()=>{class i{constructor(t){this.data=t,this.role_permissions=t.role_permissions,this.role_name=t.role_name}ngOnInit(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["role-permissions-dialog"]],decls:17,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[3,"readonly","role_permissions"],[1,"actions"],["mat-dialog-close","",1,"btn"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-dialog-content")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3)(5,"div",4)(6,"div",5)(7,"h4",6),e._uU(8,"\u041d\u0438\u0432\u0430 \u043d\u0430 \u0434\u043e\u0441\u0442\u044a\u043f \u043a\u044a\u043c \u0440\u043e\u043b\u044f"),e.qZA(),e.TgZ(9,"p",7),e._uU(10),e.qZA()(),e.TgZ(11,"div",8)(12,"div",1),e._UZ(13,"role-permissions",9),e.qZA()()(),e.TgZ(14,"div",10)(15,"button",11),e._uU(16,"\u0417\u0430\u0442\u0432\u043e\u0440\u0438"),e.qZA()()()()()()()),2&t&&(e.xp6(10),e.Oqu(n.role_name),e.xp6(3),e.Q6J("readonly",!0)("role_permissions",n.role_permissions))},dependencies:[d.ZT,d.xY,ve]}),i})();class rt{constructor(s){this.fb=s,this.atLeastOne=(t,n=null)=>o=>(n||(n=Object.keys(o.controls)),o&&o.controls&&n.some(_=>!t(o.controls[_]))?null:{atLeastOne:!0}),this.formGroup=this.fb.group({id:["",r.kI.required],first_name:["",null],last_name:["",null],email:["",null],roles:[[],null],permissions:[[],null]},{validator:this.atLeastOne(r.kI.required,["roles","permissions"])})}}function za(i,s){if(1&i&&(e.TgZ(0,"mat-option",20),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function ja(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",8)(1,"div",9)(2,"h4",10),e._uU(3,"\u041f\u0440\u043e\u043c\u044f\u043d\u0430 \u043d\u0430 \u043d\u0438\u0432\u0430 \u043d\u0430 \u0434\u043e\u0441\u0442\u044a\u043f \u043d\u0430 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b"),e.qZA(),e.TgZ(4,"p",11),e._uU(5),e.qZA()(),e.TgZ(6,"div",12)(7,"div",1)(8,"form",13)(9,"mat-form-field",14)(10,"mat-label"),e._uU(11,"\u0420\u043e\u043b\u0438"),e.qZA(),e.TgZ(12,"mat-select",15),e.YNc(13,za,2,2,"mat-option",16),e.qZA()(),e.TgZ(14,"mat-accordion",17)(15,"mat-expansion-panel",18)(16,"mat-expansion-panel-header")(17,"mat-panel-title"),e._uU(18," \u0414\u043e\u0441\u0442\u044a\u043f "),e.qZA(),e.TgZ(19,"mat-panel-description")(20,"mat-icon"),e._uU(21,"more_vert"),e.qZA()()(),e.TgZ(22,"role-permissions",19),e.NdJ("selectedPermissionsEvent",function(o){e.CHM(t);const a=e.oxw();return e.KtG(a.changedPermissions(o))}),e.qZA()()()()()()()}if(2&i){const t=e.oxw();e.xp6(5),e.AsE(" ",t.user.formGroup.get("first_name").value," ",t.user.formGroup.get("last_name").value," "),e.xp6(3),e.Q6J("formGroup",t.user.formGroup),e.xp6(4),e.Q6J("compareWith",t.roleComparison),e.xp6(1),e.Q6J("ngForOf",t.roles),e.xp6(9),e.Q6J("permissions",t.permissions)("role_permissions",t.user.formGroup.get("permissions").value)}}let Ka=(()=>{class i{constructor(t,n,o,a){this.data=t,this.user_access_service=n,this.swal_service=o,this.fb=a,this.roleComparison=function(_,N){return _.id===N?.id},this.user=new rt(a),this.roles=t.roles,this.permissions=t.permissions}ngOnInit(){this.initUserAccessForm()}edit(){this.user_access_service.add(this.user.formGroup.getRawValue()).subscribe(t=>{t?this.swal_service.success({text:`Access scope of ${this.data.user.first_name} ${this.data.user.last_name} was updated.`}):this.swal_service.error({text:"\u0413\u0440\u0435\u0448\u043a\u0430"})},t=>{this.swal_service.error({text:t})})}changedPermissions(t){this.user.formGroup.patchValue({permissions:t})}initUserAccessForm(){this.user.formGroup.patchValue({id:this.data.user.id,first_name:this.data.user.first_name,last_name:this.data.user.last_name,email:this.data.user.email,roles:this.data.user.roles,permissions:this.data.user.permissions})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.WI),e.Y36(Ue),e.Y36(P.J),e.Y36(r.QS))},i.\u0275cmp=e.Xpm({type:i,selectors:[["edit-user-permissions"]],decls:11,vars:1,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],["class","card",4,"ngIf"],[1,"actions"],["mat-dialog-close","",1,"btn"],[1,"btn","btn-info",3,"click"],[1,"card"],[1,"card-header","card-header-info"],[1,"card-title"],[1,"card-category"],[1,"card-body"],[1,"form","mt-3",3,"formGroup"],["appearance","fill"],["multiple","","formControlName","roles","placeholder","\u0420\u043e\u043b\u0438",3,"compareWith"],[3,"value",4,"ngFor","ngForOf"],["multi","",1,"example-headers-align"],["expanded",""],[3,"permissions","role_permissions","selectedPermissionsEvent"],[3,"value"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-dialog-content")(1,"div",0)(2,"div",1)(3,"div",2)(4,"div",3),e.YNc(5,ja,23,7,"div",4),e.TgZ(6,"div",5)(7,"button",6),e._uU(8,"\u0417\u0430\u0442\u0432\u043e\u0440\u0438"),e.qZA(),e.TgZ(9,"button",7),e.NdJ("click",function(){return n.edit()}),e._uU(10,"\u0417\u0430\u043f\u0430\u0437\u0438"),e.qZA()()()()()()()),2&t&&(e.xp6(5),e.Q6J("ngIf",n.user))},dependencies:[A.sg,A.O5,E.pp,E.ib,E.yz,E.yK,E.u4,Z.Hw,l.KE,l.hX,d.ZT,d.xY,r._Y,r.JJ,r.JL,r.sg,r.u,ne.gD,X.ey,ve],styles:[".actions[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n}\n.actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%] {\n  min-width: 150px;\n}\n.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%] {\n  flex-basis: 0;\n}\n.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%] {\n  justify-content: end;\n  align-items: center;\n}\n.mat-expansion-panel-header-description[_ngcontent-%COMP%]    > .mat-icon[_ngcontent-%COMP%] {\n  margin-left: 3%;\n}\n.example-headers-align[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]    + .mat-form-field[_ngcontent-%COMP%] {\n  margin-left: 8px;\n}"]}),i})();function Xa(i,s){if(1&i&&(e.TgZ(0,"mat-option",11),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.Q6J("value",t.id),e.xp6(1),e.lnq(" ",t.first_name," ",t.last_name," (",t.email,") ")}}function Wa(i,s){if(1&i&&(e.ynx(0),e.YNc(1,Xa,2,4,"mat-option",10),e.BQk()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",0===t.roles.length)}}function Va(i,s){if(1&i&&(e.TgZ(0,"mat-option",11),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.Q6J("value",t),e.xp6(1),e.hij(" ",t.name," ")}}function er(i,s){if(1&i&&(e.TgZ(0,"mat-option",12),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.s9C("matTooltip",t.localized_description),e.MGl("aria-label","permission scope ",t.localized_name,""),e.Q6J("value",t)("matTooltipPosition","right"),e.xp6(1),e.hij(" ",t.localized_name," ")}}let tr=(()=>{class i{constructor(t,n,o){this.fb=t,this.user_access_service=n,this.swal_service=o,this.user=new rt(t)}ngOnInit(){}add(){this.user.formGroup.valid?this.user_access_service.add(this.user.formGroup.getRawValue()).subscribe(t=>{t?(setTimeout(()=>this.formGroupDirective.resetForm(),200),this.swal_service.success({text:`Access scope for ${t.first_name} ${t.last_name} was added.`})):this.swal_service.error({text:"Error"})},t=>{this.swal_service.error({text:t})}):this.user.formGroup.markAllAsTouched()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.QS),e.Y36(Ue),e.Y36(P.J))},i.\u0275cmp=e.Xpm({type:i,selectors:[["add-user-permissions"]],viewQuery:function(t,n){if(1&t&&e.Gf(r.sg,5),2&t){let o;e.iGM(o=e.CRH())&&(n.formGroupDirective=o.first)}},inputs:{users:"users",permissions:"permissions",roles:"roles"},decls:23,vars:4,consts:[[1,"form","mt-3",3,"formGroup"],[1,"content","new-location"],["appearance","fill"],["formControlName","id","placeholder","\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b"],[4,"ngFor","ngForOf"],["multiple","","formControlName","roles","placeholder","\u0420\u043e\u043b\u0438"],[3,"value",4,"ngFor","ngForOf"],["multiple","","formControlName","permissions","placeholder","\u0414\u043e\u0441\u0442\u044a\u043f"],[3,"value","matTooltip","matTooltipPosition","aria-label",4,"ngFor","ngForOf"],[1,"btn","btn-info","btn-block","btn-fill","add-new",3,"click"],[3,"value",4,"ngIf"],[3,"value"],[3,"value","matTooltip","matTooltipPosition","aria-label"]],template:function(t,n){1&t&&(e.TgZ(0,"form",0)(1,"div",1)(2,"div")(3,"mat-form-field",2)(4,"mat-label"),e._uU(5,"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b"),e.qZA(),e.TgZ(6,"mat-select",3),e.YNc(7,Wa,2,1,"ng-container",4),e.qZA()()(),e.TgZ(8,"div")(9,"mat-form-field",2)(10,"mat-label"),e._uU(11,"\u0420\u043e\u043b\u0438"),e.qZA(),e.TgZ(12,"mat-select",5),e.YNc(13,Va,2,2,"mat-option",6),e.qZA()()(),e.TgZ(14,"div")(15,"mat-form-field",2)(16,"mat-label"),e._uU(17,"\u041e\u0431\u0445\u0432\u0430\u0442"),e.qZA(),e.TgZ(18,"mat-select",7),e.YNc(19,er,2,5,"mat-option",8),e.qZA()()(),e.TgZ(20,"div")(21,"button",9),e.NdJ("click",function(){return n.add()}),e._uU(22," \u0414\u043e\u0431\u0430\u0432\u0438 "),e.qZA()()()()),2&t&&(e.Q6J("formGroup",n.user.formGroup),e.xp6(7),e.Q6J("ngForOf",n.users),e.xp6(6),e.Q6J("ngForOf",n.roles),e.xp6(6),e.Q6J("ngForOf",n.permissions))},dependencies:[A.sg,A.O5,l.KE,l.hX,r._Y,r.JJ,r.JL,r.sg,r.u,ne.gD,X.ey,p.gM],styles:[".content[_ngcontent-%COMP%] {\n  display: grid;\n  column-gap: 1%;\n  grid-template-columns: minmax(100px, 20%) minmax(100px, 15%) minmax(100px, 50%) minmax(100px, 10%);\n  grid-auto-flow: column;\n  border-bottom: 1px solid #e5e5e5;\n}\n.content[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\n  height: 100%;\n  padding: 12px 8px;\n  vertical-align: middle;\n  flex-wrap: wrap;\n}"]}),i})();function nr(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"p",17),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw(5);return e.KtG(_.viewRole(a))}),e._uU(1),e.qZA()}if(2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.name)}}function ir(i,s){if(1&i&&(e.TgZ(0,"div")(1,"div"),e.YNc(2,nr,2,1,"p",16),e.qZA()()),2&i){const t=e.oxw(2).$implicit;e.xp6(2),e.Q6J("ngForOf",t.roles)}}function or(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,a=e.oxw(2);return e.KtG(a.edit(o))}),e.TgZ(1,"button",19)(2,"i",15),e._uU(3,"edit"),e.qZA()()()}}function sr(i,s){if(1&i&&(e.TgZ(0,"div"),e._UZ(1,"role-permissions",20),e.qZA()),2&i){const t=e.oxw(2).$implicit;e.xp6(1),e.Q6J("readonly",!0)("role_permissions",t.permissions)}}function ar(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",11)(1,"span",21),e.NdJ("click",function(){e.CHM(t);const o=e.oxw(2).$implicit,a=e.oxw(2);return e.KtG(a.edit(o))}),e.TgZ(2,"button",19)(3,"i",15),e._uU(4,"edit"),e.qZA()(),e._uU(5,"\u0414\u043e\u0431\u0430\u0432\u0438"),e.qZA()()}}function rr(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",7)(1,"div"),e._uU(2),e.qZA(),e.YNc(3,ir,3,1,"div",8),e.YNc(4,or,4,0,"ng-template",null,9,e.W1O),e.YNc(6,sr,2,2,"div",8),e.YNc(7,ar,6,0,"ng-template",null,10,e.W1O),e.TgZ(9,"div",11)(10,"button",12),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.revoke(o.id))}),e.TgZ(11,"i",13),e._uU(12,"close"),e.qZA()(),e.TgZ(13,"button",14),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw(2);return e.KtG(a.edit(o))}),e.TgZ(14,"i",15),e._uU(15,"edit"),e.qZA()()()()}if(2&i){const t=e.MAs(5),n=e.MAs(8),o=e.oxw().$implicit;e.xp6(2),e.lnq(" ",o.first_name," ",o.last_name," (",o.email,") "),e.xp6(1),e.Q6J("ngIf",o.roles.length>0)("ngIfElse",t),e.xp6(3),e.Q6J("ngIf",o.permissions.length>0)("ngIfElse",n),e.xp6(4),e.Q6J("matTooltipPosition","above"),e.xp6(3),e.Q6J("matTooltipPosition","above")}}function ur(i,s){if(1&i&&(e.ynx(0),e.YNc(1,rr,16,9,"div",6),e.BQk()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("ngIf",t.roles.length>0||t.permissions.length>0)}}function lr(i,s){if(1&i&&(e.TgZ(0,"div",3)(1,"div",4)(2,"div"),e._uU(3,"\u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b"),e.qZA(),e.TgZ(4,"div"),e._uU(5,"\u0420\u043e\u043b\u0438"),e.qZA(),e.TgZ(6,"div"),e._uU(7,"\u0414\u043e\u043f\u044a\u043b\u043d\u0438\u0442\u0435\u043b\u0435\u043d \u043e\u0431\u0445\u0432\u0430\u0442"),e.qZA(),e.TgZ(8,"div"),e._uU(9,"\u041e\u043f\u0446\u0438\u0438"),e.qZA()(),e.YNc(10,ur,2,1,"ng-container",5),e.qZA()),2&i){const t=e.oxw();e.Q6J("@enterFromBottom",void 0),e.xp6(10),e.Q6J("ngForOf",t.users)}}function cr(i,s){1&i&&e._UZ(0,"div",24)}function dr(i,s){if(1&i&&(e.YNc(0,cr,1,0,"div",22),e.TgZ(1,"div",23)(2,"h3"),e._uU(3," \u041d\u044f\u043c\u0430\u0442\u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d\u0438 \u0437\u0430\u043f\u0438\u0441\u0438. "),e.qZA()()),2&i){const t=e.oxw();e.Q6J("ngIf",0===!(null!=t.users&&t.users.length))}}let pr=(()=>{class i{constructor(t,n,o){this.user_access_service=t,this.swal_service=n,this.dialog=o}ngOnInit(){}revoke(t){this.swal_service.confirm({text:"\u0416\u0435\u043b\u0430\u0435\u0442\u0435 \u043b\u0438 \u0434\u0430 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0435\u0442\u0435 \u043f\u0440\u0430\u0432\u0430\u0442\u0430 \u043d\u0430 \u043f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u044f?"}).then(n=>{!n.isConfirmed||this.user_access_service.revoke(t).subscribe(o=>{o?this.swal_service.success({text:`\u041f\u0440\u0430\u0432\u0430\u0442\u0430 \u043d\u0430 ${o.first_name}  ${o.last_name} \u0441\u0430 \u043f\u0440\u0435\u043c\u0430\u0445\u043d\u0430\u0442\u0438.`}):this.swal_service.error({text:"\u0413\u0440\u0435\u0448\u043a\u0430"})},o=>{this.swal_service.error({text:o})})})}edit(t){this.dialog.open(Ka,{data:{user:t,roles:this.roles,permissions:this.permissions},autoFocus:!1,disableClose:!1,minWidth:500})}viewRole(t){this.dialog.open(Ha,{data:{role_permissions:t.permissions,role_name:t.name},autoFocus:!1,disableClose:!1,minWidth:500})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(Ue),e.Y36(P.J),e.Y36(d.uw))},i.\u0275cmp=e.Xpm({type:i,selectors:[["user-permissions"]],inputs:{users:"users",permissions:"permissions",roles:"roles"},decls:4,vars:5,consts:[["class","locations-list",4,"ngIf","ngIfElse"],[3,"users","roles","permissions"],["no_records",""],[1,"locations-list"],[1,"content","content-header"],[4,"ngFor","ngForOf"],["class","location content",4,"ngIf"],[1,"location","content"],[4,"ngIf","ngIfElse"],["no_roles",""],["no_permissions",""],[1,"actions"],["mat-raised-button","","type","button","matTooltip","\u041f\u0440\u0435\u043c\u0430\u0445\u043d\u0438",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[1,"material-icons","remove"],["mat-raised-button","","type","button","matTooltip","\u0420\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u0430\u0439",1,"btn","btn-link","btn-sm","btn-just-icon",3,"matTooltipPosition","click"],[1,"material-icons","edit"],["class","link user-roles",3,"click",4,"ngFor","ngForOf"],[1,"link","user-roles",3,"click"],[1,"actions",3,"click"],["mat-raised-button","","type","button",1,"btn","btn-link","btn-sm","btn-just-icon"],[3,"readonly","role_permissions"],[1,"link",3,"click"],["class","loader",4,"ngIf"],[1,"no-records"],[1,"loader"]],template:function(t,n){if(1&t&&(e.YNc(0,lr,11,2,"div",0),e._UZ(1,"add-user-permissions",1),e.YNc(2,dr,4,1,"ng-template",null,2,e.W1O)),2&t){const o=e.MAs(3);e.Q6J("ngIf",(null==n.users?null:n.users.length)>0)("ngIfElse",o),e.xp6(1),e.Q6J("users",n.users)("roles",n.roles)("permissions",n.permissions)}},dependencies:[A.sg,A.O5,p.gM,D.lW,ve,tr],styles:['.content[_ngcontent-%COMP%] {\n  display: grid;\n  column-gap: 1%;\n  grid-template-columns: minmax(100px, 20%) minmax(100px, 15%) minmax(100px, 50%) minmax(100px, 10%);\n  grid-auto-flow: column;\n  border-bottom: 1px solid #e5e5e5;\n}\n.content[_ngcontent-%COMP%]    > *[_ngcontent-%COMP%] {\n  height: 100%;\n  padding: 12px 8px;\n  vertical-align: middle;\n  flex-wrap: wrap;\n  align-items: center;\n  display: flex;\n}\n.content[_ngcontent-%COMP%]   .user-roles[_ngcontent-%COMP%] {\n  display: block;\n}\n.content[_ngcontent-%COMP%]   .link[_ngcontent-%COMP%]:hover {\n  cursor: pointer;\n}\n.content[_ngcontent-%COMP%]:hover {\n  background-color: #f5f5f5;\n  font-weight: 450;\n}\n.content[_ngcontent-%COMP%]:hover   .profile-icon[_ngcontent-%COMP%] {\n  color: #555555;\n}\n.content[_ngcontent-%COMP%]:hover   .export-icon[_ngcontent-%COMP%] {\n  color: #555555;\n}\n.content[_ngcontent-%COMP%]:hover   .remove[_ngcontent-%COMP%] {\n  color: #f44336;\n}\n.content[_ngcontent-%COMP%]:hover   .edit[_ngcontent-%COMP%], .content[_ngcontent-%COMP%]:hover   .link[_ngcontent-%COMP%] {\n  color: #9c27b0;\n}\n.content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%] {\n  display: flex;\n  flex-direction: row;\n  align-items: center;\n  column-gap: 2%;\n  font-size: 0.95rem;\n  font-weight: 500;\n}\n.content[_ngcontent-%COMP%]   .content-header[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover {\n  background-color: #ececec;\n  cursor: pointer;\n}\n.loader[_ngcontent-%COMP%] {\n  top: calc(50% - 5px);\n  left: calc(50% - 5px);\n  position: absolute !important;\n}\n\n.loader[_ngcontent-%COMP%], .loader[_ngcontent-%COMP%]:before, .loader[_ngcontent-%COMP%]:after {\n  position: relative;\n  display: inline-block;\n  width: 20px;\n  height: 50px;\n  background-color: rgba(215, 230, 240, 0.9);\n  border: 1px solid rgb(215, 230, 240);\n  z-index: 100000;\n  content: " ";\n  margin-left: -5px;\n  margin-right: -9px;\n}\n.loader[_ngcontent-%COMP%]:before {\n  top: -11px;\n  left: -100%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) infinite;\n}\n.loader[_ngcontent-%COMP%] {\n  animation: loading-main 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.2s infinite;\n}\n.loader[_ngcontent-%COMP%]:after {\n  top: -11px;\n  right: -100%;\n  margin-top: 50%;\n  animation: loading 0.8s cubic-bezier(0.4, 0.5, 0.6, 1) 0.4s infinite;\n}\n@keyframes loading {\n  from {\n    transform: scaleY(1.4);\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n@keyframes loading-main {\n  from {\n    padding-top: 10px;\n    padding-bottom: 10px;\n    margin-top: -10px;\n    background-color: rgba(55, 114, 171, 0.9);\n    border: 1px solid rgb(55, 114, 171);\n  }\n}\n.no-records[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 3%;\n  grid-column: 1/span 5;\n}'],data:{animation:[Ee]}}),i})(),_r=(()=>{class i{constructor(t,n,o,a){this.permissions_service=t,this.roles_service=n,this.user_access_service=o,this.swal_service=a}ngOnDestroy(){this.permission_subscription.unsubscribe(),this.role_subscription.unsubscribe(),this.user_subscription.unsubscribe()}ngOnInit(){this.getData(),this.subscribe()}getData(){this.getPermissions(),this.getRoles(),this.getUsers()}getPermissions(){this.permissions_service.get().subscribe(t=>{!t||(this.permissions=t)},t=>{this.swal_service.error({text:t})})}getRoles(){this.roles_service.get().subscribe(t=>{!t||(this.roles=t)},t=>{this.swal_service.error({text:t})})}getUsers(){this.user_access_service.get().subscribe(t=>{!t||(this.users=t)},t=>{this.swal_service.error({text:t})})}subscribe(){this.permissionSubscribe(),this.roleSubscribe(),this.userSubscribe()}permissionSubscribe(){this.permission_subscription=this.permissions_service.permissionChange.subscribe(t=>{this.getUsers(),this.getRoles(),this.updateData(this.permissions,t)})}roleSubscribe(){this.role_subscription=this.roles_service.roleChange.subscribe(t=>{this.getUsers(),this.updateData(this.roles,t)})}userSubscribe(){this.user_subscription=this.user_access_service.userChange.subscribe(t=>{this.getRoles(),this.updateData(this.users,t)})}updateData(t,n){const o=t.findIndex(a=>a.id===n.id);-1!=o?n?.delete?t.splice(o,1):t[o]=n:t.push(n)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(fe),e.Y36(he),e.Y36(Ue),e.Y36(P.J))},i.\u0275cmp=e.Xpm({type:i,selectors:[["access"]],decls:35,vars:7,consts:[[1,"main-content"],[1,"container-fluid"],[1,"panel"],["multi","",1,"example-headers-align"],[3,"users","roles","permissions"],[3,"permissions","roles","users"],[3,"permissions"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"mat-accordion",3)(4,"mat-expansion-panel")(5,"mat-expansion-panel-header")(6,"mat-panel-title"),e._uU(7," \u041f\u043e\u0442\u0440\u0435\u0431\u0438\u0442\u0435\u043b\u0438 "),e.qZA(),e.TgZ(8,"mat-panel-description"),e._uU(9," \u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435/\u041f\u0440\u0435\u043c\u0430\u0445\u0432\u0430\u043d\u0435 "),e.TgZ(10,"mat-icon"),e._uU(11,"location_on"),e.qZA()()(),e._UZ(12,"user-permissions",4),e.qZA()()(),e.TgZ(13,"div",2)(14,"mat-accordion",3)(15,"mat-expansion-panel")(16,"mat-expansion-panel-header")(17,"mat-panel-title"),e._uU(18," \u041d\u0438\u0432\u0430 \u043d\u0430 \u0434\u043e\u0441\u0442\u044a\u043f "),e.qZA(),e.TgZ(19,"mat-panel-description"),e._uU(20," \u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435/\u041f\u0440\u0435\u043c\u0430\u0445\u0432\u0430\u043d\u0435 "),e.TgZ(21,"mat-icon"),e._uU(22,"location_on"),e.qZA()()(),e._UZ(23,"roles",5),e.qZA()()(),e.TgZ(24,"div",2)(25,"mat-accordion",3)(26,"mat-expansion-panel")(27,"mat-expansion-panel-header")(28,"mat-panel-title"),e._uU(29," \u041e\u0431\u0445\u0432\u0430\u0442 \u043d\u0430 \u0434\u043e\u0441\u0442\u044a\u043f "),e.qZA(),e.TgZ(30,"mat-panel-description"),e._uU(31," \u0414\u043e\u0431\u0430\u0432\u044f\u043d\u0435/\u041f\u0440\u0435\u043c\u0430\u0445\u0432\u0430\u043d\u0435 "),e.TgZ(32,"mat-icon"),e._uU(33,"location_on"),e.qZA()()(),e._UZ(34,"permissions",6),e.qZA()()()()()),2&t&&(e.xp6(12),e.Q6J("users",n.users)("roles",n.roles)("permissions",n.permissions),e.xp6(11),e.Q6J("permissions",n.permissions)("roles",n.roles)("users",n.users),e.xp6(11),e.Q6J("permissions",n.permissions))},dependencies:[E.pp,E.ib,E.yz,E.yK,E.u4,Z.Hw,ya,$a,pr],styles:[".panel[_ngcontent-%COMP%] {\n  margin-top: 10px;\n}\n\n.example-action-buttons[_ngcontent-%COMP%] {\n  padding-bottom: 20px;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-title[_ngcontent-%COMP%], .example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%] {\n  flex-basis: 0;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%] {\n  justify-content: end;\n  align-items: center;\n}\n\n.mat-expansion-panel-header-description[_ngcontent-%COMP%]    > .mat-icon[_ngcontent-%COMP%] {\n  margin-left: 3%;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-form-field[_ngcontent-%COMP%]    + .mat-form-field[_ngcontent-%COMP%] {\n  margin-left: 8px;\n}"]}),i})();class ut{constructor(){this.initFilters()}initFilters(){this.filters={employee:[],department_name:[],location_city:[],position_names:[],absence_type:[],absence_status:[]}}count(){return this.filters.employee.length+this.filters.department_name.length+this.filters.location_city.length+this.filters.position_names.length+this.filters.absence_type.length+this.filters.absence_status.length}isSelected(s,t){return t in this.filters&&this.filters[t].includes(s)}updateFilter(s,t){this.isSelected(s,t)?this.filters[t].splice(this.filters[t].indexOf(s),1):t in this.filters&&this.filters[t].push(s)}reset(){this.initFilters()}makeFiltering(s){return s.filter(t=>{const n=0===this.filters.employee.length||this.filters.employee.includes(t.id),o=0===this.filters.department_name.length||this.filters.department_name.includes(t.department_name),a=0===this.filters.location_city.length||this.filters.location_city.includes(t.location_city),_=0===this.filters.position_names.length||this.filters.position_names.includes(t.position_name),N=t.absence_requests.every(R=>{const K=0===this.filters.absence_type.length||this.filters.absence_type.includes(R.type_name),j=0===this.filters.absence_status.length||this.filters.absence_status.map(oe=>oe.toUpperCase()).includes(R.approval);return K&&j});return n&&o&&a&&_&&N})}isBlank(){return Object.values(this.filters).every(s=>0===s.length)}}var re=(()=>{return(i=re||(re={})).NOT_NEED="NOT_NEED",i.WAITING="WAITING",i.APPROVED="APPROVED",i.DECLINED="DECLINED",re;var i})();const mr=["employeeAutocomplete"];function gr(i,s){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"check"),e.qZA())}const ke=function(i){return{"mat-chip-selected":i}};function fr(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-chip",7),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.filter.updateFilter(a,"location_city"))}),e.YNc(1,gr,2,0,"mat-icon",8),e._uU(2),e.qZA()}if(2&i){const t=s.$implicit,n=e.oxw();e.Q6J("ngClass",e.VKq(3,ke,n.filter.isSelected(t,"location_city"))),e.xp6(1),e.Q6J("ngIf",n.filter.isSelected(t,"location_city")),e.xp6(1),e.hij(" ",t," ")}}function hr(i,s){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"check"),e.qZA())}function vr(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-chip",7),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.filter.updateFilter(a,"position_names"))}),e.YNc(1,hr,2,0,"mat-icon",8),e._uU(2),e.qZA()}if(2&i){const t=s.$implicit,n=e.oxw();e.Q6J("ngClass",e.VKq(3,ke,n.filter.isSelected(t,"position_names"))),e.xp6(1),e.Q6J("ngIf",n.filter.isSelected(t,"position_names")),e.xp6(1),e.hij(" ",t," ")}}function br(i,s){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"check"),e.qZA())}function yr(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-chip",7),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.filter.updateFilter(a,"absence_type"))}),e.YNc(1,br,2,0,"mat-icon",8),e._uU(2),e.qZA()}if(2&i){const t=s.$implicit,n=e.oxw();e.Q6J("ngClass",e.VKq(3,ke,n.filter.isSelected(t,"absence_type"))),e.xp6(1),e.Q6J("ngIf",n.filter.isSelected(t,"absence_type")),e.xp6(1),e.hij(" ",t," ")}}function xr(i,s){1&i&&(e.TgZ(0,"mat-icon"),e._uU(1,"check"),e.qZA())}function Zr(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-chip",7),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.filter.updateFilter(a,"absence_status"))}),e.YNc(1,xr,2,0,"mat-icon",8),e._uU(2),e.qZA()}if(2&i){const t=s.$implicit,n=e.oxw();e.Q6J("ngClass",e.VKq(3,ke,n.filter.isSelected(t,"absence_status"))),e.xp6(1),e.Q6J("ngIf",n.filter.isSelected(t,"absence_status")),e.xp6(1),e.hij(" ",t," ")}}let Cr=(()=>{class i{constructor(t,n){this.dialogRef=t,this.data=n,this.location_cities=[],this.employees=[],this.selectedLocations=[],this.department_names=[],this.position_names=[],this.filter=new ut,this.absence_status_List=Object.values(re),this.absence_types=[],this.employeeControl=new r.NI,this.filteredEmployees=[],this.selectedEmployees=[],this.filteredEmployees=n.employees,this.employees=n.employees,this.filter.filters=n.filters,this.location_cities=n.location_cities,this.department_names=n.department_names,this.position_names=n.position_names,this.absence_types=n.absence_types}ngOnInit(){}apply(){this.dialogRef.close({event:"apply",data:this.filter})}clearFilters(){this.selectedLocations=[]}onEmployeeInputChange(t){const n=t.target.value;this.filteredEmployees=this.employees.filter(o=>`${o.first_name} ${o.last_name}`.toLowerCase().includes(n.toLowerCase()))}onEmployeeChipEnd(t){if(!this.employeeAutocomplete.isOpen){const n=t.input;(t.value||"").trim(),n&&(n.value=""),this.employeeControl.setValue(null)}}onEmployeeOptionSelected(t){this.selectedEmployees.push(t.option.value),this.employeeControl.setValue(null)}removeEmployee(t){const n=this.selectedEmployees.indexOf(t);n>=0&&this.selectedEmployees.splice(n,1)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.so),e.Y36(d.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["app-filter-dialog"]],viewQuery:function(t,n){if(1&t&&e.Gf(mr,5),2&t){let o;e.iGM(o=e.CRH())&&(n.employeeAutocomplete=o.first)}},decls:26,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[1,"filter-option"],["aria-label","Location selection"],[3,"ngClass","click",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","",3,"click"],[3,"ngClass","click"],[4,"ngIf"]],template:function(t,n){1&t&&(e.TgZ(0,"h1",0),e._uU(1,"Filter Options"),e.qZA(),e.TgZ(2,"div",1)(3,"div",2)(4,"h3"),e._uU(5,"Location"),e.qZA(),e.TgZ(6,"mat-chip-list",3),e.YNc(7,fr,3,5,"mat-chip",4),e.qZA()(),e.TgZ(8,"div",2)(9,"h3"),e._uU(10,"Position"),e.qZA(),e.TgZ(11,"mat-chip-list",3),e.YNc(12,vr,3,5,"mat-chip",4),e.qZA()(),e.TgZ(13,"div",2)(14,"h3"),e._uU(15,"Type"),e.qZA(),e.YNc(16,yr,3,5,"mat-chip",4),e.qZA(),e.TgZ(17,"div",2)(18,"h3"),e._uU(19,"Status"),e.qZA(),e.YNc(20,Zr,3,5,"mat-chip",4),e.qZA()(),e.TgZ(21,"div",5)(22,"button",6),e.NdJ("click",function(){return n.apply()}),e._uU(23,"Apply Filters"),e.qZA(),e.TgZ(24,"button",6),e.NdJ("click",function(){return n.clearFilters()}),e._uU(25,"Clear Filters"),e.qZA()()),2&t&&(e.xp6(7),e.Q6J("ngForOf",n.location_cities),e.xp6(5),e.Q6J("ngForOf",n.position_names),e.xp6(4),e.Q6J("ngForOf",n.absence_types),e.xp6(4),e.Q6J("ngForOf",n.absence_status_List))},dependencies:[A.mk,A.sg,A.O5,D.lW,d.uh,d.xY,d.H8,Z.Hw,ae.qn,ae.HS],styles:[".employee-filter[_ngcontent-%COMP%] {\n  width: 100%;\n  margin-top: 1rem;\n}\n.employee-filter[_ngcontent-%COMP%]   .mat-chip-list[_ngcontent-%COMP%] {\n  margin-top: 0.5rem;\n}\n.mat-chip-selected[_ngcontent-%COMP%] {\n  background: #0b2e13;\n}"]}),i})();const ie=void 0,Ar=["bg",[["am","pm"],ie,["\u043f\u0440.\u043e\u0431.","\u0441\u043b.\u043e\u0431."]],[["am","pm"],ie,ie],[["\u043d","\u043f","\u0432","\u0441","\u0447","\u043f","\u0441"],["\u043d\u0434","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"],["\u043d\u0435\u0434\u0435\u043b\u044f","\u043f\u043e\u043d\u0435\u0434\u0435\u043b\u043d\u0438\u043a","\u0432\u0442\u043e\u0440\u043d\u0438\u043a","\u0441\u0440\u044f\u0434\u0430","\u0447\u0435\u0442\u0432\u044a\u0440\u0442\u044a\u043a","\u043f\u0435\u0442\u044a\u043a","\u0441\u044a\u0431\u043e\u0442\u0430"],["\u043d\u0434","\u043f\u043d","\u0432\u0442","\u0441\u0440","\u0447\u0442","\u043f\u0442","\u0441\u0431"]],ie,[["\u044f","\u0444","\u043c","\u0430","\u043c","\u044e","\u044e","\u0430","\u0441","\u043e","\u043d","\u0434"],["\u044f\u043d\u0443","\u0444\u0435\u0432","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440","\u043c\u0430\u0439","\u044e\u043d\u0438","\u044e\u043b\u0438","\u0430\u0432\u0433","\u0441\u0435\u043f","\u043e\u043a\u0442","\u043d\u043e\u0435","\u0434\u0435\u043a"],["\u044f\u043d\u0443\u0430\u0440\u0438","\u0444\u0435\u0432\u0440\u0443\u0430\u0440\u0438","\u043c\u0430\u0440\u0442","\u0430\u043f\u0440\u0438\u043b","\u043c\u0430\u0439","\u044e\u043d\u0438","\u044e\u043b\u0438","\u0430\u0432\u0433\u0443\u0441\u0442","\u0441\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438","\u043e\u043a\u0442\u043e\u043c\u0432\u0440\u0438","\u043d\u043e\u0435\u043c\u0432\u0440\u0438","\u0434\u0435\u043a\u0435\u043c\u0432\u0440\u0438"]],ie,[["\u043f\u0440.\u0425\u0440.","\u0441\u043b.\u0425\u0440."],ie,["\u043f\u0440\u0435\u0434\u0438 \u0425\u0440\u0438\u0441\u0442\u0430","\u0441\u043b\u0435\u0434 \u0425\u0440\u0438\u0441\u0442\u0430"]],1,[6,0],["d.MM.yy '\u0433'.","d.MM.y '\u0433'.","d MMMM y '\u0433'.","EEEE, d MMMM y '\u0433'."],["H:mm '\u0447'.","H:mm:ss '\u0447'.","H:mm:ss '\u0447'. z","H:mm:ss '\u0447'. zzzz"],["{1}, {0}",ie,ie,ie],[",","\xa0",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","0.00\xa0\xa4","#E0"],"BGN","\u043b\u0432.","\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438 \u043b\u0435\u0432",{AFN:[ie,"Af"],AMD:[],ARS:[],AUD:[],AZN:[],BBD:[],BDT:[],BGN:["\u043b\u0432."],BMD:[],BND:[],BRL:[],BSD:[],BZD:[],CAD:[],CLP:[],CNY:[],COP:[],CRC:[],CUP:[],DOP:[],FJD:[],FKP:[],GBP:[ie,"\xa3"],GHS:[],GIP:[],GYD:[],HKD:[],ILS:[],INR:[],JMD:[],JPY:[ie,"\xa5"],KHR:[],KRW:[],KYD:[],KZT:[],LAK:[],LRD:[],MNT:[],MXN:[],NAD:[],NGN:[],NZD:[],PHP:[],PYG:[],RON:[],SBD:[],SGD:[],SRD:[],SSP:[],TRY:[],TTD:[],TWD:[],UAH:[],USD:["\u0449.\u0434.","$"],UYU:[],VND:[],XCD:[ie,"$"]},"ltr",function Tr(i){return 1===i?1:5}];class wr extends X.LF{getMonthNames(s){return"long"===s?["\u042f\u043d\u0443\u0430\u0440\u0438","\u0424\u0435\u0432\u0440\u0443\u0430\u0440\u0438","\u041c\u0430\u0440\u0442","\u0410\u043f\u0440\u0438\u043b","\u041c\u0430\u0439","\u042e\u043d\u0438","\u042e\u043b\u0438","\u0410\u0432\u0433\u0443\u0441\u0442","\u0421\u0435\u043f\u0442\u0435\u043c\u0432\u0440\u0438","\u041e\u043a\u0442\u043e\u043c\u0432\u0440\u0438","\u041d\u043e\u0435\u043c\u0432\u0440\u0438","\u0414\u0435\u043a\u0435\u043c\u0432\u0440\u0438"]:"short"===s?["\u042f\u043d\u0443","\u0424\u0435\u0432","\u041c\u0430\u0440","\u0410\u043f\u0440","\u041c\u0430\u0439","\u042e\u043d\u0438","\u042e\u043b\u0438","\u0410\u0432\u0433","\u0421\u0435\u043f","\u041e\u043a\u0442","\u041d\u043e\u0435","\u0414\u0435\u043a"]:["\u042f","\u0424","\u041c","\u0410","\u041c","\u042e","\u042e","\u0410","\u0421","\u041e","\u041d","\u0414"]}format(s,t){return"LL"!=t&&(console.log(s),console.log(t)),"MMMM YYYY"===t?(console.log("here"),`${this.getMonthNames("long")[s.getMonth()]}`):"MMM YYYY"===t?`${this.getMonthNames("long")[s.getMonth()]} ${s.getFullYear()}`:`${s.getDate()} ${this.getMonthNames("long")[s.getMonth()]} ${s.getFullYear()}`}}function qr(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"mat-option",15)(2,"strong"),e._uU(3),e.qZA(),e._uU(4),e.qZA(),e.BQk()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(2),e.hij("",t.name," "),e.xp6(1),e.hij(" ",t.details," ")}}function Mr(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",16),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.add())}),e._uU(1," \u0414\u043e\u0431\u0430\u0432\u0438 "),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.submitting)}}function Pr(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.edit())}),e._uU(1," \u041e\u0431\u043d\u043e\u0432\u0438 "),e.qZA()}}function Ur(i,s){if(1&i&&(e.TgZ(0,"div",2)(1,"div",3)(2,"span"),e._uU(3),e.TgZ(4,"strong"),e._uU(5),e.qZA()()()()),2&i){const t=e.oxw();e.xp6(3),e.hij("\u041e\u0441\u0442\u0430\u0432\u0430\u0449\u0438 \u0434\u043d\u0438 ",t.selected_type," \u0434\u043e \u043a\u0440\u0430\u044f \u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430\u0442\u0430: "),e.xp6(2),e.Oqu(t.remaining_days)}}const lt="#request-data[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%] {\n  display: flex;\n  column-gap: 4em;\n}\n#request-data[_ngcontent-%COMP%]   .data-row[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%] {\n  flex-grow: 4;\n}";let kr=(()=>{class i{constructor(t,n,o,a,_,N,R,K){this.swal_service=t,this.absence_types_service=n,this.absence_archive_service=o,this.absences_service=a,this.employees_service=_,this.fb=N,this.datepipe=R,this.holidays_service=K,this.is_edit=!1,this.requestCreated=new e.vpe,this.requestEdited=new e.vpe,this.submitting=!1,this.weekendFilter=j=>{const oe=(j||new Date).getDay();return 0!==oe&&6!==oe},this.combinedFilter=j=>this.weekendFilter(j)&&this.holidayFilter(j),this.holidayFilter=j=>!!j&&!this.holidays.some(oe=>oe.toDateString()===j.toDateString()),this.requestForm=new Ze(N),this.requestForm.formGroup.patchValue({type_id:1}),this.holidays_service.get().subscribe(j=>{this.holidays=j.map(oe=>new Date(oe.date))})}ngOnInit(){this.request?.id&&(this.requestForm.formGroup.patchValue({id:this.request.id,type_id:this.request.type_id,employee_id:this.request.employee_id,days:this.request.days,end_date:this.request.end_date,start_date:this.request.start_date}),this.is_edit=!0),this.getTypes(),this.getEmployee()}getEmployee(){this.employees_service.getEmployee().subscribe(t=>{this.employee=t,this.getRemainingDays(t.id)})}getRemainingDays(t){this.absences_service.getRemainingDaysCurrentUser(t).subscribe(n=>{if(!n)return void this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u0438\u0437\u0447\u0438\u0441\u043b\u044f\u0432\u0430\u043d\u0435\u0442\u043e \u043d\u0430 \u043e\u0441\u0442\u0430\u0432\u0430\u0449\u0438\u0442\u0435 \u0434\u043d\u0438 \u043e\u0442\u043f\u0443\u0441\u043a:"+n});console.log("dsadasa"),console.log(n),this.remaining_days_list=n;let o=n.find(a=>a.typeId===this.requestForm.formGroup.get("type_id").value);this.remaining_days=o.remaining})}getTypes(){this.absence_types_service.get().subscribe(t=>{this.types=t})}calcAvailableDays(t){let n=this.remaining_days_list.find(a=>a.typeId===t),o=this.types.find(a=>a.id===t);n?(this.remaining_days=n.remaining,this.selected_type=o.details?o.name+"("+o.details+")":o.name):this.remaining_days=void 0}add(){this.submitting=!0,this.requestForm.formGroup.patchValue({employee_id:this.employee.id,start_date:this.datepipe.transform(this.requestForm.formGroup.get("start_date").value,"YYYY-MM-dd"),end_date:this.datepipe.transform(this.requestForm.formGroup.get("end_date").value,"YYYY-MM-dd")}),this.requestForm.formGroup.markAllAsTouched(),this.requestForm.formGroup.valid?(this.swal_service.loader(),this.absences_service.add(this.requestForm.formGroup.getRawValue()).subscribe(t=>t?t?.error?(this.swal_service.error({text:` \u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u044f\u043d\u0435\u0442\u043e \u043d\u0430 \u0437\u0430\u043f\u0438\u0441a: ${t.error}`}),void(this.submitting=!1)):(this.getRemainingDays(this.requestForm.formGroup.get("employee_id").value),this.swal_service.success({title:"\u041c\u043e\u043b\u0431\u0430\u0442\u0430 \u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d\u0430."}),this.requestForm.formGroup.patchValue({start_date:null,end_date:null}),this.requestForm.formGroup.markAsUntouched(),this.requestCreated.emit(t),void(this.submitting=!1)):(this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u044f\u043d\u0435\u0442\u043e \u043d\u0430 \u0437\u0430\u043f\u0438\u0441a:"+t}),void(this.submitting=!1)),t=>{this.submitting=!1,this.swal_service.error({title:`${t.title()}`,text:`\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u044f\u043d\u0435\u0442\u043e \u043d\u0430 \u0437\u0430\u043f\u0438\u0441a: ${t.message()}`})})):this.submitting=!1}edit(){this.requestForm.formGroup.patchValue({start_date:this.datepipe.transform(this.requestForm.formGroup.get("start_date").value,"YYYY-MM-dd"),end_date:this.datepipe.transform(this.requestForm.formGroup.get("end_date").value,"YYYY-MM-dd")}),this.requestForm.formGroup.markAllAsTouched(),this.swal_service.loader(),this.requestForm.formGroup.valid&&this.absences_service.edit(this.requestForm.formGroup.getRawValue()).subscribe(t=>{t?(this.getRemainingDays(this.requestForm.formGroup.get("employee_id").value),this.swal_service.success({title:"\u041c\u043e\u043b\u0431\u0430\u0442\u0430 \u0435 \u043e\u0431\u043d\u043e\u0432\u0435\u043d\u0430."}),this.requestEdited.emit(t)):this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u044f\u043d\u0435\u0442\u043e \u043d\u0430 \u0437\u0430\u043f\u0438\u0441a:"+t})},t=>{this.swal_service.error({title:`${t.title()}`,text:`\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u044f\u043d\u0435\u0442\u043e \u043d\u0430 \u0437\u0430\u043f\u0438\u0441a: ${t.message()}`})})}updateData(){this.absences_service.setData({value:"Child 1 updated data"})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(P.J),e.Y36(ce),e.Y36(de),e.Y36(U),e.Y36(ee),e.Y36(r.QS),e.Y36(A.uU),e.Y36(ge))},i.\u0275cmp=e.Xpm({type:i,selectors:[["absence-request"]],inputs:{is_edit:"is_edit",archive:"archive",request:"request"},outputs:{requestCreated:"requestCreated",requestEdited:"requestEdited"},decls:35,vars:12,consts:[["id","request-data"],[3,"formGroup"],[1,"data-row"],[1,"item"],["appearance","fill"],["formControlName","type_id",3,"selectionChange"],[4,"ngFor","ngForOf"],["matInput","","formControlName","start_date",3,"matDatepicker","matDatepickerFilter","focus"],["matSuffix","",3,"for"],["startPicker",""],["matInput","","formControlName","end_date",3,"matDatepicker","min","matDatepickerFilter","focus"],["endPicker",""],["mat-button","","class","btn btn-round btn-fill btn-info",3,"disabled","click",4,"ngIf"],["mat-button","","class","btn btn-round btn-fill btn-info",3,"click",4,"ngIf"],["class","data-row",4,"ngIf"],[3,"value"],["mat-button","",1,"btn","btn-round","btn-fill","btn-info",3,"disabled","click"],["mat-button","",1,"btn","btn-round","btn-fill","btn-info",3,"click"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e._uU(3,"\u0417\u0430\u044f\u0432\u043aa"),e.qZA(),e.TgZ(4,"mat-card-subtitle"),e._uU(5,"\u041e\u0442\u043f\u0443\u0441\u043a, \u0431\u043e\u043b\u043d\u0438\u0447\u043d\u0438 \u0438 \u0434\u0440.."),e.qZA()(),e.TgZ(6,"mat-card-content",0)(7,"form",1)(8,"div",2)(9,"div",3)(10,"mat-form-field",4)(11,"mat-label"),e._uU(12,"\u0412\u0438\u0434 \u043e\u0442\u043f\u0443\u0441\u043a"),e.qZA(),e.TgZ(13,"mat-select",5),e.NdJ("selectionChange",function(_){return n.calcAvailableDays(_.value)}),e.YNc(14,qr,5,3,"ng-container",6),e.qZA()()(),e.TgZ(15,"div",3)(16,"mat-form-field")(17,"mat-label"),e._uU(18,"\u041d\u0430\u0447\u0430\u043b\u043d\u0430 \u0434\u0430\u0442\u0430"),e.qZA(),e.TgZ(19,"input",7),e.NdJ("focus",function(){e.CHM(o);const _=e.MAs(22);return e.KtG(_.open())}),e.qZA(),e._UZ(20,"mat-datepicker-toggle",8)(21,"mat-datepicker",null,9),e.qZA()(),e.TgZ(23,"div",3)(24,"mat-form-field")(25,"mat-label"),e._uU(26,"\u041a\u0440\u0430\u0439\u043d\u0430 \u0434\u0430\u0442\u0430"),e.qZA(),e.TgZ(27,"input",10),e.NdJ("focus",function(){e.CHM(o);const _=e.MAs(30);return e.KtG(_.open())}),e.qZA(),e._UZ(28,"mat-datepicker-toggle",8)(29,"mat-datepicker",null,11),e.qZA()(),e.TgZ(31,"div",3),e.YNc(32,Mr,2,1,"button",12),e.YNc(33,Pr,2,0,"button",13),e.qZA()(),e.YNc(34,Ur,6,2,"div",14),e.qZA()()()}if(2&t){const o=e.MAs(22),a=e.MAs(30);e.xp6(7),e.Q6J("formGroup",n.requestForm.formGroup),e.xp6(7),e.Q6J("ngForOf",n.types),e.xp6(5),e.Q6J("matDatepicker",o)("matDatepickerFilter",n.combinedFilter),e.xp6(1),e.Q6J("for",o),e.xp6(7),e.Q6J("matDatepicker",a)("min",n.requestForm.formGroup.get("start_date").value)("matDatepickerFilter",n.combinedFilter),e.xp6(1),e.Q6J("for",a),e.xp6(4),e.Q6J("ngIf",!n.is_edit),e.xp6(1),e.Q6J("ngIf",n.is_edit),e.xp6(1),e.Q6J("ngIf",n.remaining_days)}},dependencies:[A.sg,A.O5,y.a8,y.dk,y.dn,y.n5,y.$j,l.KE,l.hX,l.R9,m.Nt,D.lW,ne.gD,X.ey,G.Mq,G.hl,G.nW,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u],styles:[lt]}),i})(),ct=(()=>{class i{constructor(t,n){this.data=t,this.dialogRef=n}ngOnInit(){this.request=this.data.request}onRequestEdited(t){this.request=t,this.dialogRef.close(this.request)}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.WI),e.Y36(d.so))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:2,vars:1,consts:[[3,"request","requestEdited"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-dialog-content")(1,"absence-request",0),e.NdJ("requestEdited",function(a){return n.onRequestEdited(a)}),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("request",n.request))},dependencies:[d.xY,kr],styles:[lt]}),i})();function Dr(i,s){1&i&&(e.TgZ(0,"mat-header-cell",14),e._uU(1,"\u0421\u044a\u0437\u0434\u0430\u0434\u0435\u043d\u0430"),e.qZA())}function Or(i,s){if(1&i&&(e.TgZ(0,"mat-cell",15),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.created_at)}}function Fr(i,s){1&i&&(e.TgZ(0,"mat-header-cell",14),e._uU(1,"\u041d\u0430\u0447\u0430\u043b\u043d\u0430 \u0434\u0430\u0442\u0430"),e.qZA())}function Er(i,s){if(1&i&&(e.TgZ(0,"mat-cell",15),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.start_date)}}function Nr(i,s){1&i&&(e.TgZ(0,"mat-header-cell",14),e._uU(1,"\u041a\u0440\u0430\u0439\u043d\u0430 \u0434\u0430\u0442\u0430"),e.qZA())}function Jr(i,s){if(1&i&&(e.TgZ(0,"mat-cell",15),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.end_date)}}function Yr(i,s){1&i&&(e.TgZ(0,"mat-header-cell",14),e._uU(1,"\u0414\u043d\u0438"),e.qZA())}function Ir(i,s){if(1&i&&(e.TgZ(0,"mat-cell",15),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.days)}}function Qr(i,s){1&i&&(e.TgZ(0,"mat-header-cell",14),e._uU(1,"\u0412\u0438\u0434"),e.qZA())}function Sr(i,s){if(1&i&&(e.TgZ(0,"mat-cell",15),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.type_name)}}function Br(i,s){1&i&&(e.TgZ(0,"mat-header-cell",14),e._uU(1,"\u0421\u0442\u0430\u0442\u0443\u0441"),e.qZA())}function Rr(i,s){if(1&i&&(e.TgZ(0,"mat-cell",15),e._uU(1),e.qZA()),2&i){const t=s.$implicit;e.xp6(1),e.Oqu(t.approval)}}function Lr(i,s){1&i&&e._UZ(0,"mat-header-cell",14)}function Gr(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"mat-cell")(1,"button",16),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.changeStatus(a,_.approved))}),e.TgZ(2,"mat-icon"),e._uU(3,"check_circle"),e.qZA()(),e.TgZ(4,"button",16),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.changeStatus(a,_.declined))}),e.TgZ(5,"mat-icon"),e._uU(6,"highlight_off"),e.qZA()(),e.TgZ(7,"button",16),e.NdJ("click",function(){const a=e.CHM(t).$implicit,_=e.oxw();return e.KtG(_.edit(a))}),e.TgZ(8,"mat-icon"),e._uU(9,"edit"),e.qZA()()()}if(2&i){const t=s.$implicit,n=e.oxw();e.xp6(1),e.Q6J("disabled",n.canApprove(t.employee_id)),e.xp6(3),e.Q6J("disabled",n.canApprove(t.employee_id)),e.xp6(3),e.Q6J("disabled",n.canBeEdited(t.employee_id))}}function $r(i,s){1&i&&e._UZ(0,"mat-header-row",17)}function Hr(i,s){1&i&&e._UZ(0,"mat-row",18)}const dt=".mat-table[_ngcontent-%COMP%] {\n  width: 100%;\n}\n\n.header-row[_ngcontent-%COMP%] {\n  background-color: #f5f5f5;\n}\n\n.header-cell[_ngcontent-%COMP%] {\n  font-weight: bold;\n  color: #333;\n}\n\n.data-row[_ngcontent-%COMP%]:nth-child(even) {\n  background-color: #f9f9f9;\n}\n\n.cell[_ngcontent-%COMP%] {\n  padding: 8px;\n}";let zr=(()=>{class i{constructor(t,n,o,a,_,N,R){this.absences_service=t,this.fb=n,this.swal_service=o,this.dialog=a,this.datepipe=_,this.employee_service=N,this.user_permissions=R,this.closeDialog=new e.vpe,this.displayedColumns=["created","start_date","end_date","days","type_name","approval","actions"],this.approved=re.APPROVED,this.declined=re.DECLINED,this.requestForm=new Ze(n)}ngOnInit(){this.getCurrentEmployee(),this.checkPermissions(),this.absence_requests=new k.by(this.requests)}approve(t){this.swal_service.loader(),this.absences_service.approve(this.requestForm.formGroup.getRawValue()).subscribe(n=>{if(!n)return this.updateError(t);n&&(this.employee.remaining_days.paid_days_left-=n.days,this.updateSuccess(t.approval))},n=>{t.approval=re.WAITING,this.swal_service.error({title:`${n.title()}`,text:`${n.message()}`})})}decline(t){this.swal_service.loader(),this.absences_service.decline(this.requestForm.formGroup.getRawValue()).subscribe(n=>{if(!n)return this.updateError(t);n&&this.updateSuccess(t.approval)},n=>{this.swal_service.error({title:`${n.title()}`,text:`${n.message()}`})})}updateError(t){t.approval=re.WAITING,this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u043e\u0431\u043d\u043e\u0432\u044f\u0432\u0430\u043d\u0435\u0442\u043e \u043d\u0430 \u0441\u0442\u0430\u0442\u0443\u0441\u0430!"})}updateSuccess(t){this.swal_service.success({title:`\u041c\u043e\u043b\u0431\u0430\u0442\u0430 \u0437\u0430 \u043e\u0442\u043f\u0443\u0441\u043a \u0435 ${t===re.DECLINED?"\u043e\u0442\u043a\u0430\u0437\u0430\u043d\u0430":"\u043e\u0434\u043e\u0431\u0440\u0435\u043d\u0430"}!`}).then(o=>{o.isConfirmed&&1==this.requests.length&&this.closeDialog.emit()})}changeStatus(t,n){if(t.approval=n,this.requestForm.formGroup.patchValue(t),this.requestForm.formGroup.markAllAsTouched(),this.requestForm.formGroup.valid)switch(n){case re.APPROVED:this.approve(t);break;case re.DECLINED:this.decline(t)}}edit(t){this.dialog.open(ct,{data:{request:t}}).afterClosed().subscribe(o=>{o&&this.updateRequest(o)})}updateRequest(t){const n=this.requests.findIndex(o=>o.id===t.id);-1!==n?(this.requests[n]=t,this.absence_requests=new k.by(this.requests)):console.log("Request not found in the array."),console.log("Updated Requests:",this.requests)}getCurrentEmployee(){this.employee_service.getEmployee().subscribe(t=>this.loggedEmployee=t)}checkPermissions(){this.user_permissions.hasPermission("can_edit_absence_request").subscribe(t=>this.canEdit=t),this.user_permissions.hasPermission("can_edit_absence_request_global").subscribe(t=>this.canEditGlobal=t),this.user_permissions.hasPermission("can_edit_absence_request_supervision").subscribe(t=>this.canEditSupervision=t),this.user_permissions.hasPermission("can_approve_absence_request_global").subscribe(t=>this.canApproveGlobal=t),this.user_permissions.hasPermission("can_approve_absence_request_supervision").subscribe(t=>this.canApproveSupervision=t)}canBeEdited(t){return!(this.canEditGlobal||t===this.loggedEmployee?.id&&this.canEdit||this.canEditSupervision&&this.loggedEmployee.subordinates.some(o=>o.id===t))}canApprove(t){return!(this.canApproveGlobal||this.canApproveSupervision&&this.loggedEmployee.subordinates.some(o=>o.id===t))}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(U),e.Y36(r.QS),e.Y36(P.J),e.Y36(d.uw),e.Y36(A.uU),e.Y36(ee),e.Y36(me.Q))},i.\u0275cmp=e.Xpm({type:i,selectors:[["pending-absence-requests"]],inputs:{employee:"employee",requests:"requests"},outputs:{closeDialog:"closeDialog"},decls:25,vars:4,consts:[[1,"table-wrapper"],["matSort","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","created"],["mat-sort-header","","class","header-cell",4,"matHeaderCellDef"],["class","cell",4,"matCellDef"],["matColumnDef","start_date"],["matColumnDef","end_date"],["matColumnDef","days"],["matColumnDef","type_name"],["matColumnDef","approval"],["matColumnDef","actions"],[4,"matCellDef"],["class","header-row",4,"matHeaderRowDef","matHeaderRowDefSticky"],["class","data-row",4,"matRowDef","matRowDefColumns"],["mat-sort-header","",1,"header-cell"],[1,"cell"],["mat-icon-button","",3,"disabled","click"],[1,"header-row"],[1,"data-row"]],template:function(t,n){1&t&&(e.TgZ(0,"div",0)(1,"mat-table",1),e.ynx(2,2),e.YNc(3,Dr,2,0,"mat-header-cell",3),e.YNc(4,Or,2,1,"mat-cell",4),e.BQk(),e.ynx(5,5),e.YNc(6,Fr,2,0,"mat-header-cell",3),e.YNc(7,Er,2,1,"mat-cell",4),e.BQk(),e.ynx(8,6),e.YNc(9,Nr,2,0,"mat-header-cell",3),e.YNc(10,Jr,2,1,"mat-cell",4),e.BQk(),e.ynx(11,7),e.YNc(12,Yr,2,0,"mat-header-cell",3),e.YNc(13,Ir,2,1,"mat-cell",4),e.BQk(),e.ynx(14,8),e.YNc(15,Qr,2,0,"mat-header-cell",3),e.YNc(16,Sr,2,1,"mat-cell",4),e.BQk(),e.ynx(17,9),e.YNc(18,Br,2,0,"mat-header-cell",3),e.YNc(19,Rr,2,1,"mat-cell",4),e.BQk(),e.ynx(20,10),e.YNc(21,Lr,1,0,"mat-header-cell",3),e.YNc(22,Gr,10,3,"mat-cell",11),e.BQk(),e.YNc(23,$r,1,0,"mat-header-row",12),e.YNc(24,Hr,1,0,"mat-row",13),e.qZA()()),2&t&&(e.xp6(1),e.Q6J("dataSource",n.absence_requests),e.xp6(22),e.Q6J("matHeaderRowDef",n.displayedColumns)("matHeaderRowDefSticky",!0),e.xp6(1),e.Q6J("matRowDefColumns",n.displayedColumns))},dependencies:[D.lW,Z.Hw,k.BZ,k.fO,k.as,k.w1,k.Dz,k.nj,k.ge,k.ev,k.XQ,k.Gk,te.YE,te.nU],styles:[dt]}),i})(),jr=(()=>{class i{constructor(t,n,o,a){this.dialogRef=t,this.router=n,this.route=o,this.data=a,this.employee=a.employee,this.requests=a.requests}onCloseDialog(){this.dialogRef.close()}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.so),e.Y36(ue.F0),e.Y36(ue.gz),e.Y36(d.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["pending-absence-requests-dialog"]],decls:4,vars:4,consts:[[1,"scrollable-content"],[3,"employee","requests","closeDialog"]],template:function(t,n){1&t&&(e.TgZ(0,"h1"),e._uU(1),e.qZA(),e.TgZ(2,"div",0)(3,"pending-absence-requests",1),e.NdJ("closeDialog",function(){return n.onCloseDialog()}),e.qZA()()),2&t&&(e.xp6(1),e.AsE("",n.employee.first_name," ",n.employee.last_name,""),e.xp6(2),e.Q6J("employee",n.employee)("requests",n.requests))},dependencies:[zr],styles:[dt]}),i})();function Kr(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"mat-option",16)(2,"strong"),e._uU(3),e.qZA()(),e.BQk()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(2),e.AsE("",t.first_name," ",t.last_name,"")}}function Xr(i,s){if(1&i&&(e.ynx(0),e.TgZ(1,"mat-option",16)(2,"strong"),e._uU(3),e.qZA(),e._uU(4),e.qZA(),e.BQk()),2&i){const t=s.$implicit;e.xp6(1),e.Q6J("value",t.id),e.xp6(2),e.hij("",t.name," "),e.xp6(1),e.hij(" ",t.details," ")}}function Wr(i,s){if(1&i&&(e.TgZ(0,"div",3)(1,"span"),e._uU(2),e.TgZ(3,"strong"),e._uU(4),e.qZA()()()),2&i){const t=e.oxw();e.xp6(2),e.hij("\u041e\u0441\u0442\u0430\u0432\u0430\u0449\u0438 \u0434\u043d\u0438 ",t.selected_type," \u0434\u043e \u043a\u0440\u0430\u044f \u043d\u0430 \u0433\u043e\u0434\u0438\u043d\u0430\u0442\u0430: "),e.xp6(2),e.Oqu(t.remaining_days)}}function Vr(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",17),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.add())}),e._uU(1," \u0414\u043e\u0431\u0430\u0432\u0438 "),e.qZA()}if(2&i){const t=e.oxw();e.Q6J("disabled",t.submitting)}}function eu(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",18),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.edit())}),e._uU(1," \u041e\u0431\u043d\u043e\u0432\u0438 "),e.qZA()}}let tu=(()=>{class i{constructor(t,n,o,a,_){this.fb=t,this.datepipe=n,this.absences_service=o,this.swal_service=a,this.holidays_service=_,this.is_edit=!1,this.submitting=!1,this.combinedFilter=N=>this.weekendFilter(N)&&this.holidayFilter(N),this.weekendFilter=N=>{const R=(N||new Date).getDay();return 0!==R&&6!==R},this.holidayFilter=N=>!!N&&!this.holidays.some(R=>R.toDateString()===N.toDateString()),this.requestForm=new Ze(t),this.requestForm.formGroup.patchValue({type_id:1}),this.holidays_service.get().subscribe(N=>{this.holidays=N.map(R=>new Date(R.date))})}ngOnInit(){console.log(this.employees)}setEmployee(){let t=this.requestForm.formGroup.get("employee_id").value;this.selected_employee=this.employees.find(o=>o.id===t);let n=this.requestForm.formGroup.get("type_id").value;n&&this.calcAvailableDays(n)}calcAvailableDays(t){if(!this.selected_employee)return;let n=this.selected_employee.remaining_days.list.find(a=>a.typeId===t),o=this.absence_types.find(a=>a.id===t);n?(this.remaining_days=n.remaining,this.selected_type=o.details?o.name+"("+o.details+")":o.name):this.remaining_days=void 0}add(){this.submitting=!0,this.requestForm.formGroup.patchValue({start_date:this.datepipe.transform(this.requestForm.formGroup.get("start_date").value,"YYYY-MM-dd"),end_date:this.datepipe.transform(this.requestForm.formGroup.get("end_date").value,"YYYY-MM-dd")}),this.requestForm.formGroup.markAllAsTouched(),this.requestForm.formGroup.valid?(this.swal_service.loader(),this.absences_service.add(this.requestForm.formGroup.getRawValue()).subscribe(t=>t?t instanceof L.y?(this.swal_service.error({title:`${t.title()}`,text:` \u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u044f\u043d\u0435\u0442\u043e \u043d\u0430 \u0437\u0430\u043f\u0438\u0441a: ${t.message()}`}),void(this.submitting=!1)):(this.swal_service.success({title:"\u041c\u043e\u043b\u0431\u0430\u0442\u0430 \u0435 \u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u043d\u0430. 2"}),this.requestForm.formGroup.patchValue({start_date:null,end_date:null}),this.requestForm.formGroup.markAsUntouched(),void(this.submitting=!1)):(this.swal_service.error({text:"\u0412\u044a\u0437\u043d\u0438\u043a\u043d\u0430 \u0433\u0440\u0435\u0448\u043a\u0430 \u043f\u0440\u0438 \u0434\u043e\u0431\u0430\u0432\u044f\u043d\u0435\u0442\u043e \u043d\u0430 \u0437\u0430\u043f\u0438\u0441a:"+t}),void(this.submitting=!1)),t=>{this.submitting=!1,this.swal_service.error({title:`${t.title()}`,text:`${t.message()}`})})):this.submitting=!1}edit(){}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(r.QS),e.Y36(A.uU),e.Y36(U),e.Y36(P.J),e.Y36(ge))},i.\u0275cmp=e.Xpm({type:i,selectors:[["register-absence"]],inputs:{employees:"employees",is_edit:"is_edit",absence_types:"absence_types"},decls:41,vars:13,consts:[["id","request-data"],[3,"formGroup"],[1,"data-row"],[1,"item"],["appearance","fill"],["formControlName","employee_id",3,"selectionChange"],[4,"ngFor","ngForOf"],["formControlName","type_id",3,"selectionChange"],["class","item",4,"ngIf"],["matInput","","formControlName","start_date",3,"matDatepicker","matDatepickerFilter","focus"],["matSuffix","",3,"for"],["startPicker",""],["matInput","","formControlName","end_date",3,"matDatepicker","min","matDatepickerFilter","focus"],["endPicker",""],["mat-button","","class","btn btn-round btn-fill btn-info",3,"disabled","click",4,"ngIf"],["mat-button","","class","btn btn-round btn-fill btn-info",3,"click",4,"ngIf"],[3,"value"],["mat-button","",1,"btn","btn-round","btn-fill","btn-info",3,"disabled","click"],["mat-button","",1,"btn","btn-round","btn-fill","btn-info",3,"click"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"mat-card")(1,"mat-card-header")(2,"mat-card-title"),e._uU(3,"\u0417\u0430\u044f\u0432\u043aa"),e.qZA(),e.TgZ(4,"mat-card-subtitle"),e._uU(5,"\u041e\u0442\u043f\u0443\u0441\u043a, \u0431\u043e\u043b\u043d\u0438\u0447\u043d\u0438 \u0438 \u0434\u0440.."),e.qZA()(),e.TgZ(6,"mat-card-content",0)(7,"form",1)(8,"div",2)(9,"div",3)(10,"mat-form-field",4)(11,"mat-label"),e._uU(12,"\u0421\u043b\u0443\u0436\u0438\u0442\u0435\u043b"),e.qZA(),e.TgZ(13,"mat-select",5),e.NdJ("selectionChange",function(){return n.setEmployee()}),e.YNc(14,Kr,4,3,"ng-container",6),e.qZA()()(),e.TgZ(15,"div",3)(16,"mat-form-field",4)(17,"mat-label"),e._uU(18,"\u0412\u0438\u0434 \u043e\u0442\u043f\u0443\u0441\u043a"),e.qZA(),e.TgZ(19,"mat-select",7),e.NdJ("selectionChange",function(_){return n.calcAvailableDays(_.value)}),e.YNc(20,Xr,5,3,"ng-container",6),e.qZA()()(),e.YNc(21,Wr,5,2,"div",8),e.TgZ(22,"div",3)(23,"mat-form-field")(24,"mat-label"),e._uU(25,"\u041d\u0430\u0447\u0430\u043b\u043d\u0430 \u0434\u0430\u0442\u0430"),e.qZA(),e.TgZ(26,"input",9),e.NdJ("focus",function(){e.CHM(o);const _=e.MAs(29);return e.KtG(_.open())}),e.qZA(),e._UZ(27,"mat-datepicker-toggle",10)(28,"mat-datepicker",null,11),e.qZA()(),e.TgZ(30,"div",3)(31,"mat-form-field")(32,"mat-label"),e._uU(33,"\u041a\u0440\u0430\u0439\u043d\u0430 \u0434\u0430\u0442\u0430"),e.qZA(),e.TgZ(34,"input",12),e.NdJ("focus",function(){e.CHM(o);const _=e.MAs(37);return e.KtG(_.open())}),e.qZA(),e._UZ(35,"mat-datepicker-toggle",10)(36,"mat-datepicker",null,13),e.qZA()(),e.TgZ(38,"div",3),e.YNc(39,Vr,2,1,"button",14),e.YNc(40,eu,2,0,"button",15),e.qZA()()()()()}if(2&t){const o=e.MAs(29),a=e.MAs(37);e.xp6(7),e.Q6J("formGroup",n.requestForm.formGroup),e.xp6(7),e.Q6J("ngForOf",n.employees),e.xp6(6),e.Q6J("ngForOf",n.absence_types),e.xp6(1),e.Q6J("ngIf",n.remaining_days),e.xp6(5),e.Q6J("matDatepicker",o)("matDatepickerFilter",n.combinedFilter),e.xp6(1),e.Q6J("for",o),e.xp6(7),e.Q6J("matDatepicker",a)("min",n.requestForm.formGroup.get("start_date").value)("matDatepickerFilter",n.combinedFilter),e.xp6(1),e.Q6J("for",a),e.xp6(4),e.Q6J("ngIf",!n.is_edit),e.xp6(1),e.Q6J("ngIf",n.is_edit)}},dependencies:[A.sg,A.O5,y.a8,y.dk,y.dn,y.n5,y.$j,l.KE,l.hX,l.R9,m.Nt,D.lW,ne.gD,X.ey,G.Mq,G.hl,G.nW,r._Y,r.Fj,r.JJ,r.JL,r.sg,r.u]}),i})(),nu=(()=>{class i{constructor(t){this.data=t}ngOnInit(){this.employees=this.data.employees,this.absence_types=this.data.absence_types}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(d.WI))},i.\u0275cmp=e.Xpm({type:i,selectors:[["ng-component"]],decls:2,vars:2,consts:[[3,"employees","absence_types"]],template:function(t,n){1&t&&(e.TgZ(0,"mat-dialog-content"),e._UZ(1,"register-absence",0),e.qZA()),2&t&&(e.xp6(1),e.Q6J("employees",n.employees)("absence_types",n.absence_types))},dependencies:[d.xY,tu]}),i})();function iu(i,s){if(1&i&&(e.TgZ(0,"span",39),e._uU(1),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Oqu(t.filter.count())}}function ou(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"button",40),e.NdJ("click",function(){e.CHM(t);const o=e.oxw();return e.KtG(o.clearFilters())}),e._uU(1," Clear filter "),e.qZA()}}function su(i,s){if(1&i&&(e.TgZ(0,"mat-option",13),e._uU(1),e.qZA()),2&i){const t=e.oxw().$implicit;e.Q6J("value",t),e.xp6(1),e.Oqu(t)}}function au(i,s){if(1&i&&(e.ynx(0),e.YNc(1,su,2,2,"mat-option",41),e.BQk()),2&i){const t=s.$implicit,n=e.oxw();e.xp6(1),e.Q6J("ngIf",t!==n.employee_department)}}function ru(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",50),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw();return e.KtG(a.openEmployeeAbsenceRequests(o,a.getWaitingApprovals(o.absence_requests)))}),e._uU(1),e.qZA()}if(2&i){const t=e.oxw().$implicit,n=e.oxw();e.xp6(1),e.Oqu(n.getWaitingApprovals(t.absence_requests).length)}}function uu(i,s){if(1&i){const t=e.EpF();e.TgZ(0,"div",42)(1,"div",43)(2,"div",44),e._uU(3),e.qZA(),e.YNc(4,ru,2,1,"div",45),e.TgZ(5,"img",46),e.NdJ("error",function(o){e.CHM(t);const a=e.oxw();return e.KtG(o.target.src=a.ASSETS_PATH+"img/default/profile_avatar.png")}),e.qZA()(),e.TgZ(6,"div",47)(7,"div",48),e._uU(8),e.qZA(),e.TgZ(9,"div",49),e._uU(10),e.qZA()()()}if(2&i){const t=s.$implicit,n=e.oxw();e.xp6(3),e.Oqu(t.remaining_days.paid_days_left),e.xp6(1),e.Q6J("ngIf",n.getWaitingApprovals(t.absence_requests).length>0),e.xp6(1),e.Q6J("alt",t.first_name+" "+t.last_name)("src",n.ASSETS_PATH+"img/faces/profile_picture_"+t.id+".jpg",e.LSH),e.xp6(3),e.AsE(" ",t.first_name," ",t.last_name," "),e.xp6(2),e.hij(" ",t.position_name," ")}}function lu(i,s){if(1&i&&(e.TgZ(0,"div",51)(1,"div",52),e._uU(2),e.qZA()()),2&i){const t=s.$implicit,n=e.oxw();e.ekj("today",n.isToday(t.date)),e.xp6(1),e.s9C("aria-label",n.formatDate(t.date).split(" ")[1]),e.xp6(1),e.Oqu(n.week_days[t.date.getDay()])}}function cu(i,s){if(1&i){const t=e.EpF();e.ynx(0),e.TgZ(1,"div",55),e.NdJ("click",function(){e.CHM(t);const o=e.oxw().$implicit,a=e.oxw().$implicit,_=e.oxw();return e.KtG(_.openEmployeeAbsenceRequests(a,o.absences[a.id]))}),e.TgZ(2,"div",56)(3,"mat-icon"),e._uU(4,"beach_access"),e.qZA()()(),e.BQk()}if(2&i){const t=e.oxw().$implicit,n=e.oxw().$implicit,o=e.oxw();e.xp6(1),e.ekj("holiday",null==t.custom_data.holiday?null:t.custom_data.holiday.name)("weekend",1==t.custom_data.weekend)("approved","APPROVED"==t.absences[n.id].approval),e.xp6(1),e.Q6J("matTooltip",(null==t.custom_data.holiday?null:t.custom_data.holiday.name)||o.formatDate(t.date).split(" ")[1])}}function du(i,s){if(1&i&&(e.TgZ(0,"div",57)(1,"div",56),e._uU(2),e.qZA()()),2&i){const t=e.oxw().$implicit,n=e.oxw(2);e.ekj("weekend",1==t.custom_data.weekend)("holiday",null==t.custom_data.holiday?null:t.custom_data.holiday.name),e.xp6(1),e.Q6J("matTooltip",(null==t.custom_data.holiday?null:t.custom_data.holiday.name)||n.formatDate(t.date).split(" ")[1]),e.xp6(1),e.Oqu(t.date.getDate())}}function pu(i,s){if(1&i&&(e.ynx(0),e.YNc(1,cu,5,7,"ng-container",53),e.YNc(2,du,3,6,"ng-template",null,54,e.W1O),e.BQk()),2&i){const t=s.$implicit,n=e.MAs(3),o=e.oxw().$implicit;e.xp6(1),e.Q6J("ngIf",t.absences[o.id])("ngIfElse",n)}}function _u(i,s){if(1&i&&(e.TgZ(0,"div",36),e.YNc(1,pu,4,2,"ng-container",14),e.qZA()),2&i){const t=e.oxw();e.xp6(1),e.Q6J("ngForOf",t.calendar_data)}}(0,A.qS)(Ar);let mu=(()=>{class i{constructor(t,n,o,a,_,N,R,K,j,oe,Ne){this.swal_service=t,this.absences_service=n,this.employees_service=o,this.company_data_service=a,this.dialog=_,this.absence_type_service=N,this.datePipe=R,this.dateAdapter=K,this.route=j,this.user_permissions=oe,this.holidays_service=Ne,this.ASSETS_PATH="/test/hr-app/public/assets/angular/assets/",this.week_days=["S","M","T","W","T","F","S"],this.today=new Date,this.employees=[],this.department_names=[],this.employee_department="\u041c\u0430\u0440\u043a\u0435\u0442\u0438\u043d\u0433",this.calendar_data=[],this.filter=new ut,this.location_cities=[],this.canApproveGlobal=!1,this.canApproveSupervision=!1,this.canRegisterGlobal=!1,this.canRegisterSupervision=!1,this.bgDatePipe=new A.uU("bg"),this.selectedDepartment="",this.filtered_employees=[],this.disableNavigation=!1}subscribeRequestDialog(){this.routeQueryParams$=this.route.queryParams.subscribe(t=>{if(t.dialog){let o,n=this.employees.find(a=>a.id==t["employee-id"]);n?.absence_requests.forEach(a=>{a.id==t["request-id"]&&(o=a)}),setTimeout(()=>{console.log(n),console.log(o),this.openEmployeeAbsenceRequests(n,o)},1e3)}})}formatDate(t){const o=this.bgDatePipe.transform(t,"d MMMM y").split(" "),a=o[1].charAt(0).toUpperCase()+o[1].slice(1);return`${o[0]} ${a} ${o[2]}`}quickFilter(t){this.filtered_employees="all"==t?JSON.parse(JSON.stringify(this.employees)):this.employees.filter(n=>n.department_name===t)}onSearch(t){t=t.toLowerCase(),this.filteredDepartments=this.department_names.filter(n=>n.toLowerCase().includes(t)&&n!==this.employee_department)}ngOnInit(){this.swal_service.loader().fire(),(0,e.X6Q)()&&(this.ASSETS_PATH="/assets/"),this.holidays_service.get().subscribe(t=>this.holidays=t),this.absence_type_service.get().subscribe(t=>{this.absence_types=t}),this.employees_service.getEmployee().subscribe(t=>{this.employee=t,this.default_department=t.department_name}),this.initCalendarDays(),this.company_data_service.getCompanyData().subscribe(t=>{this.department_names=t.departments.map(n=>n.name),this.filteredDepartments=this.department_names,this.position_names=t.positions.map(n=>n.name),this.location_cities=t.locations.map(n=>n.city),this.employees=t.employees,this.requests=t.employees.map(n=>n.absence_requests).reduce((n,o)=>n.concat(o),[]),this.generateCalendar(),this.subscribeRequestDialog(),this.checkPermissions()},t=>{this.errors=!0,this.swal_service.error({text:"Company data cannot be loaded. Issue:"+t.error.error})}),this.setSubscriptions()}ngAfterViewInit(){this.errors||this.swal_service.loader().close()}ngOnDestroy(){this.routeQueryParams$.unsubscribe()}prevMonth(){this.start_date=new Date(this.prev_start_date),this.end_date=new Date(this.prev_end_date),this.calcPrevNextDates(),this.generateCalendar()}nextMonth(){this.start_date=new Date(this.next_start_date),this.end_date=new Date(this.next_end_date),this.calcPrevNextDates(),this.generateCalendar()}calcPrevNextDates(){this.prev_start_date=new Date(this.start_date),this.prev_start_date.setMonth(this.start_date.getMonth()-1),this.prev_end_date=new Date(this.end_date),this.prev_end_date.setMonth(this.end_date.getMonth()-1),this.next_start_date=new Date(this.start_date),this.next_start_date.setMonth(this.start_date.getMonth()+1),this.next_end_date=new Date(this.end_date),this.next_end_date.setMonth(this.end_date.getMonth()+1)}isToday(t){return t.toString()==this.today.toString()}isWeekend(t){const n=t.getDay();return 0===n||6===n}filterAbsences(t){return this.requests.filter(o=>t>=new Date(o.start_date).setHours(0,0,0,0)&&t<=new Date(o.end_date).setHours(0,0,0,0)).reduce((o,a)=>(o[a.employee_id]=a,o),{})}restartCalendar(){this.initCalendarDays(),this.generateCalendar(),this.calcPrevNextDates()}initCalendarDays(){this.start_date=new Date(this.today),this.end_date=new Date(this.start_date),this.end_date.setMonth(this.start_date.getMonth()+1),this.prev_start_date=new Date(this.start_date),this.prev_end_date=new Date(this.end_date),this.next_start_date=new Date(this.start_date),this.next_end_date=new Date(this.end_date),this.calcPrevNextDates()}generateCalendar(){const t=[],n=new Date(this.start_date);for(;n<=this.end_date;)t.push({date:new Date(n),custom_data:{weekend:this.isWeekend(n),holiday:this.getHoliday(new Date(n).setHours(0,0,0,0))},absences:this.filterAbsences(new Date(n).setHours(0,0,0,0))}),n.setDate(n.getDate()+1);this.calendar_data=t,console.log(this.calendar_data)}getHoliday(t){return this.holidays.find(n=>(new Date(n.date).setHours(0,0,0,0)==t&&(console.log(new Date(n.date).setHours(0,0,0,0)),console.log(t),console.log(n)),new Date(n.date).setHours(0,0,0,0)===t))}openFilterDialog(){this.dialog.open(Cr,{data:{employees:this.employees,department_names:this.department_names,location_cities:this.location_cities,position_names:this.position_names,absence_types:this.absence_types,filters:JSON.parse(JSON.stringify(this.filter.filters))}}).afterClosed().subscribe(n=>{"apply"==n.event&&(this.quickFilter(this.selectedDepartment),this.filter=n.data,this.filter.isBlank()||(this.filtered_employees=this.filter.makeFiltering(this.employees)))})}applyFilters(t){this.filtered_employees=this.employees.filter(n=>t.locations.includes(n.location)),this.disableNavigation=!0}clearFilters(){this.filtered_employees=this.employees,this.filter.reset(),this.quickFilter(this.selectedDepartment),this.disableNavigation=!1}getWaitingApprovals(t){return t.filter(n=>"WAITING"===n.approval)}openEmployeeAbsenceRequests(t,n){this.dialog.open(jr,{data:{employee:t,requests:Array.isArray(n)?n:[n]},minWidth:"80vw"})}addRequest(){this.dialog.open(ct,{data:{}})}registerAbsence(){this.dialog.open(nu,{data:{employees:this.employees,absence_types:this.absence_types}})}setSubscriptions(){this.subscriptionChange=this.absences_service.dataChange.subscribe(t=>{this.refreshEmployeeList(t.employee_id);const n=this.requests.findIndex(o=>o.id===t.id);-1===n?this.requests.push(t):this.requests[n]=t,this.generateCalendar()}),this.subscriptionDelete=this.absences_service.dataDelete.subscribe(t=>{this.refreshEmployeeList(t.employee_id);const n=this.requests.findIndex(o=>o.id===t.id);n>=0&&(this.requests.splice(n,1),this.generateCalendar())})}refreshEmployeeList(t){this.employees_service.getEmployees().subscribe(n=>{n&&(this.employees=n,this.quickFilter(this.selectedDepartment))})}checkPermissions(){this.employees_service.getEmployee().subscribe(t=>{this.user_permissions.hasPermission("can_approve_absence_request_supervision").subscribe(n=>{n&&(this.canApproveSupervision=n),0==this.selectedDepartment.length&&(this.quickFilter(t.department_name),this.selectedDepartment=JSON.parse(JSON.stringify(t.department_name)))},n=>{this.swal_service.error({text:n})}),this.user_permissions.hasPermission("can_approve_absence_request_global").subscribe(n=>{n&&(this.selectedDepartment="all",this.quickFilter("all"),this.canApproveGlobal=n)},n=>{this.swal_service.error({text:n})}),this.user_permissions.hasPermission("can_register_absence_request_supervision").subscribe(n=>{n&&(this.canRegisterSupervision=n)},n=>{this.swal_service.error({text:n})}),this.user_permissions.hasPermission("can_register_absence_request_global").subscribe(n=>{n&&(this.selectedDepartment="all",this.quickFilter("all"),this.canRegisterGlobal=n)},n=>{this.swal_service.error({text:n})})})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(P.J),e.Y36(U),e.Y36(ee),e.Y36(Be),e.Y36(d.uw),e.Y36(ce),e.Y36(A.uU),e.Y36(X._A),e.Y36(ue.gz),e.Y36(me.Q),e.Y36(ge))},i.\u0275cmp=e.Xpm({type:i,selectors:[["calendar"]],inputs:{employees_absences:"employees_absences"},features:[e._Bn([{provide:X._A,useClass:wr,deps:[X.Ad]}])],decls:60,vars:24,consts:[[1,"absence-calendar"],["id","calendar-container",1,"calendar-container"],[1,"col-employee"],[1,"calendar-filter-wrapper"],[1,"calendar-filter"],[1,"filter-wrapper"],["mat-raised-button","",1,"filter-icon",3,"click"],["class","filter-count",4,"ngIf"],["mat-raised-button","","class","clear-filter",3,"click",4,"ngIf"],[1,"filter","calendar-filter-wrapper"],[1,"department-filter"],["appearance","outline"],[3,"value","valueChange","selectionChange"],[3,"value"],[4,"ngFor","ngForOf"],["class","employee-card",4,"ngFor","ngForOf"],[1,"col-calendar"],[1,"calendar-header"],[1,"controller-wrapper"],[1,"calendar-controller"],["mat-icon-button","","aria-label","\u041f\u0440\u0435\u0434\u0445\u043e\u0434\u0435\u043d \u043c\u0435\u0441\u0435\u0446",3,"matTooltip","disabled","click"],[1,"arrow-icon"],["mat-icon-button","","aria-label","\u0421\u043b\u0435\u0434\u0432\u0430\u0449 \u043c\u0435\u0441\u0435\u0446",3,"matTooltip","disabled","click"],[1,"month"],[1,"item"],[1,"date-picker"],["matInput","","readonly","",3,"matDatepicker","ngModel","ngModelChange","focus"],["matSuffix","",3,"for"],[3,"closed"],["startDatePicker",""],["matInput","","readonly","",3,"ngModel","matDatepicker","ngModelChange","focus"],["endDatePicker",""],["mat-raised-button","",1,"reset-btn",3,"disabled","click"],[1,"request-actions"],["mat-button","",1,"btn","btn-round","btn-fill","btn-info",3,"hidden","click"],["mat-button","",1,"btn","btn-round","btn-fill","btn-info",3,"click"],[1,"calendar-content"],["class","header-day",3,"today",4,"ngFor","ngForOf"],["class","calendar-content",4,"ngFor","ngForOf"],[1,"filter-count"],["mat-raised-button","",1,"clear-filter",3,"click"],[3,"value",4,"ngIf"],[1,"employee-card"],[1,"avatar-container"],["matTooltip","\u041e\u0441\u0442\u0430\u0432\u0430\u0449\u0438 \u0434\u043d\u0438",1,"counter","paid-days-left"],["matTooltip","\u0427\u0430\u043a\u0430\u0449\u0438 \u043f\u043e\u0442\u0432\u044a\u0440\u0436\u0434\u0435\u043d\u0438\u0435","class","counter waiting-approvals",3,"click",4,"ngIf"],[1,"avatar",3,"alt","src","error"],[1,"card-content"],[1,"title"],[1,"subtitle"],["matTooltip","\u0427\u0430\u043a\u0430\u0449\u0438 \u043f\u043e\u0442\u0432\u044a\u0440\u0436\u0434\u0435\u043d\u0438\u0435",1,"counter","waiting-approvals",3,"click"],[1,"header-day"],[1,"",3,"aria-label"],[4,"ngIf","ngIfElse"],["day",""],[1,"calendar-day",3,"click"],[1,"day-content",3,"matTooltip"],[1,"calendar-day"]],template:function(t,n){if(1&t){const o=e.EpF();e.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"div",5)(6,"button",6),e.NdJ("click",function(){return n.openFilterDialog()}),e.TgZ(7,"mat-icon"),e._uU(8,"filter_list"),e.qZA(),e.YNc(9,iu,2,1,"span",7),e.qZA()(),e.YNc(10,ou,2,0,"button",8),e.qZA()(),e.TgZ(11,"div",9)(12,"div",10)(13,"mat-form-field",11)(14,"mat-label"),e._uU(15,"\u0414\u0435\u043f\u0430\u0440\u0442\u0430\u043c\u0435\u043d\u0442"),e.qZA(),e.TgZ(16,"mat-select",12),e.NdJ("valueChange",function(_){return n.selectedDepartment=_})("selectionChange",function(_){return n.quickFilter(_.value)}),e.TgZ(17,"mat-option",13),e._uU(18,"\u0412\u0441\u0438\u0447\u043a\u0438"),e.qZA(),e.TgZ(19,"mat-option",13),e._uU(20),e.qZA(),e.YNc(21,au,2,1,"ng-container",14),e.qZA()()()(),e.YNc(22,uu,11,7,"div",15),e.qZA(),e.TgZ(23,"div",16)(24,"div",17)(25,"div",18)(26,"div",19)(27,"button",20),e.NdJ("click",function(){return n.prevMonth()}),e.TgZ(28,"mat-icon",21),e._uU(29,"keyboard_arrow_left"),e.qZA()(),e.TgZ(30,"button",22),e.NdJ("click",function(){return n.nextMonth()}),e.TgZ(31,"mat-icon",21),e._uU(32,"keyboard_arrow_right"),e.qZA()(),e.TgZ(33,"div",23)(34,"div",24)(35,"mat-form-field",25)(36,"mat-label"),e._uU(37,"Start Date"),e.qZA(),e.TgZ(38,"input",26),e.NdJ("ngModelChange",function(_){return n.start_date=_})("focus",function(){e.CHM(o);const _=e.MAs(41);return e.KtG(_.open())}),e.qZA(),e._UZ(39,"mat-datepicker-toggle",27),e.TgZ(40,"mat-datepicker",28,29),e.NdJ("closed",function(){return n.generateCalendar()}),e.qZA()()(),e.TgZ(42,"div",24)(43,"mat-form-field",25)(44,"mat-label"),e._uU(45,"End Date"),e.qZA(),e.TgZ(46,"input",30),e.NdJ("ngModelChange",function(_){return n.end_date=_})("focus",function(){e.CHM(o);const _=e.MAs(49);return e.KtG(_.open())}),e.qZA(),e._UZ(47,"mat-datepicker-toggle",27),e.TgZ(48,"mat-datepicker",28,31),e.NdJ("closed",function(){return n.generateCalendar()}),e.qZA()()()(),e.TgZ(50,"button",32),e.NdJ("click",function(){return n.restartCalendar()}),e._uU(51,"Return "),e.qZA()()(),e.TgZ(52,"div",33)(53,"button",34),e.NdJ("click",function(){return n.registerAbsence()}),e._uU(54," \u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u0430\u0439 "),e.qZA(),e.TgZ(55,"button",35),e.NdJ("click",function(){return n.addRequest()}),e._uU(56," \u0417\u0430\u044f\u0432\u0438 "),e.qZA()()(),e.TgZ(57,"div",36),e.YNc(58,lu,3,4,"div",37),e.qZA(),e.YNc(59,_u,2,1,"div",38),e.qZA()()()}if(2&t){const o=e.MAs(41),a=e.MAs(49);e.xp6(9),e.Q6J("ngIf",n.filter.count()>0),e.xp6(1),e.Q6J("ngIf",n.filter.count()>0),e.xp6(6),e.Q6J("value",n.selectedDepartment),e.xp6(1),e.Q6J("value","all"),e.xp6(2),e.Q6J("value",n.employee_department),e.xp6(1),e.Oqu(n.employee_department),e.xp6(1),e.Q6J("ngForOf",n.filteredDepartments),e.xp6(1),e.Q6J("ngForOf",n.filtered_employees),e.xp6(5),e.hYB("matTooltip","",n.formatDate(n.prev_start_date)," - ",n.formatDate(n.prev_end_date),""),e.Q6J("disabled",n.disableNavigation),e.xp6(3),e.hYB("matTooltip","",n.formatDate(n.next_start_date)," - ",n.formatDate(n.next_end_date),""),e.Q6J("disabled",n.disableNavigation),e.xp6(8),e.Q6J("matDatepicker",o)("ngModel",n.start_date),e.xp6(1),e.Q6J("for",o),e.xp6(7),e.Q6J("ngModel",n.end_date)("matDatepicker",a),e.xp6(1),e.Q6J("for",a),e.xp6(3),e.Q6J("disabled",n.disableNavigation),e.xp6(3),e.Q6J("hidden",!n.canRegisterGlobal&&!n.canRegisterSupervision),e.xp6(5),e.Q6J("ngForOf",n.calendar_data),e.xp6(1),e.Q6J("ngForOf",n.filtered_employees)}},dependencies:[A.sg,A.O5,l.KE,l.hX,l.R9,m.Nt,D.lW,ne.gD,X.ey,G.Mq,G.hl,G.nW,p.gM,Z.Hw,r.Fj,r.JJ,r.On],styles:['.absence-calendar[_ngcontent-%COMP%] {\n  background: white;\n  padding: 20px;\n}\n\n.calendar-header[_ngcontent-%COMP%] {\n  display: flex;\n  align-items: center;\n}\n\n.calendar-header[_ngcontent-%COMP%]   .calendar-controller[_ngcontent-%COMP%] {\n  display: flex;\n  position: absolute;\n  align-items: center;\n}\n\n.calendar-header[_ngcontent-%COMP%]   .request-actions[_ngcontent-%COMP%] {\n  display: flex;\n  position: absolute;\n  align-items: center;\n  right: 2vw;\n}\n\n.calendar-container[_ngcontent-%COMP%] {\n  display: flex;\n  margin-top: 50px;\n  margin-bottom: 50px;\n}\n\n.col-employee[_ngcontent-%COMP%] {\n  flex: 1 1 20%;\n  margin-right: 1vw;\n}\n\n.col-calendar[_ngcontent-%COMP%] {\n  flex: 1 1 80%;\n  overflow-x: scroll;\n}\n\n.calendar-filter-wrapper[_ngcontent-%COMP%], .controller-wrapper[_ngcontent-%COMP%], .calendar-content[_ngcontent-%COMP%], .employee-card[_ngcontent-%COMP%] {\n  height: 9vh;\n  display: flex;\n  align-items: center;\n}\n\n.calendar-day[_ngcontent-%COMP%], .header-day[_ngcontent-%COMP%] {\n  height: 6vh;\n  flex: 0 0 40px;\n  cursor: pointer;\n}\n\n.calendar-day[_ngcontent-%COMP%] {\n  color: #676565;\n  background-color: #f8f7f9;\n}\n\n.calendar-day[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover {\n  background-color: #ebe8ee;\n}\n\n.calendar-day.approved[_ngcontent-%COMP%] {\n  background-color: #ffffcc; \n}\n\n.calendar-day.approved[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover {\n  background-image: linear-gradient(45deg, #ffffcc, #ffed99);\n}\n\n.weekend[_ngcontent-%COMP%] {\n  background-color: #e4e3e4;\n}\n\n.weekend[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover {\n  background-color: rgba(0, 0, 0, 0.04);\n}\n\n.holiday[_ngcontent-%COMP%] {\n  background-color: #eec706;\n}\n\n.holiday[_ngcontent-%COMP%]   [_ngcontent-%COMP%]:hover {\n  background-color: rgba(0, 0, 0, 0.04);\n}\n\n.calendar-day.weekend.approved[_ngcontent-%COMP%] {\n  background-color: #ffed99; \n}\n\n.calendar-day.selected[_ngcontent-%COMP%] {\n  background-color: #e3e3e4;\n}\n\n.day-content[_ngcontent-%COMP%] {\n  height: 100%;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n\n.header-day[_ngcontent-%COMP%] {\n  color: #cc6799;\n  font-weight: 500;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  transition: background 0.2s ease-out;\n}\n\n.today[_ngcontent-%COMP%] {\n  content: "";\n  height: 30px;\n  width: 30px;\n  border-radius: 50%;\n  border: 2px solid #87b8e9;\n}\n\n.month[_ngcontent-%COMP%] {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n}\n\n.item[_ngcontent-%COMP%] {\n  flex: 1;\n  margin: 0 10px;\n}\n\n.date-picker[_ngcontent-%COMP%] {\n  width: 100%;\n}\n\n.mat-form-field[_ngcontent-%COMP%] {\n  font-family: "Roboto", sans-serif;\n}\n\n.mat-form-field[_ngcontent-%COMP%]   .mat-label[_ngcontent-%COMP%] {\n  color: #555;\n}\n\n.mat-form-field[_ngcontent-%COMP%]   .mat-input-element[_ngcontent-%COMP%] {\n  border-radius: 4px;\n  padding: 10px;\n  border: 1px solid #ccc;\n}\n\n.mat-datepicker-toggle[_ngcontent-%COMP%] {\n  color: #888;\n  cursor: pointer;\n}\n\n.mat-datepicker-toggle[_ngcontent-%COMP%]:hover {\n  color: #555;\n}\n\n.mat-datepicker-toggle[_ngcontent-%COMP%]   mat-icon[_ngcontent-%COMP%] {\n  font-size: 20px;\n}\n\n.mat-form-field-underline[_ngcontent-%COMP%] {\n  display: none;\n}\n\n.mat-form-field-ripple[_ngcontent-%COMP%] {\n  display: none;\n}\n\n.mat-form-field-underline-thickness[_ngcontent-%COMP%] {\n  height: 2px;\n  background-color: #ccc;\n}\n\n.mat-form-field-underline[_ngcontent-%COMP%]:hover   .mat-form-field-underline-thickness[_ngcontent-%COMP%] {\n  background-color: #555;\n}\n\n.arrow-icon[_ngcontent-%COMP%] {\n  font-size: 24px;\n  color: #888;\n}\n\n.arrow-icon[_ngcontent-%COMP%]:hover {\n  color: #555;\n}\n\n.reset-btn[_ngcontent-%COMP%] {\n  background-color: #888;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 10px 20px;\n  font-size: 14px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n\n.reset-btn[_ngcontent-%COMP%]:hover {\n  background-color: #555;\n}\n\n.arrow-icon[_ngcontent-%COMP%] {\n  font-size: 24px;\n  color: #888;\n}\n\n.arrow-icon[_ngcontent-%COMP%]:hover {\n  color: #555;\n}\n\n.reset-btn[_ngcontent-%COMP%] {\n  background-color: #888;\n  color: white;\n  border: none;\n  border-radius: 4px;\n  padding: 10px 20px;\n  font-size: 14px;\n  cursor: pointer;\n  transition: background-color 0.3s ease;\n}\n\n.reset-btn[_ngcontent-%COMP%]:hover {\n  background-color: #555;\n}\n\n.employee-card[_ngcontent-%COMP%] {\n  position: relative; \n  column-gap: 1vw;\n}\n\n.employee-card[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%] {\n  position: relative;\n  display: flex;\n}\n\n.employee-card[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]   .counter[_ngcontent-%COMP%] {\n  position: absolute;\n  width: 1.5vw;\n  height: 1.5vw;\n  border-radius: 50%;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  color: white;\n  font-weight: bold;\n  font-size: 0.9em;\n  line-height: 1;\n  cursor: pointer;\n}\n\n.employee-card[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]   .paid-days-left[_ngcontent-%COMP%] {\n  position: absolute;\n  top: 0;\n  left: 0;\n  background-color: green;\n}\n\n.employee-card[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]   .waiting-approvals[_ngcontent-%COMP%] {\n  position: absolute;\n  top: 0;\n  right: 0;\n  background-color: blue;\n}\n\n.employee-card[_ngcontent-%COMP%]   .avatar-container[_ngcontent-%COMP%]   .avatar[_ngcontent-%COMP%] {\n  height: 56px;\n  width: 56px;\n  border-radius: 50%;\n  margin: 0.3vw 1vw 0 1vw;\n  border: solid #26c6da;\n}\n\n.card-content[_ngcontent-%COMP%] {\n  overflow: auto;\n  flex: 1 0 80%;\n}\n\n.employee-card[_ngcontent-%COMP%]   .title[_ngcontent-%COMP%] {\n  margin-bottom: 4px;\n  font-weight: 500;\n  color: #333;\n  font-size: 16px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  letter-spacing: -0.5px;\n}\n\n.employee-card[_ngcontent-%COMP%]   .subtitle[_ngcontent-%COMP%] {\n  color: #8c8c8c;\n  font-size: 16px;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  letter-spacing: -0.5px;\n}\n\n.calendar-filter-wrapper[_ngcontent-%COMP%] {\n  display: flex;\n  flex: 1 0 20%;\n}\n\n.calendar-filter[_ngcontent-%COMP%] {\n  position: relative;\n}\n\n.filter-icon[_ngcontent-%COMP%] {\n  position: relative;\n}\n\n.filter-count[_ngcontent-%COMP%] {\n  position: absolute;\n  top: -5px;\n  right: -5px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  width: 20px;\n  height: 20px;\n  border-radius: 50%;\n  background-color: red;\n  color: white;\n  font-size: 12px;\n}\n\n.clear-filter[_ngcontent-%COMP%] {\n  margin-left: 10px;\n}\n\n.filter[_ngcontent-%COMP%] {\n  display: flex;\n}\n\n.filter[_ngcontent-%COMP%]   .department-filter[_ngcontent-%COMP%] {\n  flex: 1 0 80%;\n}\n\n.filter[_ngcontent-%COMP%]     .mat-form-field-wrapper {\n  margin-bottom: 0;\n  padding-bottom: 0;\n}\n\ninput[_ngcontent-%COMP%] {\n  background-color: rgba(0, 0, 0, 0.03);\n  padding: 8px;\n  border-radius: 4px;\n  margin-top: 8px;\n  margin-bottom: 8px;\n  border: none;\n  width: 100%;\n  box-sizing: border-box;\n}']}),i})();const gu=[{path:"dashboard",component:g},{path:"user-profile",component:b},{path:"table-list",component:c},{path:"typography",component:h},{path:"icons",component:f},{path:"maps",component:x},{path:"notifications",component:q},{path:"profile",component:Le},{path:"absence",component:(()=>{class i{constructor(t){this.absences_service=t}ngOnInit(){}getPending(){this.absences_service.getPending().subscribe(t=>{console.log(t)})}}return i.\u0275fac=function(t){return new(t||i)(e.Y36(U))},i.\u0275cmp=e.Xpm({type:i,selectors:[["absence"]],viewQuery:function(t,n){if(1&t&&e.Gf(E.pp,5),2&t){let o;e.iGM(o=e.CRH())&&(n.accordion=o.first)}},inputs:{list:"list",archive:"archive"},decls:1,vars:0,template:function(t,n){1&t&&e._UZ(0,"calendar")},dependencies:[mu],styles:[".example-action-buttons[_ngcontent-%COMP%] {\n  padding-bottom: 20px;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-expansion-panel-header-description[_ngcontent-%COMP%] {\n  justify-content: flex-end;\n  align-items: center;\n}\n\n.example-headers-align[_ngcontent-%COMP%]   .mat-mdc-form-field[_ngcontent-%COMP%]    + .mat-mdc-form-field[_ngcontent-%COMP%] {\n  margin-left: 8px;\n}"]}),i})(),children:[{path:"upgrade",component:it}]},{path:"employees",component:Vn},{path:"sick-leave",component:Ri},{path:"absences",component:Yo},{path:"settings",component:ra},{path:"access",component:_r},{path:"upgrade",component:it}];let fu=(()=>{class i{}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=e.oAB({type:i}),i.\u0275inj=e.cJS({imports:[A.ez,ue.Bz.forChild(gu),r.u5,r.UX,D.ot,X.si,l.lN,m.c,ne.LD,p.AV,G.FA,X.XK,le.TU]}),i})()},9727:function(Je,be){var ue,A;A=this,ue=function(){return A.Chartist=function(){var A={version:"0.11.4"};return function(r,u){"use strict";var e=r.window,D=r.document;u.namespaces={svg:"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/xmlns/",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",ct:"http://gionkunz.github.com/chartist-js/ct"},u.noop=function(p){return p},u.alphaNumerate=function(p){return String.fromCharCode(97+p%26)},u.extend=function(p){var g,d,c;for(p=p||{},g=1;g<arguments.length;g++)for(var l in d=arguments[g])p[l]="object"!=typeof(c=d[l])||null===c||c instanceof Array?c:u.extend(p[l],c);return p},u.replaceAll=function(p,g,d){return p.replace(new RegExp(g,"g"),d)},u.ensureUnit=function(p,g){return"number"==typeof p&&(p+=g),p},u.quantity=function(p){if("string"==typeof p){var g=/^(\d+)\s*(.*)$/g.exec(p);return{value:+g[1],unit:g[2]||void 0}}return{value:p}},u.querySelector=function(p){return p instanceof Node?p:D.querySelector(p)},u.times=function(p){return Array.apply(null,new Array(p))},u.sum=function(p,g){return p+(g||0)},u.mapMultiply=function(p){return function(g){return g*p}},u.mapAdd=function(p){return function(g){return g+p}},u.serialMap=function(p,g){var d=[],c=Math.max.apply(null,p.map(function(l){return l.length}));return u.times(c).forEach(function(l,m){var b=p.map(function(h){return h[m]});d[m]=g.apply(null,b)}),d},u.roundWithPrecision=function(p,g){var d=Math.pow(10,g||u.precision);return Math.round(p*d)/d},u.precision=8,u.escapingMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"},u.serialize=function(p){return null==p?p:("number"==typeof p?p=""+p:"object"==typeof p&&(p=JSON.stringify({data:p})),Object.keys(u.escapingMap).reduce(function(g,d){return u.replaceAll(g,d,u.escapingMap[d])},p))},u.deserialize=function(p){if("string"!=typeof p)return p;p=Object.keys(u.escapingMap).reduce(function(g,d){return u.replaceAll(g,u.escapingMap[d],d)},p);try{p=void 0!==(p=JSON.parse(p)).data?p.data:p}catch{}return p},u.createSvg=function(p,g,d,c){var l;return g=g||"100%",d=d||"100%",Array.prototype.slice.call(p.querySelectorAll("svg")).filter(function(b){return b.getAttributeNS(u.namespaces.xmlns,"ct")}).forEach(function(b){p.removeChild(b)}),(l=new u.Svg("svg").attr({width:g,height:d}).addClass(c))._node.style.width=g,l._node.style.height=d,p.appendChild(l._node),l},u.normalizeData=function(p,g,d){var c,l={raw:p,normalized:{}};return l.normalized.series=u.getDataArray({series:p.series||[]},g,d),c=l.normalized.series.every(function(m){return m instanceof Array})?Math.max.apply(null,l.normalized.series.map(function(m){return m.length})):l.normalized.series.length,l.normalized.labels=(p.labels||[]).slice(),Array.prototype.push.apply(l.normalized.labels,u.times(Math.max(0,c-l.normalized.labels.length)).map(function(){return""})),g&&u.reverseData(l.normalized),l},u.safeHasProperty=function(p,g){return null!==p&&"object"==typeof p&&p.hasOwnProperty(g)},u.isDataHoleValue=function(p){return null==p||"number"==typeof p&&isNaN(p)},u.reverseData=function(p){p.labels.reverse(),p.series.reverse();for(var g=0;g<p.series.length;g++)"object"==typeof p.series[g]&&void 0!==p.series[g].data?p.series[g].data.reverse():p.series[g]instanceof Array&&p.series[g].reverse()},u.getDataArray=function(p,g,d){return p.series.map(function c(l){if(u.safeHasProperty(l,"value"))return c(l.value);if(u.safeHasProperty(l,"data"))return c(l.data);if(l instanceof Array)return l.map(c);if(!u.isDataHoleValue(l)){if(d){var m={};return"string"==typeof d?m[d]=u.getNumberOrUndefined(l):m.y=u.getNumberOrUndefined(l),m.x=l.hasOwnProperty("x")?u.getNumberOrUndefined(l.x):m.x,m.y=l.hasOwnProperty("y")?u.getNumberOrUndefined(l.y):m.y,m}return u.getNumberOrUndefined(l)}})},u.normalizePadding=function(p,g){return g=g||0,"number"==typeof p?{top:p,right:p,bottom:p,left:p}:{top:"number"==typeof p.top?p.top:g,right:"number"==typeof p.right?p.right:g,bottom:"number"==typeof p.bottom?p.bottom:g,left:"number"==typeof p.left?p.left:g}},u.getMetaData=function(p,g){var d=p.data?p.data[g]:p[g];return d?d.meta:void 0},u.orderOfMagnitude=function(p){return Math.floor(Math.log(Math.abs(p))/Math.LN10)},u.projectLength=function(p,g,d){return g/d.range*p},u.getAvailableHeight=function(p,g){return Math.max((u.quantity(g.height).value||p.height())-(g.chartPadding.top+g.chartPadding.bottom)-g.axisX.offset,0)},u.getHighLow=function(p,g,d){var c={high:void 0===(g=u.extend({},g,d?g["axis"+d.toUpperCase()]:{})).high?-Number.MAX_VALUE:+g.high,low:void 0===g.low?Number.MAX_VALUE:+g.low},l=void 0===g.high,m=void 0===g.low;return(l||m)&&function b(h){if(void 0!==h)if(h instanceof Array)for(var f=0;f<h.length;f++)b(h[f]);else{var x=d?+h[d]:+h;l&&x>c.high&&(c.high=x),m&&x<c.low&&(c.low=x)}}(p),(g.referenceValue||0===g.referenceValue)&&(c.high=Math.max(g.referenceValue,c.high),c.low=Math.min(g.referenceValue,c.low)),c.high<=c.low&&(0===c.low?c.high=1:c.low<0?c.high=0:(c.high>0||(c.high=1),c.low=0)),c},u.isNumeric=function(p){return null!==p&&isFinite(p)},u.isFalseyButZero=function(p){return!p&&0!==p},u.getNumberOrUndefined=function(p){return u.isNumeric(p)?+p:void 0},u.isMultiValue=function(p){return"object"==typeof p&&("x"in p||"y"in p)},u.getMultiValue=function(p,g){return u.isMultiValue(p)?u.getNumberOrUndefined(p[g||"y"]):u.getNumberOrUndefined(p)},u.rho=function(p){if(1===p)return p;function g(b,h){return b%h==0?h:g(h,b%h)}function d(b){return b*b+1}var m,c=2,l=2;if(p%2==0)return 2;do{c=d(c)%p,l=d(d(l))%p,m=g(Math.abs(c-l),p)}while(1===m);return m},u.getBounds=function(p,g,d,c){var l,b,h,m=0,f={high:g.high,low:g.low};f.valueRange=f.high-f.low,f.oom=u.orderOfMagnitude(f.valueRange),f.step=Math.pow(10,f.oom),f.min=Math.floor(f.low/f.step)*f.step,f.max=Math.ceil(f.high/f.step)*f.step,f.range=f.max-f.min,f.numberOfSteps=Math.round(f.range/f.step);var q=u.projectLength(p,f.step,f)<d,w=c?u.rho(f.range):0;if(c&&u.projectLength(p,1,f)>=d)f.step=1;else if(c&&w<f.step&&u.projectLength(p,w,f)>=d)f.step=w;else for(;;){if(q&&u.projectLength(p,f.step,f)<=d)f.step*=2;else{if(q||!(u.projectLength(p,f.step/2,f)>=d))break;if(f.step/=2,c&&f.step%1!=0){f.step*=2;break}}if(m++>1e3)throw new Error("Exceeded maximum number of iterations while optimizing scale step!")}var C=2221e-19;function T(J,M){return J===(J+=M)&&(J*=1+(M>0?C:-C)),J}for(f.step=Math.max(f.step,C),b=f.min,h=f.max;b+f.step<=f.low;)b=T(b,f.step);for(;h-f.step>=f.high;)h=T(h,-f.step);f.min=b,f.max=h,f.range=f.max-f.min;var P=[];for(l=f.min;l<=f.max;l=T(l,f.step)){var L=u.roundWithPrecision(l);L!==P[P.length-1]&&P.push(L)}return f.values=P,f},u.polarToCartesian=function(p,g,d,c){var l=(c-90)*Math.PI/180;return{x:p+d*Math.cos(l),y:g+d*Math.sin(l)}},u.createChartRect=function(p,g,d){var c=!(!g.axisX&&!g.axisY),l=c?g.axisY.offset:0,m=c?g.axisX.offset:0,b=p.width()||u.quantity(g.width).value||0,h=p.height()||u.quantity(g.height).value||0,f=u.normalizePadding(g.chartPadding,d);b=Math.max(b,l+f.left+f.right),h=Math.max(h,m+f.top+f.bottom);var x={padding:f,width:function(){return this.x2-this.x1},height:function(){return this.y1-this.y2}};return c?("start"===g.axisX.position?(x.y2=f.top+m,x.y1=Math.max(h-f.bottom,x.y2+1)):(x.y2=f.top,x.y1=Math.max(h-f.bottom-m,x.y2+1)),"start"===g.axisY.position?(x.x1=f.left+l,x.x2=Math.max(b-f.right,x.x1+1)):(x.x1=f.left,x.x2=Math.max(b-f.right-l,x.x1+1))):(x.x1=f.left,x.x2=Math.max(b-f.right,x.x1+1),x.y2=f.top,x.y1=Math.max(h-f.bottom,x.y2+1)),x},u.createGrid=function(p,g,d,c,l,m,b,h){var f={};f[d.units.pos+"1"]=p,f[d.units.pos+"2"]=p,f[d.counterUnits.pos+"1"]=c,f[d.counterUnits.pos+"2"]=c+l;var x=m.elem("line",f,b.join(" "));h.emit("draw",u.extend({type:"grid",axis:d,index:g,group:m,element:x},f))},u.createGridBackground=function(p,g,d,c){var l=p.elem("rect",{x:g.x1,y:g.y2,width:g.width(),height:g.height()},d,!0);c.emit("draw",{type:"gridBackground",group:p,element:l})},u.createLabel=function(p,g,d,c,l,m,b,h,f,x,q){var w,C={};if(C[l.units.pos]=p+b[l.units.pos],C[l.counterUnits.pos]=b[l.counterUnits.pos],C[l.units.len]=g,C[l.counterUnits.len]=Math.max(0,m-10),x){var T=D.createElement("span");T.className=f.join(" "),T.setAttribute("xmlns",u.namespaces.xhtml),T.innerText=c[d],T.style[l.units.len]=Math.round(C[l.units.len])+"px",T.style[l.counterUnits.len]=Math.round(C[l.counterUnits.len])+"px",w=h.foreignObject(T,u.extend({style:"overflow: visible;"},C))}else w=h.elem("text",C,f.join(" ")).text(c[d]);q.emit("draw",u.extend({type:"label",axis:l,index:d,group:h,element:w,text:c[d]},C))},u.getSeriesOption=function(p,g,d){if(p.name&&g.series&&g.series[p.name]){var c=g.series[p.name];return c.hasOwnProperty(d)?c[d]:g[d]}return g[d]},u.optionsProvider=function(p,g,d){var l,b,c=u.extend({},p),m=[];function h(q){var w=l;if(l=u.extend({},c),g)for(b=0;b<g.length;b++)e.matchMedia(g[b][0]).matches&&(l=u.extend(l,g[b][1]));d&&q&&d.emit("optionsChanged",{previousOptions:w,currentOptions:l})}if(!e.matchMedia)throw"window.matchMedia not found! Make sure you're using a polyfill.";if(g)for(b=0;b<g.length;b++){var x=e.matchMedia(g[b][0]);x.addListener(h),m.push(x)}return h(),{removeMediaQueryListeners:function f(){m.forEach(function(q){q.removeListener(h)})},getCurrentOptions:function(){return u.extend({},l)}}},u.splitIntoSegments=function(p,g,d){d=u.extend({},{increasingX:!1,fillHoles:!1},d);for(var l=[],m=!0,b=0;b<p.length;b+=2)void 0===u.getMultiValue(g[b/2].value)?d.fillHoles||(m=!0):(d.increasingX&&b>=2&&p[b]<=p[b-2]&&(m=!0),m&&(l.push({pathCoordinates:[],valueData:[]}),m=!1),l[l.length-1].pathCoordinates.push(p[b],p[b+1]),l[l.length-1].valueData.push(g[b/2]));return l}}(this||global,A),function(r,u){"use strict";u.Interpolation={},u.Interpolation.none=function(e){return e=u.extend({},{fillHoles:!1},e),function(g,d){for(var c=new u.Svg.Path,l=!0,m=0;m<g.length;m+=2){var b=g[m],h=g[m+1],f=d[m/2];void 0!==u.getMultiValue(f.value)?(l?c.move(b,h,!1,f):c.line(b,h,!1,f),l=!1):e.fillHoles||(l=!0)}return c}},u.Interpolation.simple=function(e){e=u.extend({},{divisor:2,fillHoles:!1},e);var p=1/Math.max(1,e.divisor);return function(d,c){for(var m,b,h,l=new u.Svg.Path,f=0;f<d.length;f+=2){var x=d[f],q=d[f+1],w=(x-m)*p,C=c[f/2];void 0!==C.value?(void 0===h?l.move(x,q,!1,C):l.curve(m+w,b,x-w,q,x,q,!1,C),m=x,b=q,h=C):e.fillHoles||(m=x=h=void 0)}return l}},u.Interpolation.cardinal=function(e){e=u.extend({},{tension:1,fillHoles:!1},e);var p=Math.min(1,Math.max(0,e.tension)),g=1-p;return function d(c,l){var m=u.splitIntoSegments(c,l,{fillHoles:e.fillHoles});if(m.length){if(m.length>1){var b=[];return m.forEach(function(C){b.push(d(C.pathCoordinates,C.valueData))}),u.Svg.Path.join(b)}if(l=m[0].valueData,(c=m[0].pathCoordinates).length<=4)return u.Interpolation.none()(c,l);for(var h=(new u.Svg.Path).move(c[0],c[1],!1,l[0]),x=0,q=c.length;q-2>x;x+=2){var w=[{x:+c[x-2],y:+c[x-1]},{x:+c[x],y:+c[x+1]},{x:+c[x+2],y:+c[x+3]},{x:+c[x+4],y:+c[x+5]}];q-4===x?w[3]=w[2]:x||(w[0]={x:+c[x],y:+c[x+1]}),h.curve(p*(6*w[1].x-w[0].x+w[2].x)/6+g*w[2].x,p*(6*w[1].y-w[0].y+w[2].y)/6+g*w[2].y,p*(w[1].x+6*w[2].x-w[3].x)/6+g*w[2].x,p*(w[1].y+6*w[2].y-w[3].y)/6+g*w[2].y,w[2].x,w[2].y,!1,l[(x+2)/2])}return h}return u.Interpolation.none()([])}},u.Interpolation.monotoneCubic=function(e){return e=u.extend({},{fillHoles:!1},e),function p(g,d){var c=u.splitIntoSegments(g,d,{fillHoles:e.fillHoles,increasingX:!0});if(c.length){if(c.length>1){var l=[];return c.forEach(function(P){l.push(p(P.pathCoordinates,P.valueData))}),u.Svg.Path.join(l)}if(d=c[0].valueData,(g=c[0].pathCoordinates).length<=4)return u.Interpolation.none()(g,d);var h,T,m=[],b=[],f=g.length/2,x=[],q=[],w=[],C=[];for(h=0;h<f;h++)m[h]=g[2*h],b[h]=g[2*h+1];for(h=0;h<f-1;h++)w[h]=b[h+1]-b[h],C[h]=m[h+1]-m[h],q[h]=w[h]/C[h];for(x[0]=q[0],x[f-1]=q[f-2],h=1;h<f-1;h++)0===q[h]||0===q[h-1]||q[h-1]>0!=q[h]>0?x[h]=0:(x[h]=3*(C[h-1]+C[h])/((2*C[h]+C[h-1])/q[h-1]+(C[h]+2*C[h-1])/q[h]),isFinite(x[h])||(x[h]=0));for(T=(new u.Svg.Path).move(m[0],b[0],!1,d[0]),h=0;h<f-1;h++)T.curve(m[h]+C[h]/3,b[h]+x[h]*C[h]/3,m[h+1]-C[h]/3,b[h+1]-x[h+1]*C[h]/3,m[h+1],b[h+1],!1,d[h+1]);return T}return u.Interpolation.none()([])}},u.Interpolation.step=function(e){return e=u.extend({},{postpone:!0,fillHoles:!1},e),function(g,d){for(var l,m,b,c=new u.Svg.Path,h=0;h<g.length;h+=2){var f=g[h],x=g[h+1],q=d[h/2];void 0!==q.value?(void 0===b?c.move(f,x,!1,q):(e.postpone?c.line(f,m,!1,b):c.line(l,x,!1,q),c.line(f,x,!1,q)),l=f,m=x,b=q):e.fillHoles||(l=m=b=void 0)}return c}}}(this||global,A),function(r,u){"use strict";u.EventEmitter=function(){var e=[];return{addEventHandler:function D(d,c){e[d]=e[d]||[],e[d].push(c)},removeEventHandler:function p(d,c){e[d]&&(c?(e[d].splice(e[d].indexOf(c),1),0===e[d].length&&delete e[d]):delete e[d])},emit:function g(d,c){e[d]&&e[d].forEach(function(l){l(c)}),e["*"]&&e["*"].forEach(function(l){l(d,c)})}}}}(this||global,A),function(r,u){"use strict";function e(g){var d=[];if(g.length)for(var c=0;c<g.length;c++)d.push(g[c]);return d}u.Class={extend:function D(g,d){var c=d||this.prototype||u.Class,l=Object.create(c);u.Class.cloneDefinitions(l,g);var m=function(){var h,b=l.constructor||function(){};return h=this===u?Object.create(l):this,b.apply(h,Array.prototype.slice.call(arguments,0)),h};return m.prototype=l,m.super=c,m.extend=this.extend,m},cloneDefinitions:function p(){var g=e(arguments),d=g[0];return g.splice(1,g.length-1).forEach(function(c){Object.getOwnPropertyNames(c).forEach(function(l){delete d[l],Object.defineProperty(d,l,Object.getOwnPropertyDescriptor(c,l))})}),d}}}(this||global,A),function(r,u){"use strict";var e=r.window;function c(){e.addEventListener("resize",this.resizeListener),this.optionsProvider=u.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter),this.eventEmitter.addEventHandler("optionsChanged",function(){this.update()}.bind(this)),this.options.plugins&&this.options.plugins.forEach(function(m){m instanceof Array?m[0](this,m[1]):m(this)}.bind(this)),this.eventEmitter.emit("data",{type:"initial",data:this.data}),this.createChart(this.optionsProvider.getCurrentOptions()),this.initializeTimeoutId=void 0}u.Base=u.Class.extend({constructor:function l(m,b,h,f,x){this.container=u.querySelector(m),this.data=b||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.defaultOptions=h,this.options=f,this.responsiveOptions=x,this.eventEmitter=u.EventEmitter(),this.supportsForeignObject=u.Svg.isSupported("Extensibility"),this.supportsAnimations=u.Svg.isSupported("AnimationEventsAttribute"),this.resizeListener=function(){this.update()}.bind(this),this.container&&(this.container.__chartist__&&this.container.__chartist__.detach(),this.container.__chartist__=this),this.initializeTimeoutId=setTimeout(c.bind(this),0)},optionsProvider:void 0,container:void 0,svg:void 0,eventEmitter:void 0,createChart:function(){throw new Error("Base chart type can't be instantiated!")},update:function D(m,b,h){return m&&(this.data=m||{},this.data.labels=this.data.labels||[],this.data.series=this.data.series||[],this.eventEmitter.emit("data",{type:"update",data:this.data})),b&&(this.options=u.extend({},h?this.options:this.defaultOptions,b),this.initializeTimeoutId||(this.optionsProvider.removeMediaQueryListeners(),this.optionsProvider=u.optionsProvider(this.options,this.responsiveOptions,this.eventEmitter))),this.initializeTimeoutId||this.createChart(this.optionsProvider.getCurrentOptions()),this},detach:function p(){return this.initializeTimeoutId?e.clearTimeout(this.initializeTimeoutId):(e.removeEventListener("resize",this.resizeListener),this.optionsProvider.removeMediaQueryListeners()),this},on:function g(m,b){return this.eventEmitter.addEventHandler(m,b),this},off:function d(m,b){return this.eventEmitter.removeEventHandler(m,b),this},version:u.version,supportsForeignObject:!1})}(this||global,A),function(r,u){"use strict";var e=r.document;u.Svg=u.Class.extend({constructor:function D(y,Z,O,Q,z){y instanceof Element?this._node=y:(this._node=e.createElementNS(u.namespaces.svg,y),"svg"===y&&this.attr({"xmlns:ct":u.namespaces.ct})),Z&&this.attr(Z),O&&this.addClass(O),Q&&(z&&Q._node.firstChild?Q._node.insertBefore(this._node,Q._node.firstChild):Q._node.appendChild(this._node))},attr:function p(y,Z){return"string"==typeof y?Z?this._node.getAttributeNS(Z,y):this._node.getAttribute(y):(Object.keys(y).forEach(function(O){if(void 0!==y[O])if(-1!==O.indexOf(":")){var Q=O.split(":");this._node.setAttributeNS(u.namespaces[Q[0]],O,y[O])}else this._node.setAttribute(O,y[O])}.bind(this)),this)},elem:function g(y,Z,O,Q){return new u.Svg(y,Z,O,this,Q)},parent:function d(){return this._node.parentNode instanceof SVGElement?new u.Svg(this._node.parentNode):null},root:function c(){for(var y=this._node;"svg"!==y.nodeName;)y=y.parentNode;return new u.Svg(y)},querySelector:function l(y){var Z=this._node.querySelector(y);return Z?new u.Svg(Z):null},querySelectorAll:function m(y){var Z=this._node.querySelectorAll(y);return Z.length?new u.Svg.List(Z):null},getNode:function b(){return this._node},foreignObject:function h(y,Z,O,Q){if("string"==typeof y){var z=e.createElement("div");z.innerHTML=y,y=z.firstChild}y.setAttribute("xmlns",u.namespaces.xmlns);var W=this.elem("foreignObject",Z,O,Q);return W._node.appendChild(y),W},text:function f(y){return this._node.appendChild(e.createTextNode(y)),this},empty:function x(){for(;this._node.firstChild;)this._node.removeChild(this._node.firstChild);return this},remove:function q(){return this._node.parentNode.removeChild(this._node),this.parent()},replace:function w(y){return this._node.parentNode.replaceChild(y._node,this._node),y},append:function C(y,Z){return Z&&this._node.firstChild?this._node.insertBefore(y._node,this._node.firstChild):this._node.appendChild(y._node),this},classes:function T(){return this._node.getAttribute("class")?this._node.getAttribute("class").trim().split(/\s+/):[]},addClass:function P(y){return this._node.setAttribute("class",this.classes(this._node).concat(y.trim().split(/\s+/)).filter(function(Z,O,Q){return Q.indexOf(Z)===O}).join(" ")),this},removeClass:function L(y){var Z=y.trim().split(/\s+/);return this._node.setAttribute("class",this.classes(this._node).filter(function(O){return-1===Z.indexOf(O)}).join(" ")),this},removeAllClasses:function J(){return this._node.setAttribute("class",""),this},height:function M(){return this._node.getBoundingClientRect().height},width:function U(){return this._node.getBoundingClientRect().width},animate:function F(y,Z,O){return void 0===Z&&(Z=!0),Object.keys(y).forEach(function(z){function W(B,H){var se,ye,pe,V={};B.easing&&(pe=B.easing instanceof Array?B.easing:u.Svg.Easing[B.easing],delete B.easing),B.begin=u.ensureUnit(B.begin,"ms"),B.dur=u.ensureUnit(B.dur,"ms"),pe&&(B.calcMode="spline",B.keySplines=pe.join(" "),B.keyTimes="0;1"),H&&(B.fill="freeze",V[z]=B.from,this.attr(V),ye=u.quantity(B.begin||0).value,B.begin="indefinite"),se=this.elem("animate",u.extend({attributeName:z},B)),H&&setTimeout(function(){try{se._node.beginElement()}catch{V[z]=B.to,this.attr(V),se.remove()}}.bind(this),ye),O&&se._node.addEventListener("beginEvent",function(){O.emit("animationBegin",{element:this,animate:se._node,params:B})}.bind(this)),se._node.addEventListener("endEvent",function(){O&&O.emit("animationEnd",{element:this,animate:se._node,params:B}),H&&(V[z]=B.to,this.attr(V),se.remove())}.bind(this))}y[z]instanceof Array?y[z].forEach(function(B){W.bind(this)(B,!1)}.bind(this)):W.bind(this)(y[z],Z)}.bind(this)),this}}),u.Svg.isSupported=function(y){return e.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#"+y,"1.1")},u.Svg.Easing={easeInSine:[.47,0,.745,.715],easeOutSine:[.39,.575,.565,1],easeInOutSine:[.445,.05,.55,.95],easeInQuad:[.55,.085,.68,.53],easeOutQuad:[.25,.46,.45,.94],easeInOutQuad:[.455,.03,.515,.955],easeInCubic:[.55,.055,.675,.19],easeOutCubic:[.215,.61,.355,1],easeInOutCubic:[.645,.045,.355,1],easeInQuart:[.895,.03,.685,.22],easeOutQuart:[.165,.84,.44,1],easeInOutQuart:[.77,0,.175,1],easeInQuint:[.755,.05,.855,.06],easeOutQuint:[.23,1,.32,1],easeInOutQuint:[.86,0,.07,1],easeInExpo:[.95,.05,.795,.035],easeOutExpo:[.19,1,.22,1],easeInOutExpo:[1,0,0,1],easeInCirc:[.6,.04,.98,.335],easeOutCirc:[.075,.82,.165,1],easeInOutCirc:[.785,.135,.15,.86],easeInBack:[.6,-.28,.735,.045],easeOutBack:[.175,.885,.32,1.275],easeInOutBack:[.68,-.55,.265,1.55]},u.Svg.List=u.Class.extend({constructor:function S(y){var Z=this;this.svgElements=[];for(var O=0;O<y.length;O++)this.svgElements.push(new u.Svg(y[O]));Object.keys(u.Svg.prototype).filter(function(Q){return-1===["constructor","parent","querySelector","querySelectorAll","replace","append","classes","height","width"].indexOf(Q)}).forEach(function(Q){Z[Q]=function(){var z=Array.prototype.slice.call(arguments,0);return Z.svgElements.forEach(function(W){u.Svg.prototype[Q].apply(W,z)}),Z}})}})}(this||global,A),function(r,u){"use strict";var e={m:["x","y"],l:["x","y"],c:["x1","y1","x2","y2","x","y"],a:["rx","ry","xAr","lAf","sf","x","y"]},D={accuracy:3};function p(M,U,F,Y,S,y){var Z=u.extend({command:S?M.toLowerCase():M.toUpperCase()},U,y?{data:y}:{});F.splice(Y,0,Z)}function g(M,U){M.forEach(function(F,Y){e[F.command.toLowerCase()].forEach(function(S,y){U(F,S,Y,y,M)})})}u.Svg.Path=u.Class.extend({constructor:function d(M,U){this.pathElements=[],this.pos=0,this.close=M,this.options=u.extend({},D,U)},position:function c(M){return void 0!==M?(this.pos=Math.max(0,Math.min(this.pathElements.length,M)),this):this.pos},remove:function l(M){return this.pathElements.splice(this.pos,M),this},move:function m(M,U,F,Y){return p("M",{x:+M,y:+U},this.pathElements,this.pos++,F,Y),this},line:function b(M,U,F,Y){return p("L",{x:+M,y:+U},this.pathElements,this.pos++,F,Y),this},curve:function h(M,U,F,Y,S,y,Z,O){return p("C",{x1:+M,y1:+U,x2:+F,y2:+Y,x:+S,y:+y},this.pathElements,this.pos++,Z,O),this},arc:function f(M,U,F,Y,S,y,Z,O,Q){return p("A",{rx:+M,ry:+U,xAr:+F,lAf:+Y,sf:+S,x:+y,y:+Z},this.pathElements,this.pos++,O,Q),this},scale:function w(M,U){return g(this.pathElements,function(F,Y){F[Y]*="x"===Y[0]?M:U}),this},translate:function C(M,U){return g(this.pathElements,function(F,Y){F[Y]+="x"===Y[0]?M:U}),this},transform:function T(M){return g(this.pathElements,function(U,F,Y,S,y){var Z=M(U,F,Y,S,y);(Z||0===Z)&&(U[F]=Z)}),this},parse:function x(M){var U=M.replace(/([A-Za-z])([0-9])/g,"$1 $2").replace(/([0-9])([A-Za-z])/g,"$1 $2").split(/[\s,]+/).reduce(function(S,y){return y.match(/[A-Za-z]/)&&S.push([]),S[S.length-1].push(y),S},[]);"Z"===U[U.length-1][0].toUpperCase()&&U.pop();var F=U.map(function(S){var y=S.shift(),Z=e[y.toLowerCase()];return u.extend({command:y},Z.reduce(function(O,Q,z){return O[Q]=+S[z],O},{}))}),Y=[this.pos,0];return Array.prototype.push.apply(Y,F),Array.prototype.splice.apply(this.pathElements,Y),this.pos+=F.length,this},stringify:function q(){var M=Math.pow(10,this.options.accuracy);return this.pathElements.reduce(function(U,F){var Y=e[F.command.toLowerCase()].map(function(S){return this.options.accuracy?Math.round(F[S]*M)/M:F[S]}.bind(this));return U+F.command+Y.join(",")}.bind(this),"")+(this.close?"Z":"")},clone:function P(M){var U=new u.Svg.Path(M||this.close);return U.pos=this.pos,U.pathElements=this.pathElements.slice().map(function(Y){return u.extend({},Y)}),U.options=u.extend({},this.options),U},splitByCommand:function L(M){var U=[new u.Svg.Path];return this.pathElements.forEach(function(F){F.command===M.toUpperCase()&&0!==U[U.length-1].pathElements.length&&U.push(new u.Svg.Path),U[U.length-1].pathElements.push(F)}),U}}),u.Svg.Path.elementDescriptions=e,u.Svg.Path.join=function J(M,U,F){for(var Y=new u.Svg.Path(U,F),S=0;S<M.length;S++)for(var y=M[S],Z=0;Z<y.pathElements.length;Z++)Y.pathElements.push(y.pathElements[Z]);return Y}}(this||global,A),function(r,u){"use strict";var p={x:{pos:"x",len:"width",dir:"horizontal",rectStart:"x1",rectEnd:"x2",rectOffset:"y2"},y:{pos:"y",len:"height",dir:"vertical",rectStart:"y2",rectEnd:"y1",rectOffset:"x1"}};u.Axis=u.Class.extend({constructor:function g(c,l,m,b){this.units=c,this.counterUnits=c===p.x?p.y:p.x,this.chartRect=l,this.axisLength=l[c.rectEnd]-l[c.rectStart],this.gridOffset=l[c.rectOffset],this.ticks=m,this.options=b},createGridAndLabels:function d(c,l,m,b,h){var f=b["axis"+this.units.pos.toUpperCase()],x=this.ticks.map(this.projectValue.bind(this)),q=this.ticks.map(f.labelInterpolationFnc);x.forEach(function(w,C){var P,T={x:0,y:0};P=x[C+1]?x[C+1]-w:Math.max(this.axisLength-w,30),(!u.isFalseyButZero(q[C])||""===q[C])&&("x"===this.units.pos?(w=this.chartRect.x1+w,T.x=b.axisX.labelOffset.x,T.y="start"===b.axisX.position?this.chartRect.padding.top+b.axisX.labelOffset.y+(m?5:20):this.chartRect.y1+b.axisX.labelOffset.y+(m?5:20)):(w=this.chartRect.y1-w,T.y=b.axisY.labelOffset.y-(m?P:0),T.x="start"===b.axisY.position?m?this.chartRect.padding.left+b.axisY.labelOffset.x:this.chartRect.x1-10:this.chartRect.x2+b.axisY.labelOffset.x+10),f.showGrid&&u.createGrid(w,C,this,this.gridOffset,this.chartRect[this.counterUnits.len](),c,[b.classNames.grid,b.classNames[this.units.dir]],h),f.showLabel&&u.createLabel(w,P,C,q,this,f.offset,T,l,[b.classNames.label,b.classNames[this.units.dir],"start"===f.position?b.classNames[f.position]:b.classNames.end],m,h))}.bind(this))},projectValue:function(c,l,m){throw new Error("Base axis can't be instantiated!")}}),u.Axis.units=p}(this||global,A),function(r,u){"use strict";u.AutoScaleAxis=u.Axis.extend({constructor:function p(d,c,l,m){var b=m.highLow||u.getHighLow(c,m,d.pos);this.bounds=u.getBounds(l[d.rectEnd]-l[d.rectStart],b,m.scaleMinSpace||20,m.onlyInteger),this.range={min:this.bounds.min,max:this.bounds.max},u.AutoScaleAxis.super.constructor.call(this,d,l,this.bounds.values,m)},projectValue:function g(d){return this.axisLength*(+u.getMultiValue(d,this.units.pos)-this.bounds.min)/this.bounds.range}})}(this||global,A),function(r,u){"use strict";u.FixedScaleAxis=u.Axis.extend({constructor:function p(d,c,l,m){var b=m.highLow||u.getHighLow(c,m,d.pos);this.divisor=m.divisor||1,this.ticks=m.ticks||u.times(this.divisor).map(function(h,f){return b.low+(b.high-b.low)/this.divisor*f}.bind(this)),this.ticks.sort(function(h,f){return h-f}),this.range={min:b.low,max:b.high},u.FixedScaleAxis.super.constructor.call(this,d,l,this.ticks,m),this.stepLength=this.axisLength/this.divisor},projectValue:function g(d){return this.axisLength*(+u.getMultiValue(d,this.units.pos)-this.range.min)/(this.range.max-this.range.min)}})}(this||global,A),function(r,u){"use strict";u.StepAxis=u.Axis.extend({constructor:function p(d,c,l,m){u.StepAxis.super.constructor.call(this,d,l,m.ticks,m);var b=Math.max(1,m.ticks.length-(m.stretch?1:0));this.stepLength=this.axisLength/b},projectValue:function g(d,c){return this.stepLength*c}})}(this||global,A),function(r,u){"use strict";var p={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:u.noop,type:void 0},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:u.noop,type:void 0,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,showLine:!0,showPoint:!0,showArea:!1,areaBase:0,lineSmooth:!0,showGridBackground:!1,low:void 0,high:void 0,chartPadding:{top:15,right:15,bottom:5,left:10},fullWidth:!1,reverseData:!1,classNames:{chart:"ct-chart-line",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",line:"ct-line",point:"ct-point",area:"ct-area",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};u.Line=u.Base.extend({constructor:function d(c,l,m,b){u.Line.super.constructor.call(this,c,l,p,u.extend({},p,m),b)},createChart:function g(c){var l=u.normalizeData(this.data,c.reverseData,!0);this.svg=u.createSvg(this.container,c.width,c.height,c.classNames.chart);var x,q,m=this.svg.elem("g").addClass(c.classNames.gridGroup),b=this.svg.elem("g"),h=this.svg.elem("g").addClass(c.classNames.labelGroup),f=u.createChartRect(this.svg,c,p.padding);x=void 0===c.axisX.type?new u.StepAxis(u.Axis.units.x,l.normalized.series,f,u.extend({},c.axisX,{ticks:l.normalized.labels,stretch:c.fullWidth})):c.axisX.type.call(u,u.Axis.units.x,l.normalized.series,f,c.axisX),q=void 0===c.axisY.type?new u.AutoScaleAxis(u.Axis.units.y,l.normalized.series,f,u.extend({},c.axisY,{high:u.isNumeric(c.high)?c.high:c.axisY.high,low:u.isNumeric(c.low)?c.low:c.axisY.low})):c.axisY.type.call(u,u.Axis.units.y,l.normalized.series,f,c.axisY),x.createGridAndLabels(m,h,this.supportsForeignObject,c,this.eventEmitter),q.createGridAndLabels(m,h,this.supportsForeignObject,c,this.eventEmitter),c.showGridBackground&&u.createGridBackground(m,f,c.classNames.gridBackground,this.eventEmitter),l.raw.series.forEach(function(w,C){var T=b.elem("g");T.attr({"ct:series-name":w.name,"ct:meta":u.serialize(w.meta)}),T.addClass([c.classNames.series,w.className||c.classNames.series+"-"+u.alphaNumerate(C)].join(" "));var P=[],L=[];l.normalized.series[C].forEach(function(y,Z){var O={x:f.x1+x.projectValue(y,Z,l.normalized.series[C]),y:f.y1-q.projectValue(y,Z,l.normalized.series[C])};P.push(O.x,O.y),L.push({value:y,valueIndex:Z,meta:u.getMetaData(w,Z)})}.bind(this));var J={lineSmooth:u.getSeriesOption(w,c,"lineSmooth"),showPoint:u.getSeriesOption(w,c,"showPoint"),showLine:u.getSeriesOption(w,c,"showLine"),showArea:u.getSeriesOption(w,c,"showArea"),areaBase:u.getSeriesOption(w,c,"areaBase")},U=("function"==typeof J.lineSmooth?J.lineSmooth:J.lineSmooth?u.Interpolation.monotoneCubic():u.Interpolation.none())(P,L);if(J.showPoint&&U.pathElements.forEach(function(y){var Z=T.elem("line",{x1:y.x,y1:y.y,x2:y.x+.01,y2:y.y},c.classNames.point).attr({"ct:value":[y.data.value.x,y.data.value.y].filter(u.isNumeric).join(","),"ct:meta":u.serialize(y.data.meta)});this.eventEmitter.emit("draw",{type:"point",value:y.data.value,index:y.data.valueIndex,meta:y.data.meta,series:w,seriesIndex:C,axisX:x,axisY:q,group:T,element:Z,x:y.x,y:y.y})}.bind(this)),J.showLine){var F=T.elem("path",{d:U.stringify()},c.classNames.line,!0);this.eventEmitter.emit("draw",{type:"line",values:l.normalized.series[C],path:U.clone(),chartRect:f,index:C,series:w,seriesIndex:C,seriesMeta:w.meta,axisX:x,axisY:q,group:T,element:F})}if(J.showArea&&q.range){var Y=Math.max(Math.min(J.areaBase,q.range.max),q.range.min),S=f.y1-q.projectValue(Y);U.splitByCommand("M").filter(function(Z){return Z.pathElements.length>1}).map(function(Z){var O=Z.pathElements[0],Q=Z.pathElements[Z.pathElements.length-1];return Z.clone(!0).position(0).remove(1).move(O.x,S).line(O.x,O.y).position(Z.pathElements.length+1).line(Q.x,S)}).forEach(function(Z){var O=T.elem("path",{d:Z.stringify()},c.classNames.area,!0);this.eventEmitter.emit("draw",{type:"area",values:l.normalized.series[C],path:Z.clone(),series:w,seriesIndex:C,axisX:x,axisY:q,chartRect:f,index:C,group:T,element:O})}.bind(this))}}.bind(this)),this.eventEmitter.emit("created",{bounds:q.bounds,chartRect:f,axisX:x,axisY:q,svg:this.svg,options:c})}})}(this||global,A),function(r,u){"use strict";var p={axisX:{offset:30,position:"end",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:u.noop,scaleMinSpace:30,onlyInteger:!1},axisY:{offset:40,position:"start",labelOffset:{x:0,y:0},showLabel:!0,showGrid:!0,labelInterpolationFnc:u.noop,scaleMinSpace:20,onlyInteger:!1},width:void 0,height:void 0,high:void 0,low:void 0,referenceValue:0,chartPadding:{top:15,right:15,bottom:5,left:10},seriesBarDistance:15,stackBars:!1,stackMode:"accumulate",horizontalBars:!1,distributeSeries:!1,reverseData:!1,showGridBackground:!1,classNames:{chart:"ct-chart-bar",horizontalBars:"ct-horizontal-bars",label:"ct-label",labelGroup:"ct-labels",series:"ct-series",bar:"ct-bar",grid:"ct-grid",gridGroup:"ct-grids",gridBackground:"ct-grid-background",vertical:"ct-vertical",horizontal:"ct-horizontal",start:"ct-start",end:"ct-end"}};u.Bar=u.Base.extend({constructor:function d(c,l,m,b){u.Bar.super.constructor.call(this,c,l,p,u.extend({},p,m),b)},createChart:function g(c){var l,m;c.distributeSeries?(l=u.normalizeData(this.data,c.reverseData,c.horizontalBars?"x":"y")).normalized.series=l.normalized.series.map(function(U){return[U]}):l=u.normalizeData(this.data,c.reverseData,c.horizontalBars?"x":"y"),this.svg=u.createSvg(this.container,c.width,c.height,c.classNames.chart+(c.horizontalBars?" "+c.classNames.horizontalBars:""));var b=this.svg.elem("g").addClass(c.classNames.gridGroup),h=this.svg.elem("g"),f=this.svg.elem("g").addClass(c.classNames.labelGroup);if(c.stackBars&&0!==l.normalized.series.length){var x=u.serialMap(l.normalized.series,function(){return Array.prototype.slice.call(arguments).map(function(F){return F}).reduce(function(F,Y){return{x:F.x+(Y&&Y.x)||0,y:F.y+(Y&&Y.y)||0}},{x:0,y:0})});m=u.getHighLow([x],c,c.horizontalBars?"x":"y")}else m=u.getHighLow(l.normalized.series,c,c.horizontalBars?"x":"y");m.high=+c.high||(0===c.high?0:m.high),m.low=+c.low||(0===c.low?0:m.low);var w,C,T,P,L,q=u.createChartRect(this.svg,c,p.padding);C=c.distributeSeries&&c.stackBars?l.normalized.labels.slice(0,1):l.normalized.labels,c.horizontalBars?(w=P=void 0===c.axisX.type?new u.AutoScaleAxis(u.Axis.units.x,l.normalized.series,q,u.extend({},c.axisX,{highLow:m,referenceValue:0})):c.axisX.type.call(u,u.Axis.units.x,l.normalized.series,q,u.extend({},c.axisX,{highLow:m,referenceValue:0})),T=L=void 0===c.axisY.type?new u.StepAxis(u.Axis.units.y,l.normalized.series,q,{ticks:C}):c.axisY.type.call(u,u.Axis.units.y,l.normalized.series,q,c.axisY)):(T=P=void 0===c.axisX.type?new u.StepAxis(u.Axis.units.x,l.normalized.series,q,{ticks:C}):c.axisX.type.call(u,u.Axis.units.x,l.normalized.series,q,c.axisX),w=L=void 0===c.axisY.type?new u.AutoScaleAxis(u.Axis.units.y,l.normalized.series,q,u.extend({},c.axisY,{highLow:m,referenceValue:0})):c.axisY.type.call(u,u.Axis.units.y,l.normalized.series,q,u.extend({},c.axisY,{highLow:m,referenceValue:0})));var J=c.horizontalBars?q.x1+w.projectValue(0):q.y1-w.projectValue(0),M=[];T.createGridAndLabels(b,f,this.supportsForeignObject,c,this.eventEmitter),w.createGridAndLabels(b,f,this.supportsForeignObject,c,this.eventEmitter),c.showGridBackground&&u.createGridBackground(b,q,c.classNames.gridBackground,this.eventEmitter),l.raw.series.forEach(function(U,F){var S,y,Y=F-(l.raw.series.length-1)/2;S=c.distributeSeries&&!c.stackBars?T.axisLength/l.normalized.series.length/2:c.distributeSeries&&c.stackBars?T.axisLength/2:T.axisLength/l.normalized.series[F].length/2,(y=h.elem("g")).attr({"ct:series-name":U.name,"ct:meta":u.serialize(U.meta)}),y.addClass([c.classNames.series,U.className||c.classNames.series+"-"+u.alphaNumerate(F)].join(" ")),l.normalized.series[F].forEach(function(Z,O){var Q,z,W,B;if(B=c.distributeSeries&&!c.stackBars?F:c.distributeSeries&&c.stackBars?0:O,Q=c.horizontalBars?{x:q.x1+w.projectValue(Z&&Z.x?Z.x:0,O,l.normalized.series[F]),y:q.y1-T.projectValue(Z&&Z.y?Z.y:0,B,l.normalized.series[F])}:{x:q.x1+T.projectValue(Z&&Z.x?Z.x:0,B,l.normalized.series[F]),y:q.y1-w.projectValue(Z&&Z.y?Z.y:0,O,l.normalized.series[F])},T instanceof u.StepAxis&&(T.options.stretch||(Q[T.units.pos]+=S*(c.horizontalBars?-1:1)),Q[T.units.pos]+=c.stackBars||c.distributeSeries?0:Y*c.seriesBarDistance*(c.horizontalBars?-1:1)),M[O]=(W=M[O]||J)-(J-Q[T.counterUnits.pos]),void 0!==Z){var H={};H[T.units.pos+"1"]=Q[T.units.pos],H[T.units.pos+"2"]=Q[T.units.pos],!c.stackBars||"accumulate"!==c.stackMode&&c.stackMode?(H[T.counterUnits.pos+"1"]=J,H[T.counterUnits.pos+"2"]=Q[T.counterUnits.pos]):(H[T.counterUnits.pos+"1"]=W,H[T.counterUnits.pos+"2"]=M[O]),H.x1=Math.min(Math.max(H.x1,q.x1),q.x2),H.x2=Math.min(Math.max(H.x2,q.x1),q.x2),H.y1=Math.min(Math.max(H.y1,q.y2),q.y1),H.y2=Math.min(Math.max(H.y2,q.y2),q.y1);var V=u.getMetaData(U,O);z=y.elem("line",H,c.classNames.bar).attr({"ct:value":[Z.x,Z.y].filter(u.isNumeric).join(","),"ct:meta":u.serialize(V)}),this.eventEmitter.emit("draw",u.extend({type:"bar",value:Z,index:O,meta:V,series:U,seriesIndex:F,axisX:P,axisY:L,chartRect:q,group:y,element:z},H))}}.bind(this))}.bind(this)),this.eventEmitter.emit("created",{bounds:w.bounds,chartRect:q,axisX:P,axisY:L,svg:this.svg,options:c})}})}(this||global,A),function(r,u){"use strict";var p={width:void 0,height:void 0,chartPadding:5,classNames:{chartPie:"ct-chart-pie",chartDonut:"ct-chart-donut",series:"ct-series",slicePie:"ct-slice-pie",sliceDonut:"ct-slice-donut",sliceDonutSolid:"ct-slice-donut-solid",label:"ct-label"},startAngle:0,total:void 0,donut:!1,donutSolid:!1,donutWidth:60,showLabel:!0,labelOffset:0,labelPosition:"inside",labelInterpolationFnc:u.noop,labelDirection:"neutral",reverseData:!1,ignoreEmptyValues:!1};function g(l,m,b){var h=m.x>l.x;return h&&"explode"===b||!h&&"implode"===b?"start":h&&"implode"===b||!h&&"explode"===b?"end":"middle"}u.Pie=u.Base.extend({constructor:function c(l,m,b,h){u.Pie.super.constructor.call(this,l,m,p,u.extend({},p,b),h)},createChart:function d(l){var h,f,x,q,w,m=u.normalizeData(this.data),b=[],C=l.startAngle;this.svg=u.createSvg(this.container,l.width,l.height,l.donut?l.classNames.chartDonut:l.classNames.chartPie),f=u.createChartRect(this.svg,l,p.padding),x=Math.min(f.width()/2,f.height()/2),w=l.total||m.normalized.series.reduce(function(J,M){return J+M},0);var T=u.quantity(l.donutWidth);"%"===T.unit&&(T.value*=x/100),x-=l.donut&&!l.donutSolid?T.value/2:0,q="outside"===l.labelPosition||l.donut&&!l.donutSolid?x:"center"===l.labelPosition?0:l.donutSolid?x-T.value/2:x/2,q+=l.labelOffset;var P={x:f.x1+f.width()/2,y:f.y2+f.height()/2},L=1===m.raw.series.filter(function(J){return J.hasOwnProperty("value")?0!==J.value:0!==J}).length;m.raw.series.forEach(function(J,M){b[M]=this.svg.elem("g",null,null)}.bind(this)),l.showLabel&&(h=this.svg.elem("g",null,null)),m.raw.series.forEach(function(J,M){if(0!==m.normalized.series[M]||!l.ignoreEmptyValues){b[M].attr({"ct:series-name":J.name}),b[M].addClass([l.classNames.series,J.className||l.classNames.series+"-"+u.alphaNumerate(M)].join(" "));var U=w>0?C+m.normalized.series[M]/w*360:0,F=Math.max(0,C-(0===M||L?0:.2));U-F>=359.99&&(U=F+359.99);var y,Z,O,Y=u.polarToCartesian(P.x,P.y,x,F),S=u.polarToCartesian(P.x,P.y,x,U),Q=new u.Svg.Path(!l.donut||l.donutSolid).move(S.x,S.y).arc(x,x,0,U-C>180,0,Y.x,Y.y);l.donut?l.donutSolid&&(y=u.polarToCartesian(P.x,P.y,O=x-T.value,C-(0===M||L?0:.2)),Z=u.polarToCartesian(P.x,P.y,O,U),Q.line(y.x,y.y),Q.arc(O,O,0,U-C>180,1,Z.x,Z.y)):Q.line(P.x,P.y);var z=l.classNames.slicePie;l.donut&&(z=l.classNames.sliceDonut,l.donutSolid&&(z=l.classNames.sliceDonutSolid));var W=b[M].elem("path",{d:Q.stringify()},z);if(W.attr({"ct:value":m.normalized.series[M],"ct:meta":u.serialize(J.meta)}),l.donut&&!l.donutSolid&&(W._node.style.strokeWidth=T.value+"px"),this.eventEmitter.emit("draw",{type:"slice",value:m.normalized.series[M],totalDataSum:w,index:M,meta:J.meta,series:J,group:b[M],element:W,path:Q.clone(),center:P,radius:x,startAngle:C,endAngle:U}),l.showLabel){var B,H;B=1===m.raw.series.length?{x:P.x,y:P.y}:u.polarToCartesian(P.x,P.y,q,C+(U-C)/2),H=m.normalized.labels&&!u.isFalseyButZero(m.normalized.labels[M])?m.normalized.labels[M]:m.normalized.series[M];var V=l.labelInterpolationFnc(H,M);if(V||0===V){var se=h.elem("text",{dx:B.x,dy:B.y,"text-anchor":g(P,B,l.labelDirection)},l.classNames.label).text(""+V);this.eventEmitter.emit("draw",{type:"label",index:M,group:h,element:se,text:""+V,x:B.x,y:B.y})}}C=U}}.bind(this)),this.eventEmitter.emit("created",{chartRect:f,svg:this.svg,options:l})},determineAnchorPosition:g})}(this||global,A),A}()}.apply(be,[]),void 0!==ue&&(Je.exports=ue)}}]);